(self.webpackChunkss_gallery=self.webpackChunkss_gallery||[]).push([[179],{8255:yt=>{function He(U){return Promise.resolve().then(()=>{var D=new Error("Cannot find module '"+U+"'");throw D.code="MODULE_NOT_FOUND",D})}He.keys=()=>[],He.resolve=He,He.id=8255,yt.exports=He},8583:(yt,He,U)=>{"use strict";U.d(He,{mr:()=>Xe,Ov:()=>D1,ez:()=>Ni,K0:()=>xe,Do:()=>Ie,V_:()=>Q,Ye:()=>mt,S$:()=>be,sg:()=>gr,O5:()=>Vr,b0:()=>Be,lw:()=>me,EM:()=>A2,JF:()=>rr,PM:()=>hi,w_:()=>le,bD:()=>is,q:()=>Le,Mx:()=>en,HT:()=>De});var D=U(3018);let T=null;function Le(){return T}function De(P){T||(T=P)}class le{}const xe=new D.OlP("DocumentToken");let me=(()=>{class P{historyGo(O){throw new Error("Not implemented")}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=(0,D.Yz7)({factory:ae,token:P,providedIn:"platform"}),P})();function ae(){return(0,D.LFG)(J)}const Q=new D.OlP("Location Initialized");let J=(()=>{class P extends me{constructor(O){super(),this._doc=O,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Le().getBaseHref(this._doc)}onPopState(O){const q=Le().getGlobalEventTarget(this._doc,"window");return q.addEventListener("popstate",O,!1),()=>q.removeEventListener("popstate",O)}onHashChange(O){const q=Le().getGlobalEventTarget(this._doc,"window");return q.addEventListener("hashchange",O,!1),()=>q.removeEventListener("hashchange",O)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(O){this.location.pathname=O}pushState(O,q,fe){ce()?this._history.pushState(O,q,fe):this.location.hash=fe}replaceState(O,q,fe){ce()?this._history.replaceState(O,q,fe):this.location.hash=fe}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return P.\u0275fac=function(O){return new(O||P)(D.LFG(xe))},P.\u0275prov=(0,D.Yz7)({factory:ee,token:P,providedIn:"platform"}),P})();function ce(){return!!window.history.pushState}function ee(){return new J((0,D.LFG)(xe))}function _e(P,G){if(0==P.length)return G;if(0==G.length)return P;let O=0;return P.endsWith("/")&&O++,G.startsWith("/")&&O++,2==O?P+G.substring(1):1==O?P+G:P+"/"+G}function je(P){const G=P.match(/#|\?|$/),O=G&&G.index||P.length;return P.slice(0,O-("/"===P[O-1]?1:0))+P.slice(O)}function ve(P){return P&&"?"!==P[0]?"?"+P:P}let be=(()=>{class P{historyGo(O){throw new Error("Not implemented")}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=(0,D.Yz7)({factory:Ce,token:P,providedIn:"root"}),P})();function Ce(P){const G=(0,D.LFG)(xe).location;return new Be((0,D.LFG)(me),G&&G.origin||"")}const Xe=new D.OlP("appBaseHref");let Be=(()=>{class P extends be{constructor(O,q){if(super(),this._platformLocation=O,this._removeListenerFns=[],null==q&&(q=this._platformLocation.getBaseHrefFromDOM()),null==q)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=q}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return _e(this._baseHref,O)}path(O=!1){const q=this._platformLocation.pathname+ve(this._platformLocation.search),fe=this._platformLocation.hash;return fe&&O?`${q}${fe}`:q}pushState(O,q,fe,ze){const nt=this.prepareExternalUrl(fe+ve(ze));this._platformLocation.pushState(O,q,nt)}replaceState(O,q,fe,ze){const nt=this.prepareExternalUrl(fe+ve(ze));this._platformLocation.replaceState(O,q,nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(O=0){var q,fe;null===(fe=(q=this._platformLocation).historyGo)||void 0===fe||fe.call(q,O)}}return P.\u0275fac=function(O){return new(O||P)(D.LFG(me),D.LFG(Xe,8))},P.\u0275prov=D.Yz7({token:P,factory:P.\u0275fac}),P})(),Ie=(()=>{class P extends be{constructor(O,q){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=q&&(this._baseHref=q)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let q=this._platformLocation.hash;return null==q&&(q="#"),q.length>0?q.substring(1):q}prepareExternalUrl(O){const q=_e(this._baseHref,O);return q.length>0?"#"+q:q}pushState(O,q,fe,ze){let nt=this.prepareExternalUrl(fe+ve(ze));0==nt.length&&(nt=this._platformLocation.pathname),this._platformLocation.pushState(O,q,nt)}replaceState(O,q,fe,ze){let nt=this.prepareExternalUrl(fe+ve(ze));0==nt.length&&(nt=this._platformLocation.pathname),this._platformLocation.replaceState(O,q,nt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(O=0){var q,fe;null===(fe=(q=this._platformLocation).historyGo)||void 0===fe||fe.call(q,O)}}return P.\u0275fac=function(O){return new(O||P)(D.LFG(me),D.LFG(Xe,8))},P.\u0275prov=D.Yz7({token:P,factory:P.\u0275fac}),P})(),mt=(()=>{class P{constructor(O,q){this._subject=new D.vpe,this._urlChangeListeners=[],this._platformStrategy=O;const fe=this._platformStrategy.getBaseHref();this._platformLocation=q,this._baseHref=je(Mt(fe)),this._platformStrategy.onPopState(ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:ze.state,type:ze.type})})}path(O=!1){return this.normalize(this._platformStrategy.path(O))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(O,q=""){return this.path()==this.normalize(O+ve(q))}normalize(O){return P.stripTrailingSlash(function(P,G){return P&&G.startsWith(P)?G.substring(P.length):G}(this._baseHref,Mt(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._platformStrategy.prepareExternalUrl(O)}go(O,q="",fe=null){this._platformStrategy.pushState(fe,"",O,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+ve(q)),fe)}replaceState(O,q="",fe=null){this._platformStrategy.replaceState(fe,"",O,q),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+ve(q)),fe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(O=0){var q,fe;null===(fe=(q=this._platformStrategy).historyGo)||void 0===fe||fe.call(q,O)}onUrlChange(O){this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(q=>{this._notifyUrlChangeListeners(q.url,q.state)}))}_notifyUrlChangeListeners(O="",q){this._urlChangeListeners.forEach(fe=>fe(O,q))}subscribe(O,q,fe){return this._subject.subscribe({next:O,error:q,complete:fe})}}return P.\u0275fac=function(O){return new(O||P)(D.LFG(be),D.LFG(me))},P.normalizeQueryParams=ve,P.joinWithSlash=_e,P.stripTrailingSlash=je,P.\u0275prov=(0,D.Yz7)({factory:ot,token:P,providedIn:"root"}),P})();function ot(){return new mt((0,D.LFG)(be),(0,D.LFG)(me))}function Mt(P){return P.replace(/\/index.html$/,"")}var Fe=(()=>((Fe=Fe||{})[Fe.Zero=0]="Zero",Fe[Fe.One=1]="One",Fe[Fe.Two=2]="Two",Fe[Fe.Few=3]="Few",Fe[Fe.Many=4]="Many",Fe[Fe.Other=5]="Other",Fe))();const Nn=D.kL8;class x1{}let mr=(()=>{class P extends x1{constructor(O){super(),this.locale=O}getPluralCategory(O,q){switch(Nn(q||this.locale)(O)){case Fe.Zero:return"zero";case Fe.One:return"one";case Fe.Two:return"two";case Fe.Few:return"few";case Fe.Many:return"many";default:return"other"}}}return P.\u0275fac=function(O){return new(O||P)(D.LFG(D.soG))},P.\u0275prov=D.Yz7({token:P,factory:P.\u0275fac}),P})();function en(P,G){G=encodeURIComponent(G);for(const O of P.split(";")){const q=O.indexOf("="),[fe,ze]=-1==q?[O,""]:[O.slice(0,q),O.slice(q+1)];if(fe.trim()===G)return decodeURIComponent(ze)}return null}class ci{constructor(G,O,q,fe){this.$implicit=G,this.ngForOf=O,this.index=q,this.count=fe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let gr=(()=>{class P{constructor(O,q,fe){this._viewContainer=O,this._template=q,this._differs=fe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;if(!this._differ&&O)try{this._differ=this._differs.find(O).create(this.ngForTrackBy)}catch(q){throw new Error(`Cannot find a differ supporting object '${O}' of type '${function(P){return P.name||typeof P}(O)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const q=[];O.forEachOperation((fe,ze,nt)=>{if(null==fe.previousIndex){const xt=this._viewContainer.createEmbeddedView(this._template,new ci(null,this._ngForOf,-1,-1),null===nt?void 0:nt),Ht=new O1(fe,xt);q.push(Ht)}else if(null==nt)this._viewContainer.remove(null===ze?void 0:ze);else if(null!==ze){const xt=this._viewContainer.get(ze);this._viewContainer.move(xt,nt);const Ht=new O1(fe,xt);q.push(Ht)}});for(let fe=0;fe<q.length;fe++)this._perViewChange(q[fe].view,q[fe].record);for(let fe=0,ze=this._viewContainer.length;fe<ze;fe++){const nt=this._viewContainer.get(fe);nt.context.index=fe,nt.context.count=ze,nt.context.ngForOf=this._ngForOf}O.forEachIdentityChange(fe=>{this._viewContainer.get(fe.currentIndex).context.$implicit=fe.item})}_perViewChange(O,q){O.context.$implicit=q.item}static ngTemplateContextGuard(O,q){return!0}}return P.\u0275fac=function(O){return new(O||P)(D.Y36(D.s_b),D.Y36(D.Rgc),D.Y36(D.ZZ4))},P.\u0275dir=D.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),P})();class O1{constructor(G,O){this.record=G,this.view=O}}let Vr=(()=>{class P{constructor(O,q){this._viewContainer=O,this._context=new T1,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=q}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){xn("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){xn("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,q){return!0}}return P.\u0275fac=function(O){return new(O||P)(D.Y36(D.s_b),D.Y36(D.Rgc))},P.\u0275dir=D.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),P})();class T1{constructor(){this.$implicit=null,this.ngIf=null}}function xn(P,G){if(G&&!G.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,D.AaK)(G)}'.`)}class X1{createSubscription(G,O){return G.subscribe({next:O,error:q=>{throw q}})}dispose(G){G.unsubscribe()}onDestroy(G){G.unsubscribe()}}class s2{createSubscription(G,O){return G.then(O,q=>{throw q})}dispose(G){}onDestroy(G){}}const Dr=new s2,er=new X1;let D1=(()=>{class P{constructor(O){this._ref=O,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(O){return this._obj?O!==this._obj?(this._dispose(),this.transform(O)):this._latestValue:(O&&this._subscribe(O),this._latestValue)}_subscribe(O){this._obj=O,this._strategy=this._selectStrategy(O),this._subscription=this._strategy.createSubscription(O,q=>this._updateLatestValue(O,q))}_selectStrategy(O){if((0,D.QGY)(O))return Dr;if((0,D.F4k)(O))return er;throw function(P,G){return Error(`InvalidPipeArgument: '${G}' for pipe '${(0,D.AaK)(P)}'`)}(P,O)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(O,q){O===this._obj&&(this._latestValue=q,this._ref.markForCheck())}}return P.\u0275fac=function(O){return new(O||P)(D.Y36(D.sBO,16))},P.\u0275pipe=D.Yjl({name:"async",type:P,pure:!1}),P})(),Ni=(()=>{class P{}return P.\u0275fac=function(O){return new(O||P)},P.\u0275mod=D.oAB({type:P}),P.\u0275inj=D.cJS({providers:[{provide:x1,useClass:mr}]}),P})();const is="browser";function hi(P){return"server"===P}let A2=(()=>{class P{}return P.\u0275prov=(0,D.Yz7)({token:P,providedIn:"root",factory:()=>new os((0,D.LFG)(xe),window)}),P})();class os{constructor(G,O){this.document=G,this.window=O,this.offset=()=>[0,0]}setOffset(G){this.offset=Array.isArray(G)?()=>G:G}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(G){this.supportsScrolling()&&this.window.scrollTo(G[0],G[1])}scrollToAnchor(G){if(!this.supportsScrolling())return;const O=function(P,G){const O=P.getElementById(G)||P.getElementsByName(G)[0];if(O)return O;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const q=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let fe=q.currentNode;for(;fe;){const ze=fe.shadowRoot;if(ze){const nt=ze.getElementById(G)||ze.querySelector(`[name="${G}"]`);if(nt)return nt}fe=q.nextNode()}}return null}(this.document,G);O&&(this.scrollToElement(O),this.attemptFocus(O))}setHistoryScrollRestoration(G){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=G)}}scrollToElement(G){const O=G.getBoundingClientRect(),q=O.left+this.window.pageXOffset,fe=O.top+this.window.pageYOffset,ze=this.offset();this.window.scrollTo(q-ze[0],fe-ze[1])}attemptFocus(G){return G.focus(),this.document.activeElement===G}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const G=S2(this.window.history)||S2(Object.getPrototypeOf(this.window.history));return!(!G||!G.writable&&!G.set)}catch(G){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(G){return!1}}}function S2(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class rr{}},3018:(yt,He,U)=>{"use strict";U.d(He,{deG:()=>Ft,tb:()=>gn,AFp:()=>ne,ip1:()=>N,CZH:()=>j,hGG:()=>oC,z2F:()=>Zh,sBO:()=>gd,Sil:()=>qh,_Vd:()=>Do,EJc:()=>ns,SBq:()=>da,qLn:()=>_o,vpe:()=>c4,gxx:()=>sa,tBr:()=>yi,XFs:()=>et,OlP:()=>I1,zs3:()=>n1,ZZ4:()=>Z0,aQg:()=>P5,soG:()=>jr,YKP:()=>ro,v3s:()=>H_,h0i:()=>Mi,PXZ:()=>z_,R0b:()=>zo,FiY:()=>Yr,Lbi:()=>Vt,g9A:()=>Wt,Qsj:()=>Bm,FYo:()=>L5,JOm:()=>Es,Tiy:()=>Yf,q3G:()=>K1,tp0:()=>u2,EAV:()=>j_,Rgc:()=>sl,dDg:()=>Ny,DyG:()=>gs,q4F:()=>z5,GfV:()=>Qf,s_b:()=>k5,ifc:()=>r1,eFA:()=>Py,G48:()=>A_,X6Q:()=>gv,_c5:()=>X_,VLi:()=>I_,c2e:()=>U2,zSh:()=>Za,wAp:()=>rn,vHH:()=>Be,EiD:()=>d3,mCW:()=>yo,qzn:()=>tt,JVY:()=>bn,pB0:()=>_i,eBb:()=>on,L6k:()=>F1,LAX:()=>Bi,cg1:()=>Uf,Tjo:()=>Q_,kL8:()=>N9,yhl:()=>It,dqk:()=>ge,sIi:()=>l6,CqO:()=>oc,QGY:()=>g6,F4k:()=>a5,RDi:()=>O,AaK:()=>ee,z3N:()=>Pe,qOj:()=>L0,TTD:()=>I2,xp6:()=>eu,uIk:()=>Yi,ekj:()=>B8,Suo:()=>zh,Xpm:()=>b2,lG2:()=>n2,Yz7:()=>Mn,cJS:()=>wn,oAB:()=>Q1,Yjl:()=>oi,Y36:()=>sc,_UZ:()=>s5,qZA:()=>D8,TgZ:()=>T8,EpF:()=>N8,n5z:()=>Dt,Ikx:()=>Ff,LFG:()=>R1,$8M:()=>t1,NdJ:()=>L8,CRH:()=>yl,oxw:()=>R8,ALo:()=>np,lcZ:()=>rp,Hsn:()=>g2,F$t:()=>m2,Q6J:()=>ua,iGM:()=>Lh,MAs:()=>C8,CHM:()=>K2,oJD:()=>m3,LSH:()=>K6,kYT:()=>d1,YNc:()=>aa,W1O:()=>i7,_uU:()=>q8,Oqu:()=>$0,hij:()=>w6});var D=U(9765),T=U(5319),Le=U(8891),re=U(6682),De=U(2441);var me=U(1307);function ae(){return new D.xQ}function J(i){for(let s in i)if(i[s]===J)return s;throw Error("Could not find renamed property on target object.")}function ce(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function ee(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(ee).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function _e(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const je=J({__forward_ref__:J});function ve(i){return i.__forward_ref__=ve,i.toString=function(){return ee(this())},i}function be(i){return Ce(i)?i():i}function Ce(i){return"function"==typeof i&&i.hasOwnProperty(je)&&i.__forward_ref__===ve}class Be extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function ot(i){return"string"==typeof i?i:null==i?"":String(i)}function Yt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ot(i)}function Fe(i,s){const o=s?` in ${s}`:"";throw new Be("201",`No provider for ${Yt(i)} found${o}`)}function Ct(i,s){null==i&&function(i,s,o,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${o} ${l} ${s} <=Actual]`))}(s,i,null,"!=")}function Mn(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function wn(i){return{providers:i.providers||[],imports:i.imports||[]}}function Nn(i){return Ln(i,Xt)||Ln(i,_2)}function Ln(i,s){return i.hasOwnProperty(s)?i[s]:null}function Qn(i){return i&&(i.hasOwnProperty(h1)||i.hasOwnProperty(Rt))?i[h1]:null}const Xt=J({\u0275prov:J}),h1=J({\u0275inj:J}),_2=J({ngInjectableDef:J}),Rt=J({ngInjectorDef:J});var et=(()=>((et=et||{})[et.Default=0]="Default",et[et.Host=1]="Host",et[et.Self=2]="Self",et[et.SkipSelf=4]="SkipSelf",et[et.Optional=8]="Optional",et))();let vn;function Zn(i){const s=vn;return vn=i,s}function dn(i,s,o){const l=Nn(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:o&et.Optional?null:void 0!==s?s:void Fe(ee(i),"Injector")}function Et(i){return{toString:i}.toString()}var y1=(()=>((y1=y1||{})[y1.OnPush=0]="OnPush",y1[y1.Default=1]="Default",y1))(),r1=(()=>((r1=r1||{})[r1.Emulated=0]="Emulated",r1[r1.None=2]="None",r1[r1.ShadowDom=3]="ShadowDom",r1))();const o1="undefined"!=typeof globalThis&&globalThis,Mr="undefined"!=typeof window&&window,ue="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,de="undefined"!=typeof global&&global,ge=o1||de||Mr||ue,ut={},pt=[],ln=J({\u0275cmp:J}),In=J({\u0275dir:J}),wt=J({\u0275pipe:J}),An=J({\u0275mod:J}),Bn=J({\u0275loc:J}),kn=J({\u0275fac:J}),ar=J({__NG_ELEMENT_ID__:J});let t2=0;function b2(i){return Et(()=>{const o={},l={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===y1.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||pt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||r1.Emulated,id:"c",styles:i.styles||pt,_:null,setInput:null,schemas:i.schemas||null,tView:null},f=i.directives,d=i.features,p=i.pipes;return l.id+=t2++,l.inputs=Lt(i.inputs,o),l.outputs=Lt(i.outputs),d&&d.forEach(y=>y(l)),l.directiveDefs=f?()=>("function"==typeof f?f():f).map(_1):null,l.pipeDefs=p?()=>("function"==typeof p?p():p).map($r):null,l})}function _1(i){return Rn(i)||function(i){return i[In]||null}(i)}function $r(i){return function(i){return i[wt]||null}(i)}const Si={};function Q1(i){return Et(()=>{const s={type:i.type,bootstrap:i.bootstrap||pt,declarations:i.declarations||pt,imports:i.imports||pt,exports:i.exports||pt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(Si[i.id]=i.type),s})}function d1(i,s){return Et(()=>{const o=J1(i,!0);o.declarations=s.declarations||pt,o.imports=s.imports||pt,o.exports=s.exports||pt})}function Lt(i,s){if(null==i)return ut;const o={};for(const l in i)if(i.hasOwnProperty(l)){let f=i[l],d=f;Array.isArray(f)&&(d=f[1],f=f[0]),o[f]=l,s&&(s[f]=d)}return o}const n2=b2;function oi(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Rn(i){return i[ln]||null}function J1(i,s){const o=i[An]||null;if(!o&&!0===s)throw new Error(`Type ${ee(i)} does not have '\u0275mod' property.`);return o}function vr(i){return Array.isArray(i)&&"object"==typeof i[1]}function Kn(i){return Array.isArray(i)&&!0===i[1]}function X1(i){return 0!=(8&i.flags)}function s2(i){return 2==(2&i.flags)}function Dr(i){return 1==(1&i.flags)}function er(i){return null!==i.template}function D1(i){return 0!=(512&i[2])}function Nr(i,s){return i.hasOwnProperty(kn)?i[kn]:null}class Li{constructor(s,o,l){this.previousValue=s,this.currentValue=o,this.firstChange=l}isFirstChange(){return this.firstChange}}function I2(){return hi}function hi(i){return i.type.prototype.ngOnChanges&&(i.setInput=q2),lr}function lr(){const i=A2(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===ut)i.previous=s;else for(let l in s)o[l]=s[l];i.current=null,this.ngOnChanges(s)}}function q2(i,s,o,l){const f=A2(i)||function(i,s){return i[nr]=s}(i,{previous:ut,current:null}),d=f.current||(f.current={}),p=f.previous,y=this.declaredInputs[o],I=p[y];d[y]=new Li(I&&I.currentValue,s,p===ut),i[l]=s}I2.ngInherit=!0;const nr="__ngSimpleChanges__";function A2(i){return i[nr]||null}let G;function O(i){G=i}function q(){return void 0!==G?G:"undefined"!=typeof document?document:void 0}function ze(i){return!!i.listen}const xt={createRenderer:(i,s)=>q()};function Bt(i){for(;Array.isArray(i);)i=i[0];return i}function Un(i,s){return Bt(s[i])}function an(i,s){return Bt(s[i.index])}function qr(i,s){return i.data[s]}function w1(i,s){return i[s]}function i1(i,s){const o=s[i];return vr(o)?o:o[0]}function Lr(i){return 4==(4&i[2])}function H1(i){return 128==(128&i[2])}function L1(i,s){return null==s?null:i[s]}function as(i){i[18]=0}function Vs(i,s){i[5]+=s;let o=i,l=i[3];for(;null!==l&&(1===s&&1===o[5]||-1===s&&0===o[5]);)l[5]+=s,o=l,l=l[3]}const qt={lFrame:Y2(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Z2(){return qt.bindingsEnabled}function Qe(){return qt.lFrame.lView}function yn(){return qt.lFrame.tView}function K2(i){return qt.lFrame.contextLView=i,i[8]}function E1(){let i=zi();for(;null!==i&&64===i.type;)i=i.parent;return i}function zi(){return qt.lFrame.currentTNode}function z(i,s){const o=qt.lFrame;o.currentTNode=i,o.isParent=s}function Z(){return qt.lFrame.isParent}function ie(){qt.lFrame.isParent=!1}function Je(){return qt.isInCheckNoChangesMode}function $t(i){qt.isInCheckNoChangesMode=i}function jt(){return qt.lFrame.bindingIndex++}function Or(i,s){const o=qt.lFrame;o.bindingIndex=o.bindingRootIndex=i,kr(s)}function kr(i){qt.lFrame.currentDirectiveIndex=i}function yr(){return qt.lFrame.currentQueryIndex}function l1(i){qt.lFrame.currentQueryIndex=i}function di(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function _r(i,s,o){if(o&et.SkipSelf){let f=s,d=i;for(;!(f=f.parent,null!==f||o&et.Host||(f=di(d),null===f||(d=d[15],10&f.type))););if(null===f)return!1;s=f,i=d}const l=qt.lFrame=ls();return l.currentTNode=s,l.lView=i,!0}function Ri(i){const s=ls(),o=i[1];qt.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function ls(){const i=qt.lFrame,s=null===i?null:i.child;return null===s?Y2(i):s}function Y2(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function a2(){const i=qt.lFrame;return qt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const us=a2;function ks(){const i=a2();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function G1(){return qt.lFrame.selectedIndex}function Hr(i){qt.lFrame.selectedIndex=i}function u1(){const i=qt.lFrame;return qr(i.tView,i.selectedIndex)}function Vi(i,s){for(let o=s.directiveStart,l=s.directiveEnd;o<l;o++){const d=i.data[o].type.prototype,{ngAfterContentInit:p,ngAfterContentChecked:y,ngAfterViewInit:I,ngAfterViewChecked:L,ngOnDestroy:F}=d;p&&(i.contentHooks||(i.contentHooks=[])).push(-o,p),y&&((i.contentHooks||(i.contentHooks=[])).push(o,y),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,y)),I&&(i.viewHooks||(i.viewHooks=[])).push(-o,I),L&&((i.viewHooks||(i.viewHooks=[])).push(o,L),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,L)),null!=F&&(i.destroyHooks||(i.destroyHooks=[])).push(o,F)}}function Pi(i,s,o){x2(i,s,3,o)}function W1(i,s,o,l){(3&i[2])===o&&x2(i,s,o,l)}function Oo(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function x2(i,s,o,l){const d=null!=l?l:-1,p=s.length-1;let y=0;for(let I=void 0!==l?65535&i[18]:0;I<p;I++)if("number"==typeof s[I+1]){if(y=s[I],null!=l&&y>=l)break}else s[I]<0&&(i[18]+=65536),(y<d||-1==d)&&(ya(i,o,s,I),i[18]=(4294901760&i[18])+I+2),I++}function ya(i,s,o,l){const f=o[l]<0,d=o[l+1],y=i[f?-o[l]:o[l]];if(f){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{d.call(y)}finally{}}}else try{d.call(y)}finally{}}class T2{constructor(s,o,l){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=l}}function pi(i,s,o){const l=ze(i);let f=0;for(;f<o.length;){const d=o[f];if("number"==typeof d){if(0!==d)break;f++;const p=o[f++],y=o[f++],I=o[f++];l?i.setAttribute(s,y,I,p):s.setAttributeNS(p,y,I)}else{const p=d,y=o[++f];D2(p)?l&&i.setProperty(s,p,y):l?i.setAttribute(s,p,y):s.setAttribute(p,y),f++}}return f}function _4(i){return 3===i||4===i||6===i}function D2(i){return 64===i.charCodeAt(0)}function hs(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let l=0;l<s.length;l++){const f=s[l];"number"==typeof f?o=f:0===o||Hs(i,o,f,null,-1===o||2===o?s[++l]:null)}}return i}function Hs(i,s,o,l,f){let d=0,p=i.length;if(-1===s)p=-1;else for(;d<i.length;){const y=i[d++];if("number"==typeof y){if(y===s){p=-1;break}if(y>s){p=d-1;break}}}for(;d<i.length;){const y=i[d];if("number"==typeof y)break;if(y===o){if(null===l)return void(null!==f&&(i[d+1]=f));if(l===i[d+1])return void(i[d+2]=f)}d++,null!==l&&d++,null!==f&&d++}-1!==p&&(i.splice(p,0,s),d=p+1),i.splice(d++,0,o),null!==l&&i.splice(d++,0,l),null!==f&&i.splice(d++,0,f)}function ds(i){return-1!==i}function N2(i){return 32767&i}function lo(i,s){let o=function(i){return i>>16}(i),l=s;for(;o>0;)l=l[15],o--;return l}let Q2=!0;function Cr(i){const s=Q2;return Q2=i,s}let Ho=0;function ft(i,s){const o=Hi(i,s);if(-1!==o)return o;const l=s[1];l.firstCreatePass&&(i.injectorIndex=s.length,z1(l.data,i),z1(s,null),z1(l.blueprint,null));const f=Fs(i,s),d=i.injectorIndex;if(ds(f)){const p=N2(f),y=lo(f,s),I=y[1].data;for(let L=0;L<8;L++)s[d+L]=y[p+L]|I[p+L]}return s[d+8]=f,d}function z1(i,s){i.push(0,0,0,0,0,0,0,0,s)}function Hi(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Fs(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,l=null,f=s;for(;null!==f;){const d=f[1],p=d.type;if(l=2===p?d.declTNode:1===p?f[6]:null,null===l)return-1;if(o++,f=f[15],-1!==l.injectorIndex)return l.injectorIndex|o<<16}return-1}function zt(i,s,o){!function(i,s,o){let l;"string"==typeof o?l=o.charCodeAt(0)||0:o.hasOwnProperty(ar)&&(l=o[ar]),null==l&&(l=o[ar]=Ho++);const f=255&l;s.data[i+(f>>5)]|=1<<f}(i,s,o)}function C(i,s,o){if(o&et.Optional)return i;Fe(s,"NodeInjector")}function b(i,s,o,l){if(o&et.Optional&&void 0===l&&(l=null),0==(o&(et.Self|et.Host))){const f=i[9],d=Zn(void 0);try{return f?f.get(s,l,o&et.Optional):dn(s,l,o&et.Optional)}finally{Zn(d)}}return C(l,s,o)}function R(i,s,o,l=et.Default,f){if(null!==i){const d=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(ar)?i[ar]:void 0;return"number"==typeof s?s>=0?255&s:W:s}(o);if("function"==typeof d){if(!_r(s,i,l))return l&et.Host?C(f,o,l):b(s,o,l,f);try{const p=d(l);if(null!=p||l&et.Optional)return p;Fe(o)}finally{us()}}else if("number"==typeof d){let p=null,y=Hi(i,s),I=-1,L=l&et.Host?s[16][6]:null;for((-1===y||l&et.SkipSelf)&&(I=-1===y?Fs(i,s):s[y+8],-1!==I&&pn(l,!1)?(p=s[1],y=N2(I),s=lo(I,s)):y=-1);-1!==y;){const F=s[1];if(Ot(d,y,F.data)){const K=se(y,s,o,p,l,L);if(K!==k)return K}I=s[y+8],-1!==I&&pn(l,s[1].data[y+8]===L)&&Ot(d,y,s)?(p=F,y=N2(I),s=lo(I,s)):y=-1}}}return b(s,o,l,f)}const k={};function W(){return new Tn(E1(),Qe())}function se(i,s,o,l,f,d){const p=s[1],y=p.data[i+8],F=pe(y,p,o,null==l?s2(y)&&Q2:l!=p&&0!=(3&y.type),f&et.Host&&d===y);return null!==F?Re(s,p,F,y):k}function pe(i,s,o,l,f){const d=i.providerIndexes,p=s.data,y=1048575&d,I=i.directiveStart,F=d>>20,Y=f?y+F:i.directiveEnd;for(let he=l?y:y+F;he<Y;he++){const Me=p[he];if(he<I&&o===Me||he>=I&&Me.type===o)return he}if(f){const he=p[I];if(he&&er(he)&&he.type===o)return I}return null}function Re(i,s,o,l){let f=i[o];const d=s.data;if(function(i){return i instanceof T2}(f)){const p=f;p.resolving&&function(i,s){throw new Be("200",`Circular dependency in DI detected for ${i}`)}(Yt(d[o]));const y=Cr(p.canSeeViewProviders);p.resolving=!0;const I=p.injectImpl?Zn(p.injectImpl):null;_r(i,l,et.Default);try{f=i[o]=p.factory(void 0,d,i,l),s.firstCreatePass&&o>=l.directiveStart&&function(i,s,o){const{ngOnChanges:l,ngOnInit:f,ngDoCheck:d}=s.type.prototype;if(l){const p=hi(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,p),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,p)}f&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,f),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,d))}(o,d[o],s)}finally{null!==I&&Zn(I),Cr(y),p.resolving=!1,us()}}return f}function Ot(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function pn(i,s){return!(i&et.Self||i&et.Host&&s)}class Tn{constructor(s,o){this._tNode=s,this._lView=o}get(s,o){return R(this._tNode,this._lView,s,void 0,o)}}function Dt(i){return Et(()=>{const s=i.prototype.constructor,o=s[kn]||z2(s),l=Object.prototype;let f=Object.getPrototypeOf(i.prototype).constructor;for(;f&&f!==l;){const d=f[kn]||z2(f);if(d&&d!==o)return d;f=Object.getPrototypeOf(f)}return d=>new d})}function z2(i){return Ce(i)?()=>{const s=z2(be(i));return s&&s()}:Nr(i)}function t1(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const l=o.length;let f=0;for(;f<l;){const d=o[f];if(_4(d))break;if(0===d)f+=2;else if("number"==typeof d)for(f++;f<l&&"string"==typeof o[f];)f++;else{if(d===s)return o[f+1];f+=2}}}return null}(E1(),i)}const Jn="__parameters__";function J2(i,s,o){return Et(()=>{const l=function(i){return function(...o){if(i){const l=i(...o);for(const f in l)this[f]=l[f]}}}(s);function f(...d){if(this instanceof f)return l.apply(this,d),this;const p=new f(...d);return y.annotation=p,y;function y(I,L,F){const K=I.hasOwnProperty(Jn)?I[Jn]:Object.defineProperty(I,Jn,{value:[]})[Jn];for(;K.length<=F;)K.push(null);return(K[F]=K[F]||[]).push(p),I}}return o&&(f.prototype=Object.create(o.prototype)),f.prototype.ngMetadataName=i,f.annotationCls=f,f})}class I1{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Mn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ft=new I1("AnalyzeForEntryComponents"),gs=Function;function X2(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let l=i[o];Array.isArray(l)?(s===i&&(s=i.slice(0,o)),X2(l,s)):s!==i&&s.push(l)}return s}function V2(i,s){i.forEach(o=>Array.isArray(o)?V2(o,s):s(o))}function Fi(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function vs(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function mi(i,s){const o=[];for(let l=0;l<i;l++)o.push(s);return o}function l2(i,s,o){let l=Uo(i,s);return l>=0?i[1|l]=o:(l=~l,function(i,s,o,l){let f=i.length;if(f==s)i.push(o,l);else if(1===f)i.push(l,i[0]),i[0]=o;else{for(f--,i.push(i[f-1],i[f]);f>s;)i[f]=i[f-2],f--;i[s]=o,i[s+1]=l}}(i,l,s,o)),l}function Ea(i,s){const o=Uo(i,s);if(o>=0)return i[1|o]}function Uo(i,s){return function(i,s,o){let l=0,f=i.length>>o;for(;f!==l;){const d=l+(f-l>>1),p=i[d<<o];if(s===p)return d<<o;p>s?f=d:l=d+1}return~(f<<o)}(i,s,1)}const Gs={},Ws="__NG_DI_FLAG__",qs="ngTempTokenPath",B6=/\n/gm,P2="__source",ho=J({provide:String,useValue:J});let $o;function Zs(i){const s=$o;return $o=i,s}function Aa(i,s=et.Default){if(void 0===$o)throw new Error("inject() must be called from an injection context");return null===$o?dn(i,void 0,s):$o.get(i,s&et.Optional?null:void 0,s)}function R1(i,s=et.Default){return(vn||Aa)(be(i),s)}function vi(i){const s=[];for(let o=0;o<i.length;o++){const l=be(i[o]);if(Array.isArray(l)){if(0===l.length)throw new Error("Arguments array must have arguments.");let f,d=et.Default;for(let p=0;p<l.length;p++){const y=l[p],I=I4(y);"number"==typeof I?-1===I?f=y.token:d|=I:f=y}s.push(R1(f,d))}else s.push(R1(l))}return s}function Go(i,s){return i[Ws]=s,i.prototype[Ws]=s,i}function I4(i){return i[Ws]}function $6(i,s,o,l){const f=i[qs];throw s[P2]&&f.unshift(s[P2]),i.message=function(i,s,o,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let f=ee(s);if(Array.isArray(s))f=s.map(ee).join(" -> ");else if("object"==typeof s){let d=[];for(let p in s)if(s.hasOwnProperty(p)){let y=s[p];d.push(p+":"+("string"==typeof y?JSON.stringify(y):ee(y)))}f=`{${d.join(", ")}}`}return`${o}${l?"("+l+")":""}[${f}]: ${i.replace(B6,"\n  ")}`}("\n"+i.message,f,o,l),i.ngTokenPath=f,i[qs]=null,i}const yi=Go(J2("Inject",i=>({token:i})),-1),Yr=Go(J2("Optional"),8),u2=Go(J2("SkipSelf"),4);let Da,g1;function go(i){var s;return(null===(s=function(){if(void 0===Da&&(Da=null,ge.trustedTypes))try{Da=ge.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Da}())||void 0===s?void 0:s.createHTML(i))||i}function Na(i){var s;return(null===(s=function(){if(void 0===g1&&(g1=null,ge.trustedTypes))try{g1=ge.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return g1}())||void 0===s?void 0:s.createHTML(i))||i}class E{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class m extends E{getTypeName(){return"HTML"}}class v extends E{getTypeName(){return"Style"}}class x extends E{getTypeName(){return"Script"}}class $ extends E{getTypeName(){return"URL"}}class te extends E{getTypeName(){return"ResourceURL"}}function Pe(i){return i instanceof E?i.changingThisBreaksApplicationSecurity:i}function tt(i,s){const o=It(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function It(i){return i instanceof E&&i.getTypeName()||null}function bn(i){return new m(i)}function F1(i){return new v(i)}function on(i){return new x(i)}function Bi(i){return new $(i)}function _i(i){return new te(i)}class qo{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(go(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Zo{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const l=this.inertDocument.createElement("body");o.appendChild(l)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=go(s),o;const l=this.inertDocument.createElement("body");return l.innerHTML=go(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(l),l}stripCustomNsAttrs(s){const o=s.attributes;for(let f=o.length-1;0<f;f--){const p=o.item(f).name;("xmlns:ns1"===p||0===p.indexOf("ns1:"))&&s.removeAttribute(p)}let l=s.firstChild;for(;l;)l.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(l),l=l.nextSibling}}const Ac=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,q6=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function yo(i){return(i=String(i)).match(Ac)||i.match(q6)?i:"unsafe:"+i}function Ci(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function za(...i){const s={};for(const o of i)for(const l in o)o.hasOwnProperty(l)&&(s[l]=!0);return s}const D4=Ci("area,br,col,hr,img,wbr"),Ko=Ci("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),h3=Ci("rp,rt"),Z6=za(D4,za(Ko,Ci("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),za(h3,Ci("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),za(h3,Ko)),Ra=Ci("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ji=Ci("srcset"),N4=za(Ra,ji,Ci("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ci("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Tl=Ci("script,style,template");class Dl{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,l=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?l=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,l&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let f=this.checkClobberedElement(o,o.nextSibling);if(f){o=f;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!Z6.hasOwnProperty(o))return this.sanitizedSomething=!0,!Tl.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const l=s.attributes;for(let f=0;f<l.length;f++){const d=l.item(f),p=d.name,y=p.toLowerCase();if(!N4.hasOwnProperty(y)){this.sanitizedSomething=!0;continue}let I=d.value;Ra[y]&&(I=yo(I)),ji[y]&&(i=I,I=(i=String(i)).split(",").map(s=>yo(s.trim())).join(", ")),this.buf.push(" ",p,'="',Ll(I),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();Z6.hasOwnProperty(o)&&!D4.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(Ll(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const Nl=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y7=/([^\#-~ |!])/g;function Ll(i){return i.replace(/&/g,"&amp;").replace(Nl,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(y7,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Va;function d3(i,s){let o=null;try{Va=Va||function(i){const s=new Zo(i);return function(){try{return!!(new window.DOMParser).parseFromString(go(""),"text/html")}catch(i){return!1}}()?new qo(s):s}(i);let l=s?String(s):"";o=Va.getInertBodyElement(l);let f=5,d=l;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,l=d,d=o.innerHTML,o=Va.getInertBodyElement(l)}while(l!==d);return go((new Dl).sanitizeChildren(p3(o)||o))}finally{if(o){const l=p3(o)||o;for(;l.firstChild;)l.removeChild(l.firstChild)}}}function p3(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var K1=(()=>((K1=K1||{})[K1.NONE=0]="NONE",K1[K1.HTML=1]="HTML",K1[K1.STYLE=2]="STYLE",K1[K1.SCRIPT=3]="SCRIPT",K1[K1.URL=4]="URL",K1[K1.RESOURCE_URL=5]="RESOURCE_URL",K1))();function m3(i){const s=xc();return s?Na(s.sanitize(K1.HTML,i)||""):tt(i,"HTML")?Na(Pe(i)):d3(q(),ot(i))}function K6(i){const s=xc();return s?s.sanitize(K1.URL,i)||"":tt(i,"URL")?Pe(i):yo(ot(i))}function xc(){const i=Qe();return i&&i[12]}const v3="__ngContext__";function U1(i,s){i[v3]=s}function O2(i){const s=function(i){return i[v3]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function Dc(i){return i.ngOriginalError}function rt(i,...s){i.error(...s)}class _o{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),l=this._findContext(s),f=(i=s)&&i.ngErrorLogger||rt;var i;f(this._console,"ERROR",s),o&&f(this._console,"ORIGINAL ERROR",o),l&&f(this._console,"ERROR CONTEXT",l)}_findContext(s){return s?s.ngDebugContext||this._findContext(Dc(s)):null}_findOriginalError(s){let o=s&&Dc(s);for(;o&&Dc(o);)o=Dc(o);return o||null}}const Co=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(ge))();function ws(i){return i instanceof Function?i():i}var Es=(()=>((Es=Es||{})[Es.Important=1]="Important",Es[Es.DashCase=2]="DashCase",Es))();function C3(i,s){return undefined(i,s)}function Vc(i){const s=i[3];return Kn(s)?s[3]:s}function e0(i){return k2(i[13])}function t0(i){return k2(i[4])}function k2(i){for(;null!==i&&!Kn(i);)i=i[4];return i}function bo(i,s,o,l,f){if(null!=l){let d,p=!1;Kn(l)?d=l:vr(l)&&(p=!0,l=l[0]);const y=Bt(l);0===i&&null!==o?null==f?I3(s,o,y):$i(s,o,y,f||null,!0):1===i&&null!==o?$i(s,o,y,f||null,!0):2===i?function(i,s,o){const l=Hc(i,s);l&&function(i,s,o,l){ze(i)?i.removeChild(s,o,l):s.removeChild(o)}(i,l,s,o)}(s,y,p):3===i&&s.destroyNode(y),null!=d&&function(i,s,o,l,f){const d=o[7];d!==Bt(o)&&bo(s,i,l,d,f);for(let y=10;y<o.length;y++){const I=o[y];P4(I[1],I,i,s,l,d)}}(s,i,d,o,f)}}function ea(i,s,o){return ze(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function na(i,s){const o=i[9],l=o.indexOf(s),f=s[3];1024&s[2]&&(s[2]&=-1025,Vs(f,-1)),o.splice(l,1)}function Oc(i,s){if(i.length<=10)return;const o=10+s,l=i[o];if(l){const f=l[17];null!==f&&f!==i&&na(f,l),s>0&&(i[o-1][4]=l[4]);const d=vs(i,10+s);!function(i,s){P4(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(l[1],l);const p=d[19];null!==p&&p.detachView(d[1]),l[3]=null,l[4]=null,l[2]&=-129}return l}function E3(i,s){if(!(256&s[2])){const o=s[11];ze(o)&&o.destroyNode&&P4(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return M3(i[1],i);for(;s;){let o=null;if(vr(s))o=s[13];else{const l=s[10];l&&(o=l)}if(!o){for(;s&&!s[4]&&s!==i;)vr(s)&&M3(s[1],s),s=s[3];null===s&&(s=i),vr(s)&&M3(s[1],s),o=s&&s[4]}s=o}}(s)}}function M3(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let l=0;l<o.length;l+=2){const f=s[o[l]];if(!(f instanceof T2)){const d=o[l+1];if(Array.isArray(d))for(let p=0;p<d.length;p+=2){const y=f[d[p]],I=d[p+1];try{I.call(y)}finally{}}else try{d.call(f)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,l=s[7];let f=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const p=o[d+1],y="function"==typeof p?p(s):Bt(s[p]),I=l[f=o[d+2]],L=o[d+3];"boolean"==typeof L?y.removeEventListener(o[d],I,L):L>=0?l[f=L]():l[f=-L].unsubscribe(),d+=2}else{const p=l[f=o[d+1]];o[d].call(p)}if(null!==l){for(let d=f+1;d<l.length;d++)l[d]();s[7]=null}}(i,s),1===s[1].type&&ze(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&Kn(s[3])){o!==s[3]&&na(o,s);const l=s[19];null!==l&&l.detachView(i)}}}function Gl(i,s,o){return function(i,s,o){let l=s;for(;null!==l&&40&l.type;)l=(s=l).parent;if(null===l)return o[0];if(2&l.flags){const f=i.data[l.directiveStart].encapsulation;if(f===r1.None||f===r1.Emulated)return null}return an(l,o)}(i,s.parent,o)}function $i(i,s,o,l,f){ze(i)?i.insertBefore(s,o,l,f):s.insertBefore(o,l,f)}function I3(i,s,o){ze(i)?i.appendChild(s,o):s.appendChild(o)}function Wl(i,s,o,l,f){null!==l?$i(i,s,o,l,f):I3(i,s,o)}function Hc(i,s){return ze(i)?i.parentNode(s):s.parentNode}function Fc(i,s,o){return A3(i,s,o)}let A3=function(i,s,o){return 40&i.type?an(i,o):null};function ia(i,s,o,l){const f=Gl(i,l,s),d=s[11],y=Fc(l.parent||s[6],l,s);if(null!=f)if(Array.isArray(o))for(let I=0;I<o.length;I++)Wl(d,f,o[I],y,!1);else Wl(d,f,o,y,!1)}function Fa(i,s){if(null!==s){const o=s.type;if(3&o)return an(s,i);if(4&o)return S3(-1,i[s.index]);if(8&o){const l=s.child;if(null!==l)return Fa(i,l);{const f=i[s.index];return Kn(f)?S3(-1,f):Bt(f)}}if(32&o)return C3(s,i)()||Bt(i[s.index]);{const l=r0(i,s);return null!==l?Array.isArray(l)?l[0]:Fa(Vc(i[16]),l):Fa(i,s.next)}}return null}function r0(i,s){return null!==s?i[16][6].projection[s.projection]:null}function S3(i,s){const o=10+i+1;if(o<s.length){const l=s[o],f=l[1].firstChild;if(null!==f)return Fa(l,f)}return s[7]}function Bc(i,s,o,l,f,d,p){for(;null!=o;){const y=l[o.index],I=o.type;if(p&&0===s&&(y&&U1(Bt(y),l),o.flags|=4),64!=(64&o.flags))if(8&I)Bc(i,s,o.child,l,f,d,!1),bo(s,i,f,y,d);else if(32&I){const L=C3(o,l);let F;for(;F=L();)bo(s,i,f,F,d);bo(s,i,f,y,d)}else 16&I?T3(i,s,l,o,f,d):bo(s,i,f,y,d);o=p?o.projectionNext:o.next}}function P4(i,s,o,l,f,d){Bc(o,l,i.firstChild,s,f,d,!1)}function T3(i,s,o,l,f,d){const p=o[16],I=p[6].projection[l.projection];if(Array.isArray(I))for(let L=0;L<I.length;L++)bo(s,i,f,I[L],d);else Bc(i,s,I,p[3],f,d,!0)}function Kl(i,s,o){ze(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function s0(i,s,o){ze(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function Yl(i,s,o){let l=i.length;for(;;){const f=i.indexOf(s,o);if(-1===f)return f;if(0===f||i.charCodeAt(f-1)<=32){const d=s.length;if(f+d===l||i.charCodeAt(f+d)<=32)return f}o=f+1}}const Ql="ng-template";function O4(i,s,o){let l=0;for(;l<i.length;){let f=i[l++];if(o&&"class"===f){if(f=i[l],-1!==Yl(f.toLowerCase(),s,0))return!0}else if(1===f){for(;l<i.length&&"string"==typeof(f=i[l++]);)if(f.toLowerCase()===s)return!0;return!1}}return!1}function Ua(i){return 4===i.type&&i.value!==Ql}function N3(i,s,o){return s===(4!==i.type||o?i.value:Ql)}function o0(i,s,o){let l=4;const f=i.attrs||[],d=function(i){for(let s=0;s<i.length;s++)if(_4(i[s]))return s;return i.length}(f);let p=!1;for(let y=0;y<s.length;y++){const I=s[y];if("number"!=typeof I){if(!p)if(4&l){if(l=2|1&l,""!==I&&!N3(i,I,o)||""===I&&1===s.length){if(Gi(l))return!1;p=!0}}else{const L=8&l?I:s[++y];if(8&l&&null!==i.attrs){if(!O4(i.attrs,L,o)){if(Gi(l))return!1;p=!0}continue}const K=Jl(8&l?"class":I,f,Ua(i),o);if(-1===K){if(Gi(l))return!1;p=!0;continue}if(""!==L){let Y;Y=K>d?"":f[K+1].toLowerCase();const he=8&l?Y:null;if(he&&-1!==Yl(he,L,0)||2&l&&L!==Y){if(Gi(l))return!1;p=!0}}}}else{if(!p&&!Gi(l)&&!Gi(I))return!1;if(p&&Gi(I))continue;p=!1,l=I|1&l}}return Gi(l)||p}function Gi(i){return 0==(1&i)}function Jl(i,s,o,l){if(null===s)return-1;let f=0;if(l||!o){let d=!1;for(;f<s.length;){const p=s[f];if(p===i)return f;if(3===p||6===p)d=!0;else{if(1===p||2===p){let y=s[++f];for(;"string"==typeof y;)y=s[++f];continue}if(4===p)break;if(0===p){f+=4;continue}}f+=d?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const l=i[o];if("number"==typeof l)return-1;if(l===s)return o;o++}return-1}(s,i)}function Xl(i,s,o=!1){for(let l=0;l<s.length;l++)if(o0(i,s[l],o))return!0;return!1}function z7(i,s){e:for(let o=0;o<s.length;o++){const l=s[o];if(i.length===l.length){for(let f=0;f<i.length;f++)if(i[f]!==l[f])continue e;return!0}}return!1}function a0(i,s){return i?":not("+s.trim()+")":s}function R7(i){let s=i[0],o=1,l=2,f="",d=!1;for(;o<i.length;){let p=i[o];if("string"==typeof p)if(2&l){const y=i[++o];f+="["+p+(y.length>0?'="'+y+'"':"")+"]"}else 8&l?f+="."+p:4&l&&(f+=" "+p);else""!==f&&!Gi(p)&&(s+=a0(d,f),f=""),l=p,d=d||!Gi(l);o++}return""!==f&&(s+=a0(d,f)),s}const un={};function eu(i){tu(yn(),Qe(),G1()+i,Je())}function tu(i,s,o,l){if(!l)if(3==(3&s[2])){const d=i.preOrderCheckHooks;null!==d&&Pi(s,d,o)}else{const d=i.preOrderHooks;null!==d&&W1(s,d,0,o)}Hr(o)}function c0(i,s){return i<<17|s<<2}function Ms(i){return i>>17&32767}function d2(i){return 2|i}function Js(i){return(131068&i)>>2}function l0(i,s){return-131069&i|s<<2}function k4(i){return 1|i}function Ba(i,s){const o=i.contentQueries;if(null!==o)for(let l=0;l<o.length;l+=2){const f=o[l],d=o[l+1];if(-1!==d){const p=i.data[d];l1(f),p.contentQueries(2,s[d],d)}}}function Kc(i,s,o,l,f,d,p,y,I,L){const F=s.blueprint.slice();return F[0]=f,F[2]=140|l,as(F),F[3]=F[15]=i,F[8]=o,F[10]=p||i&&i[10],F[11]=y||i&&i[11],F[12]=I||i&&i[12]||null,F[9]=L||i&&i[9]||null,F[6]=d,F[16]=2==s.type?i[16]:F,F}function ja(i,s,o,l,f){let d=i.data[s];if(null===d)d=function(i,s,o,l,f){const d=zi(),p=Z(),I=i.data[s]=function(i,s,o,l,f,d){return{type:o,index:l,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,p?d:d&&d.parent,o,s,l,f);return null===i.firstChild&&(i.firstChild=I),null!==d&&(p?null==d.child&&null!==I.parent&&(d.child=I):null===d.next&&(d.next=I)),I}(i,s,o,l,f),qt.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=l,d.attrs=f;const p=function(){const i=qt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();d.injectorIndex=null===p?-1:p.injectorIndex}return z(d,!0),d}function U4(i,s,o,l){if(0===o)return-1;const f=s.length;for(let d=0;d<o;d++)s.push(l),i.blueprint.push(l),i.data.push(null);return f}function $a(i,s,o){Ri(s);try{const l=i.viewQuery;null!==l&&t6(1,l,o);const f=i.template;null!==f&&du(i,s,f,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Ba(i,s),i.staticViewQueries&&t6(2,i.viewQuery,o);const d=i.components;null!==d&&function(i,s){for(let o=0;o<s.length;o++)W7(i,s[o])}(s,d)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{s[2]&=-5,ks()}}function B4(i,s,o,l){const f=s[2];if(256==(256&f))return;Ri(s);const d=Je();try{as(s),function(i){qt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&du(i,s,o,2,l);const p=3==(3&f);if(!d)if(p){const L=i.preOrderCheckHooks;null!==L&&Pi(s,L,null)}else{const L=i.preOrderHooks;null!==L&&W1(s,L,0,null),Oo(s,0)}if(function(i){for(let s=e0(i);null!==s;s=t0(s)){if(!s[2])continue;const o=s[9];for(let l=0;l<o.length;l++){const f=o[l],d=f[3];0==(1024&f[2])&&Vs(d,1),f[2]|=1024}}}(s),function(i){for(let s=e0(i);null!==s;s=t0(s))for(let o=10;o<s.length;o++){const l=s[o],f=l[1];H1(l)&&B4(f,l,f.template,l[8])}}(s),null!==i.contentQueries&&Ba(i,s),!d)if(p){const L=i.contentCheckHooks;null!==L&&Pi(s,L)}else{const L=i.contentHooks;null!==L&&W1(s,L,1),Oo(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let l=0;l<o.length;l++){const f=o[l];if(f<0)Hr(~f);else{const d=f,p=o[++l],y=o[++l];Or(p,d),y(2,s[d])}}}finally{Hr(-1)}}(i,s);const y=i.components;null!==y&&function(i,s){for(let o=0;o<s.length;o++)G7(i,s[o])}(s,y);const I=i.viewQuery;if(null!==I&&t6(2,I,l),!d)if(p){const L=i.viewCheckHooks;null!==L&&Pi(s,L)}else{const L=i.viewHooks;null!==L&&W1(s,L,2),Oo(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),d||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Vs(s[3],-1))}finally{ks()}}function $3(i,s,o,l){const f=s[10],d=!Je(),p=Lr(s);try{d&&!p&&f.begin&&f.begin(),p&&$a(i,s,l),B4(i,s,o,l)}finally{d&&!p&&f.end&&f.end()}}function du(i,s,o,l,f){const d=G1(),p=2&l;try{Hr(-1),p&&s.length>20&&tu(i,s,20,Je()),o(l,f)}finally{Hr(d)}}function G3(i,s,o){!Z2()||(function(i,s,o,l){const f=o.directiveStart,d=o.directiveEnd;i.firstCreatePass||ft(o,s),U1(l,s);const p=o.initialInputs;for(let y=f;y<d;y++){const I=i.data[y],L=er(I);L&&J3(s,o,I);const F=Re(s,i,y,o);U1(F,s),null!==p&&e8(0,y-f,F,I,0,p),L&&(i1(o.index,s)[8]=F)}}(i,s,o,an(o,s)),128==(128&o.flags)&&function(i,s,o){const l=o.directiveStart,f=o.directiveEnd,p=o.index,y=qt.lFrame.currentDirectiveIndex;try{Hr(p);for(let I=l;I<f;I++){const L=i.data[I],F=s[I];kr(I),(null!==L.hostBindings||0!==L.hostVars||null!==L.hostAttrs)&&Q3(L,F)}}finally{Hr(-1),kr(y)}}(i,s,o))}function Yc(i,s,o=an){const l=s.localNames;if(null!==l){let f=s.index+1;for(let d=0;d<l.length;d+=2){const p=l[d+1],y=-1===p?o(s,i):i[p];i[f++]=y}}}function y0(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=j4(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function j4(i,s,o,l,f,d,p,y,I,L){const F=20+l,K=F+f,Y=function(i,s){const o=[];for(let l=0;l<s;l++)o.push(l<i?null:un);return o}(F,K),he="function"==typeof L?L():L;return Y[1]={type:i,blueprint:Y,template:o,queries:null,viewQuery:y,declTNode:s,data:Y.slice().fill(null,F),bindingStartIndex:F,expandoStartIndex:K,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof p?p():p,firstChild:null,schemas:I,consts:he,incompleteFirstPass:!1}}function Wa(i,s,o,l){const f=eo(s);null===o?f.push(l):(f.push(o),i.firstCreatePass&&w0(i).push(l,f.length-1))}function qa(i,s,o){for(let l in i)if(i.hasOwnProperty(l)){const f=i[l];(o=null===o?{}:o).hasOwnProperty(l)?o[l].push(s,f):o[l]=[s,f]}return o}function H2(i,s,o,l,f,d,p,y){const I=an(s,o);let F,L=s.inputs;!y&&null!=L&&(F=L[l])?(xu(i,o,F,l,f),s2(s)&&function(i,s){const o=i1(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(l=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),f=null!=p?p(f,s.value||"",l):f,ze(d)?d.setProperty(I,l,f):D2(l)||(I.setProperty?I.setProperty(l,f):I[l]=f))}function K3(i,s,o,l){let f=!1;if(Z2()){const d=function(i,s,o){const l=i.directiveRegistry;let f=null;if(l)for(let d=0;d<l.length;d++){const p=l[d];Xl(o,p.selectors,!1)&&(f||(f=[]),zt(ft(o,s),i,p.type),er(p)?(wu(i,o),f.unshift(p)):f.push(p))}return f}(i,s,o),p=null===l?null:{"":-1};if(null!==d){f=!0,Eu(o,i.data.length,d.length);for(let F=0;F<d.length;F++){const K=d[F];K.providersResolver&&K.providersResolver(K)}let y=!1,I=!1,L=U4(i,s,d.length,null);for(let F=0;F<d.length;F++){const K=d[F];o.mergedAttrs=hs(o.mergedAttrs,K.hostAttrs),_0(i,o,s,L,K),j7(L,K,p),null!==K.contentQueries&&(o.flags|=8),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(o.flags|=128);const Y=K.type.prototype;!y&&(Y.ngOnChanges||Y.ngOnInit||Y.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),y=!0),!I&&(Y.ngOnChanges||Y.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),I=!0),L++}!function(i,s){const l=s.directiveEnd,f=i.data,d=s.attrs,p=[];let y=null,I=null;for(let L=s.directiveStart;L<l;L++){const F=f[L],K=F.inputs,Y=null===d||Ua(s)?null:$7(K,d);p.push(Y),y=qa(K,L,y),I=qa(F.outputs,L,I)}null!==y&&(y.hasOwnProperty("class")&&(s.flags|=16),y.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=p,s.inputs=y,s.outputs=I}(i,o)}p&&function(i,s,o){if(s){const l=i.localNames=[];for(let f=0;f<s.length;f+=2){const d=o[s[f+1]];if(null==d)throw new Be("301",`Export of name '${s[f+1]}' not found!`);l.push(s[f],d)}}}(o,l,p)}return o.mergedAttrs=hs(o.mergedAttrs,o.attrs),f}function Y3(i,s,o,l,f,d){const p=d.hostBindings;if(p){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const I=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(y)!=I&&y.push(I),y.push(l,f,p)}}function Q3(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function wu(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function j7(i,s,o){if(o){if(s.exportAs)for(let l=0;l<s.exportAs.length;l++)o[s.exportAs[l]]=i;er(s)&&(o[""]=i)}}function Eu(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function _0(i,s,o,l,f){i.data[l]=f;const d=f.factory||(f.factory=Nr(f.type)),p=new T2(d,er(f),null);i.blueprint[l]=p,o[l]=p,Y3(i,s,0,l,U4(i,o,f.hostVars,un),f)}function J3(i,s,o){const l=an(s,i),f=y0(o),d=i[10],p=C0(i,Kc(i,f,null,o.onPush?64:16,l,s,d,d.createRenderer(l,o),null,null));i[s.index]=p}function Wi(i,s,o,l,f,d){const p=an(i,s);!function(i,s,o,l,f,d,p){if(null==d)ze(i)?i.removeAttribute(s,f,o):s.removeAttribute(f);else{const y=null==p?ot(d):p(d,l||"",f);ze(i)?i.setAttribute(s,f,y,o):o?s.setAttributeNS(o,f,y):s.setAttribute(f,y)}}(s[11],p,d,i.value,o,l,f)}function e8(i,s,o,l,f,d){const p=d[s];if(null!==p){const y=l.setInput;for(let I=0;I<p.length;){const L=p[I++],F=p[I++],K=p[I++];null!==y?l.setInput(o,K,L,F):o[F]=K}}}function $7(i,s){let o=null,l=0;for(;l<s.length;){const f=s[l];if(0!==f)if(5!==f){if("number"==typeof f)break;i.hasOwnProperty(f)&&(null===o&&(o=[]),o.push(f,i[f],s[l+1])),l+=2}else l+=2;else l+=4}return o}function t8(i,s,o,l){return new Array(i,!0,!1,s,null,0,l,o,null,null)}function G7(i,s){const o=i1(s,i);if(H1(o)){const l=o[1];80&o[2]?B4(l,o,l.template,o[8]):o[5]>0&&Qc(o)}}function Qc(i){for(let l=e0(i);null!==l;l=t0(l))for(let f=10;f<l.length;f++){const d=l[f];if(1024&d[2]){const p=d[1];B4(p,d,p.template,d[8])}else d[5]>0&&Qc(d)}const o=i[1].components;if(null!==o)for(let l=0;l<o.length;l++){const f=i1(o[l],i);H1(f)&&f[5]>0&&Qc(f)}}function W7(i,s){const o=i1(s,i),l=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(l,o),$a(l,o,o[8])}function C0(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function Jc(i){for(;i;){i[2]|=64;const s=Vc(i);if(D1(i)&&!s)return i;i=s}return null}function e6(i,s,o){const l=s[10];l.begin&&l.begin();try{B4(i,s,i.template,o)}catch(f){throw E0(s,f),f}finally{l.end&&l.end()}}function b0(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],l=O2(o),f=l[1];$3(f,l,f.template,o)}}(i[8])}function t6(i,s,o){l1(0),s(i,o)}const i8=(()=>Promise.resolve(null))();function eo(i){return i[7]||(i[7]=[])}function w0(i){return i.cleanup||(i.cleanup=[])}function E0(i,s){const o=i[9],l=o?o.get(_o,null):null;l&&l.handleError(s)}function xu(i,s,o,l,f){for(let d=0;d<o.length;){const p=o[d++],y=o[d++],I=s[p],L=i.data[p];null!==L.setInput?L.setInput(I,f,l,y):I[y]=f}}function Io(i,s,o){const l=Un(s,i);!function(i,s,o){ze(i)?i.setValue(s,o):s.textContent=o}(i[11],l,o)}function W4(i,s,o){let l=o?i.styles:null,f=o?i.classes:null,d=0;if(null!==s)for(let p=0;p<s.length;p++){const y=s[p];"number"==typeof y?d=y:1==d?f=_e(f,y):2==d&&(l=_e(l,y+": "+s[++p]+";"))}o?i.styles=l:i.stylesWithoutHost=l,o?i.classes=f:i.classesWithoutHost=f}const sa=new I1("INJECTOR",-1);class Tu{get(s,o=Gs){if(o===Gs){const l=new Error(`NullInjectorError: No provider for ${ee(s)}!`);throw l.name="NullInjectorError",l}return o}}const Za=new I1("Set Injector scope."),q4={},o8={};let M0;function Du(){return void 0===M0&&(M0=new Tu),M0}function I0(i,s=null,o=null,l){return new Y7(i,o,s||Du(),l)}class Y7{constructor(s,o,l,f=null){this.parent=l,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&V2(o,y=>this.processProvider(y,s,o)),V2([s],y=>this.processInjectorType(y,[],d)),this.records.set(sa,Ka(void 0,this));const p=this.records.get(Za);this.scope=null!=p?p.value:null,this.source=f||("object"==typeof s?null:ee(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=Gs,l=et.Default){this.assertNotDestroyed();const f=Zs(this),d=Zn(void 0);try{if(!(l&et.SkipSelf)){let y=this.records.get(s);if(void 0===y){const I=("function"==typeof(i=s)||"object"==typeof i&&i instanceof I1)&&Nn(s);y=I&&this.injectableDefInScope(I)?Ka(n6(s),q4):null,this.records.set(s,y)}if(null!=y)return this.hydrate(s,y)}return(l&et.Self?Du():this.parent).get(s,o=l&et.Optional&&o===Gs?null:o)}catch(p){if("NullInjectorError"===p.name){if((p[qs]=p[qs]||[]).unshift(ee(s)),f)throw p;return $6(p,s,"R3InjectorError",this.source)}throw p}finally{Zn(d),Zs(f)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((l,f)=>s.push(ee(f))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,l){if(!(s=be(s)))return!1;let f=Qn(s);const d=null==f&&s.ngModule||void 0,p=void 0===d?s:d,y=-1!==l.indexOf(p);if(void 0!==d&&(f=Qn(d)),null==f)return!1;if(null!=f.imports&&!y){let F;l.push(p);try{V2(f.imports,K=>{this.processInjectorType(K,o,l)&&(void 0===F&&(F=[]),F.push(K))})}finally{}if(void 0!==F)for(let K=0;K<F.length;K++){const{ngModule:Y,providers:he}=F[K];V2(he,Me=>this.processProvider(Me,Y,he||pt))}}this.injectorDefTypes.add(p);const I=Nr(p)||(()=>new p);this.records.set(p,Ka(I,q4));const L=f.providers;if(null!=L&&!y){const F=s;V2(L,K=>this.processProvider(K,F,L))}return void 0!==d&&void 0!==s.providers}processProvider(s,o,l){let f=Ya(s=be(s))?s:be(s&&s.provide);const d=l8(i=s)?Ka(void 0,i.useValue):Ka(function(i,s,o){let l;if(Ya(i)){const f=be(i);return Nr(f)||n6(f)}if(l8(i))l=()=>be(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...vi(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))l=()=>R1(be(i.useExisting));else{const f=be(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return Nr(f)||n6(f);l=()=>new f(...vi(i.deps))}return l}(i),q4);var i;if(Ya(s)||!0!==s.multi)this.records.get(f);else{let p=this.records.get(f);p||(p=Ka(void 0,q4,!0),p.factory=()=>vi(p.multi),this.records.set(f,p)),f=s,p.multi.push(s)}this.records.set(f,d)}hydrate(s,o){return o.value===q4&&(o.value=o8,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=be(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function n6(i){const s=Nn(i),o=null!==s?s.factory:Nr(i);if(null!==o)return o;if(i instanceof I1)throw new Error(`Token ${ee(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const l=mi(s,"?");throw new Error(`Can't resolve all parameters for ${ee(i)}: (${l.join(", ")}).`)}const o=function(i){const s=i&&(i[Xt]||i[_2]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function Ka(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function l8(i){return null!==i&&"object"==typeof i&&ho in i}function Ya(i){return"function"==typeof i}const S0=function(i,s,o){return function(i,s=null,o=null,l){const f=I0(i,s,o,l);return f._resolveInjectorDefTypes(),f}({name:o},s,i,o)};class n1{static create(s,o){return Array.isArray(s)?S0(s,o,""):S0(s.providers,s.parent,s.name||"")}}function hf(i,s){Vi(O2(i)[1],E1())}function L0(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const l=[i];for(;s;){let f;if(er(i))f=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");f=s.\u0275dir}if(f){if(o){l.push(f);const p=i;p.inputs=a6(i.inputs),p.declaredInputs=a6(i.declaredInputs),p.outputs=a6(i.outputs);const y=f.hostBindings;y&&sr(i,y);const I=f.viewQuery,L=f.contentQueries;if(I&&pf(i,I),L&&mf(i,L),ce(i.inputs,f.inputs),ce(i.declaredInputs,f.declaredInputs),ce(i.outputs,f.outputs),er(f)&&f.data.animation){const F=i.data;F.animation=(F.animation||[]).concat(f.data.animation)}}const d=f.features;if(d)for(let p=0;p<d.length;p++){const y=d[p];y&&y.ngInherit&&y(i),y===L0&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let l=i.length-1;l>=0;l--){const f=i[l];f.hostVars=s+=f.hostVars,f.hostAttrs=hs(f.hostAttrs,o=hs(o,f.hostAttrs))}}(l)}function a6(i){return i===ut?{}:i===pt?[]:i}function pf(i,s){const o=i.viewQuery;i.viewQuery=o?(l,f)=>{s(l,f),o(l,f)}:s}function mf(i,s){const o=i.contentQueries;i.contentQueries=o?(l,f,d)=>{s(l,f,d),o(l,f,d)}:s}function sr(i,s){const o=i.hostBindings;i.hostBindings=o?(l,f)=>{s(l,f),o(l,f)}:s}n1.THROW_IF_NOT_FOUND=Gs,n1.NULL=new Tu,n1.\u0275prov=Mn({token:n1,providedIn:"any",factory:()=>R1(sa)}),n1.__NG_ELEMENT_ID__=-1;let c6=null;function Y4(){if(!c6){const i=ge.Symbol;if(i&&i.iterator)c6=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const l=s[o];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(c6=l)}}}return c6}class Zi{constructor(s){this.wrapped=s}static wrap(s){return new Zi(s)}static unwrap(s){return Zi.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof Zi}}function l6(i){return!!y8(i)&&(Array.isArray(i)||!(i instanceof Map)&&Y4()in i)}function y8(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function p2(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function Yi(i,s,o,l){const f=Qe();return p2(f,jt(),s)&&(yn(),Wi(u1(),f,i,s,o,l)),Yi}function aa(i,s,o,l,f,d,p,y){const I=Qe(),L=yn(),F=i+20,K=L.firstCreatePass?function(i,s,o,l,f,d,p,y,I){const L=s.consts,F=ja(s,i,4,p||null,L1(L,y));K3(s,o,F,L1(L,I)),Vi(s,F);const K=F.tViews=j4(2,F,l,f,d,s.directiveRegistry,s.pipeRegistry,null,s.schemas,L);return null!==s.queries&&(s.queries.template(s,F),K.queries=s.queries.embeddedTView(F)),F}(F,L,I,s,o,l,f,d,p):L.data[F];z(K,!1);const Y=I[11].createComment("");ia(L,I,Y,K),U1(Y,I),C0(I,I[F]=t8(Y,I,Y,K)),Dr(K)&&G3(L,I,K),null!=p&&Yc(I,K,y)}function C8(i){return w1(qt.lFrame.contextLView,20+i)}function sc(i,s=et.Default){const o=Qe();return null===o?R1(i,s):R(E1(),o,be(i),s)}function ua(i,s,o){const l=Qe();return p2(l,jt(),s)&&H2(yn(),u1(),l,i,s,l[11],o,!1),ua}function m6(i,s,o,l,f){const p=f?"class":"style";xu(i,o,s.inputs[p],p,l)}function T8(i,s,o,l){const f=Qe(),d=yn(),p=20+i,y=f[11],I=f[p]=ea(y,s,qt.lFrame.currentNamespace),L=d.firstCreatePass?function(i,s,o,l,f,d,p){const y=s.consts,L=ja(s,i,2,f,L1(y,d));return K3(s,o,L,L1(y,p)),null!==L.attrs&&W4(L,L.attrs,!1),null!==L.mergedAttrs&&W4(L,L.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,L),L}(p,d,f,0,s,o,l):d.data[p];z(L,!0);const F=L.mergedAttrs;null!==F&&pi(y,I,F);const K=L.classes;null!==K&&s0(y,I,K);const Y=L.styles;null!==Y&&Kl(y,I,Y),64!=(64&L.flags)&&ia(d,f,I,L),0===qt.lFrame.elementDepthCount&&U1(I,f),qt.lFrame.elementDepthCount++,Dr(L)&&(G3(d,f,L),function(i,s,o){if(X1(s)){const f=s.directiveEnd;for(let d=s.directiveStart;d<f;d++){const p=i.data[d];p.contentQueries&&p.contentQueries(1,o[d],d)}}}(d,L,f)),null!==l&&Yc(f,L)}function D8(){let i=E1();Z()?ie():(i=i.parent,z(i,!1));const s=i;qt.lFrame.elementDepthCount--;const o=yn();o.firstCreatePass&&(Vi(o,i),X1(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&m6(o,s,Qe(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&m6(o,s,Qe(),s.stylesWithoutHost,!1)}function s5(i,s,o,l){T8(i,s,o,l),D8()}function N8(){return Qe()}function g6(i){return!!i&&"function"==typeof i.then}function a5(i){return!!i&&"function"==typeof i.subscribe}const oc=a5;function L8(i,s,o,l){const f=Qe(),d=yn(),p=E1();return function(i,s,o,l,f,d,p,y){const I=Dr(l),F=i.firstCreatePass&&w0(i),K=s[8],Y=eo(s);let he=!0;if(3&l.type||y){const Ve=an(l,s),ht=y?y(Ve):Ve,Ye=Y.length,Kt=y?hn=>y(Bt(hn[l.index])):l.index;if(ze(o)){let hn=null;if(!y&&I&&(hn=function(i,s,o,l){const f=i.cleanup;if(null!=f)for(let d=0;d<f.length-1;d+=2){const p=f[d];if(p===o&&f[d+1]===l){const y=s[7],I=f[d+2];return y.length>I?y[I]:null}"string"==typeof p&&(d+=2)}return null}(i,s,f,l.index)),null!==hn)(hn.__ngLastListenerFn__||hn).__ngNextListenerFn__=d,hn.__ngLastListenerFn__=d,he=!1;else{d=z8(l,s,K,d,!1);const qn=o.listen(ht,f,d);Y.push(d,qn),F&&F.push(f,Kt,Ye,Ye+1)}}else d=z8(l,s,K,d,!0),ht.addEventListener(f,d,p),Y.push(d),F&&F.push(f,Kt,Ye,p)}else d=z8(l,s,K,d,!1);const Me=l.outputs;let We;if(he&&null!==Me&&(We=Me[f])){const Ve=We.length;if(Ve)for(let ht=0;ht<Ve;ht+=2){const B2=s[We[ht]][We[ht+1]].subscribe(d),ga=Y.length;Y.push(d,B2),F&&F.push(f,l.index,ga,-(ga+1))}}}(d,f,f[11],p,i,s,!!o,l),L8}function u5(i,s,o,l){try{return!1!==o(l)}catch(f){return E0(i,f),!1}}function z8(i,s,o,l,f){return function d(p){if(p===Function)return l;const y=2&i.flags?i1(i.index,s):s;0==(32&s[2])&&Jc(y);let I=u5(s,0,l,p),L=d.__ngNextListenerFn__;for(;L;)I=u5(s,0,L,p)&&I,L=L.__ngNextListenerFn__;return f&&!1===I&&(p.preventDefault(),p.returnValue=!1),I}}function R8(i=1){return function(i){return(qt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,qt.lFrame.contextLView))[8]}(i)}function V8(i,s){let o=null;const l=function(i){const s=i.attrs;if(null!=s){const o=s.indexOf(5);if(0==(1&o))return s[o+1]}return null}(i);for(let f=0;f<s.length;f++){const d=s[f];if("*"!==d){if(null===l?Xl(i,d,!0):z7(l,d))return f}else o=f}return o}function m2(i){const s=Qe()[16][6];if(!s.projection){const l=s.projection=mi(i?i.length:1,null),f=l.slice();let d=s.child;for(;null!==d;){const p=i?V8(d,i):0;null!==p&&(f[p]?f[p].projectionNext=d:l[p]=d,f[p]=d),d=d.next}}}function g2(i,s=0,o){const l=Qe(),f=yn(),d=ja(f,20+i,16,null,o||null);null===d.projection&&(d.projection=s),ie(),64!=(64&d.flags)&&function(i,s,o){T3(s[11],0,s,o,Gl(i,o,s),Fc(o.parent||s[6],o,s))}(f,l,d)}function O8(i,s,o,l,f){const d=i[o+1],p=null===s;let y=l?Ms(d):Js(d),I=!1;for(;0!==y&&(!1===I||p);){const F=i[y+1];y6(i[y],s)&&(I=!0,i[y+1]=l?k4(F):d2(F)),y=l?Ms(F):Js(F)}I&&(i[o+1]=l?d2(d):k4(d))}function y6(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&Uo(i,s)>=0}function B8(i,s){return function(i,s,o,l){const f=Qe(),d=yn(),p=function(i){const s=qt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}(2);d.firstUpdatePass&&function(i,s,o,l){const f=i.data;if(null===f[o+1]){const d=f[G1()],p=function(i,s){return s>=i.expandoStartIndex}(i,o);(function(i,s){return 0!=(i.flags&(s?16:32))})(d,l)&&null===s&&!p&&(s=!1),s=function(i,s,o,l){const f=function(i){const s=qt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}(i);let d=l?s.residualClasses:s.residualStyles;if(null===f)0===(l?s.classBindings:s.styleBindings)&&(o=C6(o=j8(null,i,s,o,l),s.attrs,l),d=null);else{const p=s.directiveStylingLast;if(-1===p||i[p]!==f)if(o=j8(f,i,s,o,l),null===d){let I=function(i,s,o){const l=o?s.classBindings:s.styleBindings;if(0!==Js(l))return i[Ms(l)]}(i,s,l);void 0!==I&&Array.isArray(I)&&(I=j8(null,i,s,I[1],l),I=C6(I,s.attrs,l),function(i,s,o,l){i[Ms(o?s.classBindings:s.styleBindings)]=l}(i,s,l,I))}else d=function(i,s,o){let l;const f=s.directiveEnd;for(let d=1+s.directiveStylingLast;d<f;d++)l=C6(l,i[d].hostAttrs,o);return C6(l,s.attrs,o)}(i,s,l)}return void 0!==d&&(l?s.residualClasses=d:s.residualStyles=d),o}(f,d,s,l),function(i,s,o,l,f,d){let p=d?s.classBindings:s.styleBindings,y=Ms(p),I=Js(p);i[l]=o;let F,L=!1;if(Array.isArray(o)){const K=o;F=K[1],(null===F||Uo(K,F)>0)&&(L=!0)}else F=o;if(f)if(0!==I){const Y=Ms(i[y+1]);i[l+1]=c0(Y,y),0!==Y&&(i[Y+1]=l0(i[Y+1],l)),i[y+1]=function(i,s){return 131071&i|s<<17}(i[y+1],l)}else i[l+1]=c0(y,0),0!==y&&(i[y+1]=l0(i[y+1],l)),y=l;else i[l+1]=c0(I,0),0===y?y=l:i[I+1]=l0(i[I+1],l),I=l;L&&(i[l+1]=d2(i[l+1])),O8(i,F,l,!0),O8(i,F,l,!1),function(i,s,o,l,f){const d=f?i.residualClasses:i.residualStyles;null!=d&&"string"==typeof s&&Uo(d,s)>=0&&(o[l+1]=k4(o[l+1]))}(s,F,i,l,d),p=c0(y,I),d?s.classBindings=p:s.styleBindings=p}(f,d,s,o,p,l)}}(d,i,p,l),s!==un&&p2(f,p,s)&&function(i,s,o,l,f,d,p,y){if(!(3&s.type))return;const I=i.data,L=I[y+1];j0(function(i){return 1==(1&i)}(L)?G8(I,s,o,f,Js(L),p):void 0)||(j0(d)||function(i){return 2==(2&i)}(L)&&(d=G8(I,null,o,f,y,p)),function(i,s,o,l,f){const d=ze(i);if(s)f?d?i.addClass(o,l):o.classList.add(l):d?i.removeClass(o,l):o.classList.remove(l);else{let p=-1===l.indexOf("-")?void 0:Es.DashCase;if(null==f)d?i.removeStyle(o,l,p):o.style.removeProperty(l);else{const y="string"==typeof f&&f.endsWith("!important");y&&(f=f.slice(0,-10),p|=Es.Important),d?i.setStyle(o,l,f,p):o.style.setProperty(l,f,y?"important":"")}}}(l,p,Un(G1(),o),f,d))}(d,d.data[G1()],f,f[11],i,f[p+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=ee(Pe(i)))),i}(s,o),l,p)}(i,s,null,!0),B8}function j8(i,s,o,l,f){let d=null;const p=o.directiveEnd;let y=o.directiveStylingLast;for(-1===y?y=o.directiveStart:y++;y<p&&(d=s[y],l=C6(l,d.hostAttrs,f),d!==i);)y++;return null!==i&&(o.directiveStylingLast=y),l}function C6(i,s,o){const l=o?1:2;let f=-1;if(null!==s)for(let d=0;d<s.length;d++){const p=s[d];"number"==typeof p?f=p:f===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),l2(i,p,!!o||s[++d]))}return void 0===i?null:i}function G8(i,s,o,l,f,d){const p=null===s;let y;for(;f>0;){const I=i[f],L=Array.isArray(I),F=L?I[1]:I,K=null===F;let Y=o[f+1];Y===un&&(Y=K?pt:void 0);let he=K?Ea(Y,l):F===l?Y:void 0;if(L&&!j0(he)&&(he=Ea(I,l)),j0(he)&&(y=he,p))return y;const Me=i[f+1];f=p?Ms(Me):Js(Me)}if(null!==s){let I=d?s.residualClasses:s.residualStyles;null!=I&&(y=Ea(I,l))}return y}function j0(i){return void 0!==i}function q8(i,s=""){const o=Qe(),l=yn(),f=i+20,d=l.firstCreatePass?ja(l,f,1,s,null):l.data[f],p=o[f]=function(i,s){return ze(i)?i.createText(s):i.createTextNode(s)}(o[11],s);ia(l,o,p,d),z(d,!1)}function $0(i){return w6("",i,""),$0}function w6(i,s,o){const l=Qe(),f=function(i,s,o,l){return p2(i,jt(),o)?s+ot(o)+l:un}(l,i,s,o);return f!==un&&Io(l,G1(),f),w6}function Ff(i,s,o){const l=Qe();return p2(l,jt(),s)&&H2(yn(),u1(),l,i,s,l[11],o,!0),Ff}const E6=void 0;var Op=["en",[["a","p"],["AM","PM"],E6],[["AM","PM"],E6,E6],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],E6,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],E6,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",E6,"{1} 'at' {0}",E6],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let W0={};function Uf(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=L9(s);if(o)return o;const l=s.split("-")[0];if(o=L9(l),o)return o;if("en"===l)return Op;throw new Error(`Missing locale data for the locale "${i}".`)}function N9(i){return Uf(i)[rn.PluralCase]}function L9(i){return i in W0||(W0[i]=ge.ng&&ge.ng.common&&ge.ng.common.locales&&ge.ng.common.locales[i]),W0[i]}var rn=(()=>((rn=rn||{})[rn.LocaleId=0]="LocaleId",rn[rn.DayPeriodsFormat=1]="DayPeriodsFormat",rn[rn.DayPeriodsStandalone=2]="DayPeriodsStandalone",rn[rn.DaysFormat=3]="DaysFormat",rn[rn.DaysStandalone=4]="DaysStandalone",rn[rn.MonthsFormat=5]="MonthsFormat",rn[rn.MonthsStandalone=6]="MonthsStandalone",rn[rn.Eras=7]="Eras",rn[rn.FirstDayOfWeek=8]="FirstDayOfWeek",rn[rn.WeekendRange=9]="WeekendRange",rn[rn.DateFormat=10]="DateFormat",rn[rn.TimeFormat=11]="TimeFormat",rn[rn.DateTimeFormat=12]="DateTimeFormat",rn[rn.NumberSymbols=13]="NumberSymbols",rn[rn.NumberFormats=14]="NumberFormats",rn[rn.CurrencyCode=15]="CurrencyCode",rn[rn.CurrencySymbol=16]="CurrencySymbol",rn[rn.CurrencyName=17]="CurrencyName",rn[rn.Currencies=18]="Currencies",rn[rn.Directionality=19]="Directionality",rn[rn.PluralCase=20]="PluralCase",rn[rn.ExtraData=21]="ExtraData",rn))();const I5="en-US";let z9=I5;function Bf(i){Ct(i,"Expected localeId to be defined"),"string"==typeof i&&(z9=i.toLowerCase().replace(/_/g,"-"))}class id{}const km="ngComponent";class Hm{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${ee(i)}. Did you add it to @NgModule.entryComponents?`);return s[km]=i,s}(s)}}class Do{}function N5(...i){}function Sn(i,s){return new da(an(i,s))}Do.NULL=new Hm;const Um=function(){return Sn(E1(),Qe())};let da=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=Um,i})();function ad(i){return i instanceof da?i.nativeElement:i}class L5{}let Bm=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>ud(),i})();const ud=function(){const i=Qe(),o=i1(E1().index,i);return function(i){return i[11]}(vr(o)?o:i)};let Yf=(()=>{class i{}return i.\u0275prov=Mn({token:i,providedIn:"root",factory:()=>null}),i})();class Qf{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const z5=new Qf("12.2.2");class M6{constructor(){}supports(s){return l6(s)}create(s){return new R5(s)}}const Br=(i,s)=>s;class R5{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Br}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,l=this._removalsHead,f=0,d=null;for(;o||l;){const p=!l||o&&o.currentIndex<pa(l,f,d)?o:l,y=pa(p,f,d),I=p.currentIndex;if(p===l)f--,l=l._nextRemoved;else if(o=o._next,null==p.previousIndex)f++;else{d||(d=[]);const L=y-f,F=I-f;if(L!=F){for(let Y=0;Y<L;Y++){const he=Y<d.length?d[Y]:d[Y]=0,Me=he+Y;F<=Me&&Me<L&&(d[Y]=he+1)}d[p.previousIndex]=F-L}}y!==I&&s(p,y,I)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!l6(s))throw new Error(`Error trying to diff '${ee(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let f,d,p,o=this._itHead,l=!1;if(Array.isArray(s)){this.length=s.length;for(let y=0;y<this.length;y++)d=s[y],p=this._trackByFn(y,d),null!==o&&Object.is(o.trackById,p)?(l&&(o=this._verifyReinsertion(o,d,p,y)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,p,y),l=!0),o=o._next}else f=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Y4()]();let l;for(;!(l=o.next()).done;)s(l.value)}}(s,y=>{p=this._trackByFn(f,y),null!==o&&Object.is(o.trackById,p)?(l&&(o=this._verifyReinsertion(o,y,p,f)),Object.is(o.item,y)||this._addIdentityChange(o,y)):(o=this._mismatch(o,y,p,f),l=!0),o=o._next,f++}),this.length=f;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,l,f){let d;return null===s?d=this._itTail:(d=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,d,f)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(l,f))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,d,f)):s=this._addAfter(new Zv(o,l),d,f),s}_verifyReinsertion(s,o,l,f){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==d?s=this._reinsertAfter(d,s._prev,f):s.currentIndex!=f&&(s.currentIndex=f,this._addToMoves(s,f)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const f=s._prevRemoved,d=s._nextRemoved;return null===f?this._removalsHead=d:f._nextRemoved=d,null===d?this._removalsTail=f:d._prevRemoved=f,this._insertAfter(s,o,l),this._addToMoves(s,l),s}_moveAfter(s,o,l){return this._unlink(s),this._insertAfter(s,o,l),this._addToMoves(s,l),s}_addAfter(s,o,l){return this._insertAfter(s,o,l),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,l){const f=null===o?this._itHead:o._next;return s._next=f,s._prev=o,null===f?this._itTail=s:f._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new Jf),this._linkedRecords.put(s),s.currentIndex=l,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,l=s._next;return null===o?this._itHead=l:o._next=l,null===l?this._itTail=o:l._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Jf),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class Zv{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class i4{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===o||o<=l.currentIndex)&&Object.is(l.trackById,s))return l;return null}remove(s){const o=s._prevDup,l=s._nextDup;return null===o?this._head=l:o._nextDup=l,null===l?this._tail=o:l._prevDup=o,null===this._head}}class Jf{constructor(){this.map=new Map}put(s){const o=s.trackById;let l=this.map.get(o);l||(l=new i4,this.map.set(o,l)),l.add(s)}get(s,o){const f=this.map.get(s);return f?f.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function pa(i,s,o){const l=i.previousIndex;if(null===l)return l;let f=0;return o&&l<o.length&&(f=o[l]),l+s+f}class V5{constructor(){}supports(s){return s instanceof Map||y8(s)}create(){return new dd}}class dd{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||y8(s)))throw new Error(`Error trying to diff '${ee(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(l,f)=>{if(o&&o.key===f)this._maybeAddToChanges(o,l),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(f,l);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let l=o;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const l=s._prev;return o._next=s,o._prev=l,s._prev=o,l&&(l._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const f=this._records.get(s);this._maybeAddToChanges(f,o);const d=f._prev,p=f._next;return d&&(d._next=p),p&&(p._prev=d),f._next=null,f._prev=null,f}const l=new pd(s);return this._records.set(s,l),l.currentValue=o,this._addToAdditions(l),l}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(l=>o(s[l],l))}}class pd{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function I6(){return new Z0([new M6])}let Z0=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(null!=l){const f=l.factories.slice();o=o.concat(f)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||I6()),deps:[[i,new u2,new Yr]]}}find(o){const l=this.factories.find(f=>f.supports(o));if(null!=l)return l;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=Mn({token:i,providedIn:"root",factory:I6}),i})();function md(){return new P5([new V5])}let P5=(()=>{class i{constructor(o){this.factories=o}static create(o,l){if(l){const f=l.factories.slice();o=o.concat(f)}return new i(o)}static extend(o){return{provide:i,useFactory:l=>i.create(o,l||md()),deps:[[i,new u2,new Yr]]}}find(o){const l=this.factories.find(f=>f.supports(o));if(l)return l;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=Mn({token:i,providedIn:"root",factory:md}),i})();function rl(i,s,o,l,f=!1){for(;null!==o;){const d=s[o.index];if(null!==d&&l.push(Bt(d)),Kn(d))for(let y=10;y<d.length;y++){const I=d[y],L=I[1].firstChild;null!==L&&rl(I[1],I,L,l)}const p=o.type;if(8&p)rl(i,s,o.child,l);else if(32&p){const y=C3(o,s);let I;for(;I=y();)l.push(I)}else if(16&p){const y=r0(s,o);if(Array.isArray(y))l.push(...y);else{const I=Vc(s[16]);rl(I[1],I,y,l,!0)}}o=f?o.projectionNext:o.next}return l}class il{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return rl(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Kn(s)){const o=s[8],l=o?o.indexOf(this):-1;l>-1&&(Oc(s,l),vs(o,l))}this._attachedToViewContainer=!1}E3(this._lView[1],this._lView)}onDestroy(s){Wa(this._lView[1],this._lView,null,s)}markForCheck(){Jc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){e6(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){$t(!0);try{e6(i,s,o)}finally{$t(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,P4(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class Gm extends il{constructor(s){super(s),this._view=s}detectChanges(){b0(this._view)}checkNoChanges(){!function(i){$t(!0);try{b0(i)}finally{$t(!1)}}(this._view)}get context(){return null}}const Zm=function(i){return function(i,s,o){if(s2(i)&&!o){const l=i1(i.index,s);return new il(l,l)}return 47&i.type?new il(s[16],s):null}(E1(),Qe(),16==(16&i))};let gd=(()=>{class i{}return i.__NG_ELEMENT_ID__=Zm,i})();const vd=[new V5],Jm=new Z0([new M6]),A6=new P5(vd),tg=function(){return mn(E1(),Qe())};let sl=(()=>{class i{}return i.__NG_ELEMENT_ID__=tg,i})();const ng=sl,rg=class extends ng{constructor(s,o,l){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=l}createEmbeddedView(s){const o=this._declarationTContainer.tViews,l=Kc(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);l[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(l[19]=d.createEmbeddedView(o)),$a(o,l,s),new il(l)}};function mn(i,s){return 4&i.type?new rg(s,i,Sn(i,s)):null}class Mi{}class ro{}const O5=function(){return nh(E1(),Qe())};let k5=(()=>{class i{}return i.__NG_ELEMENT_ID__=O5,i})();const _d=k5,ol=class extends _d{constructor(s,o,l){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=l}get element(){return Sn(this._hostTNode,this._hostLView)}get injector(){return new Tn(this._hostTNode,this._hostLView)}get parentInjector(){const s=Fs(this._hostTNode,this._hostLView);if(ds(s)){const o=lo(s,this._hostLView),l=N2(s);return new Tn(o[1].data[l+8],o)}return new Tn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=al(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,l){const f=s.createEmbeddedView(o||{});return this.insert(f,l),f}createComponent(s,o,l,f,d){const p=l||this.parentInjector;if(!d&&null==s.ngModule&&p){const I=p.get(Mi,null);I&&(d=I)}const y=s.create(p,f,void 0,d);return this.insert(y.hostView,o),y}insert(s,o){const l=s._lView,f=l[1];if(Kn(l[3])){const F=this.indexOf(s);if(-1!==F)this.detach(F);else{const K=l[3],Y=new ol(K,K[6],K[3]);Y.detach(Y.indexOf(s))}}const d=this._adjustIndex(o),p=this._lContainer;!function(i,s,o,l){const f=10+l,d=o.length;l>0&&(o[f-1][4]=s),l<d-10?(s[4]=o[f],Fi(o,10+l,s)):(o.push(s),s[4]=null),s[3]=o;const p=s[17];null!==p&&o!==p&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(p,s);const y=s[19];null!==y&&y.insertView(i),s[2]|=128}(f,l,p,d);const y=S3(d,p),I=l[11],L=Hc(I,p[7]);return null!==L&&function(i,s,o,l,f,d){l[0]=f,l[6]=s,P4(i,l,o,1,f,d)}(f,p[6],I,l,L,y),s.attachToViewContainerRef(),Fi(th(p),d,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=al(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),l=Oc(this._lContainer,o);l&&(vs(th(this._lContainer),o),E3(l[1],l))}detach(s){const o=this._adjustIndex(s,-1),l=Oc(this._lContainer,o);return l&&null!=vs(th(this._lContainer),o)?new il(l):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function al(i){return i[8]}function th(i){return i[8]||(i[8]=[])}function nh(i,s){let o;const l=s[i.index];if(Kn(l))o=l;else{let f;if(8&i.type)f=Bt(l);else{const d=s[11];f=d.createComment("");const p=an(i,s);$i(d,Hc(d,p),f,function(i,s){return ze(i)?i.nextSibling(s):s.nextSibling}(d,p),!1)}s[i.index]=o=t8(l,s,f,i),C0(s,o)}return new ol(o,i,s)}const o4={};class Mh extends Do{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Rn(s);return new jd(o,this.ngModule)}}function Ih(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const Sg=new I1("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Co});class jd extends id{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(R7).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Ih(this.componentDef.inputs)}get outputs(){return Ih(this.componentDef.outputs)}create(s,o,l,f){const d=(f=f||this.ngModule)?function(i,s){return{get:(o,l,f)=>{const d=i.get(o,o4,f);return d!==o4||l===o4?d:s.get(o,l,f)}}}(s,f.injector):s,p=d.get(L5,xt),y=d.get(Yf,null),I=p.createRenderer(null,this.componentDef),L=this.componentDef.selectors[0][0]||"div",F=l?function(i,s,o){if(ze(i))return i.selectRootElement(s,o===r1.ShadowDom);let l="string"==typeof s?i.querySelector(s):s;return l.textContent="",l}(I,l,this.componentDef.encapsulation):ea(p.createRenderer(null,this.componentDef),L,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(L)),K=this.componentDef.onPush?576:528,Y=function(i,s){return{components:[],scheduler:i||Co,clean:i8,playerHandler:s||null,flags:0}}(),he=j4(0,null,null,1,0,null,null,null,null,null),Me=Kc(null,he,Y,K,null,null,p,I,y,d);let We,Ve;Ri(Me);try{const ht=function(i,s,o,l,f,d){const p=o[1];o[20]=i;const I=ja(p,20,2,"#host",null),L=I.mergedAttrs=s.hostAttrs;null!==L&&(W4(I,L,!0),null!==i&&(pi(f,i,L),null!==I.classes&&s0(f,i,I.classes),null!==I.styles&&Kl(f,i,I.styles)));const F=l.createRenderer(i,s),K=Kc(o,y0(s),null,s.onPush?64:16,o[20],I,l,F,d||null,null);return p.firstCreatePass&&(zt(ft(I,o),p,s.type),wu(p,I),Eu(I,o.length,1)),C0(o,K),o[20]=K}(F,this.componentDef,Me,p,I);if(F)if(l)pi(I,F,["ng-version",z5.full]);else{const{attrs:Ye,classes:Kt}=function(i){const s=[],o=[];let l=1,f=2;for(;l<i.length;){let d=i[l];if("string"==typeof d)2===f?""!==d&&s.push(d,i[++l]):8===f&&o.push(d);else{if(!Gi(f))break;f=d}l++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);Ye&&pi(I,F,Ye),Kt&&Kt.length>0&&s0(I,F,Kt.join(" "))}if(Ve=qr(he,20),void 0!==o){const Ye=Ve.projection=[];for(let Kt=0;Kt<this.ngContentSelectors.length;Kt++){const hn=o[Kt];Ye.push(null!=hn?Array.from(hn):null)}}We=function(i,s,o,l,f){const d=o[1],p=function(i,s,o){const l=E1();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),_0(i,l,s,U4(i,s,1,null),o));const f=Re(s,i,l.directiveStart,l);U1(f,s);const d=an(l,s);return d&&U1(d,s),f}(d,o,s);if(l.components.push(p),i[8]=p,f&&f.forEach(I=>I(p,s)),s.contentQueries){const I=E1();s.contentQueries(1,p,I.directiveStart)}const y=E1();return!d.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Hr(y.index),Y3(o[1],y,0,y.directiveStart,y.directiveEnd,s),Q3(s,p)),p}(ht,this.componentDef,Me,Y,[hf]),$a(he,Me,null)}finally{ks()}return new Dg(this.componentType,We,Sn(Ve,Me),Me,Ve)}}class Dg extends class{}{constructor(s,o,l,f,d){super(),this.location=l,this._rootLView=f,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new Gm(f),this.componentType=s}get injector(){return new Tn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const n3=new Map;class qd extends Mi{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Mh(this);const l=J1(s),f=s[Bn]||null;f&&Bf(f),this._bootstrapComponents=ws(l.bootstrap),this._r3Injector=I0(s,o,[{provide:Mi,useValue:this},{provide:Do,useValue:this.componentFactoryResolver}],ee(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=n1.THROW_IF_NOT_FOUND,l=et.Default){return s===n1||s===Mi||s===sa?this:this._r3Injector.get(s,o,l)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Zd extends ro{constructor(s){super(),this.moduleType=s,null!==J1(s)&&function(i){const s=new Set;!function o(l){const f=J1(l,!0),d=f.id;null!==d&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${ee(s)} vs ${ee(s.name)}`)}(d,n3.get(d),l),n3.set(d,l));const p=ws(f.imports);for(const y of p)s.has(y)||(s.add(y),o(y))}(i)}(s)}create(s){return new qd(this.moduleType,s)}}function Qd(i,s,o,l,f,d){const p=s+o;return p2(i,p,f)?function(i,s,o){return i[s]=o}(i,p+1,d?l.call(d,f):l(f)):function(i,s){const o=i[s];return o===un?void 0:o}(i,p+1)}function np(i,s){const o=yn();let l;const f=i+20;o.firstCreatePass?(l=function(i,s){if(s)for(let o=s.length-1;o>=0;o--){const l=s[o];if(i===l.name)return l}throw new Be("302",`The pipe '${i}' could not be found!`)}(s,o.pipeRegistry),o.data[f]=l,l.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(f,l.onDestroy)):l=o.data[f];const d=l.factory||(l.factory=Nr(l.type)),p=Zn(sc);try{const y=Cr(!1),I=d();return Cr(y),function(i,s,o,l){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=l}(o,Qe(),f,I),I}finally{Zn(p)}}function rp(i,s,o){const l=i+20,f=Qe(),d=w1(f,l);return function(i,s){Zi.isWrapped(s)&&(s=Zi.unwrap(s),i[qt.lFrame.bindingIndex]=un);return s}(f,function(i,s){return i[1].data[s].pure}(f,l)?Qd(f,function(){const i=qt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}(),s,d.transform,o,d):d.transform(o))}function ip(i){return s=>{setTimeout(i,void 0,s)}}const c4=class extends D.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,l){var f,d,p;let y=s,I=o||(()=>null),L=l;if(s&&"object"==typeof s){const K=s;y=null===(f=K.next)||void 0===f?void 0:f.bind(K),I=null===(d=K.error)||void 0===d?void 0:d.bind(K),L=null===(p=K.complete)||void 0===p?void 0:p.bind(K)}this.__isAsync&&(I=ip(I),y&&(y=ip(y)),L&&(L=ip(L)));const F=super.subscribe({next:y,error:I,complete:L});return s instanceof T.w&&s.add(F),F}};function Sh(){return this._results[Y4()]()}class gl{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Y4(),l=gl.prototype;l[o]||(l[o]=Sh)}get changes(){return this._changes||(this._changes=new c4)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const l=this;l.dirty=!1;const f=X2(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++){let f=i[l],d=s[l];if(o&&(f=o(f),d=o(d)),d!==f)return!1}return!0}(l._results,f,o))&&(l._results=f,l.length=f.length,l.last=f[this.length-1],l.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class X5{constructor(s){this.queryList=s,this.matches=null}clone(){return new X5(this.queryList)}setDirty(){this.queryList.setDirty()}}class vl{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const l=null!==s.contentQueries?s.contentQueries[0]:o.length,f=[];for(let d=0;d<l;d++){const p=o.getByIndex(d);f.push(this.queries[p.indexInDeclarationView].clone())}return new vl(f)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==r7(s,o).matches&&this.queries[o].setDirty()}}class xh{constructor(s,o,l=null){this.predicate=s,this.flags=o,this.read=l}}class e7{constructor(s=[]){this.queries=s}elementStart(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let l=0;l<this.length;l++){const f=null!==o?o.length:0,d=this.getByIndex(l).embeddedTView(s,f);d&&(d.indexInDeclarationView=l,null!==o?o.push(d):o=[d])}return null!==o?new e7(o):null}template(s,o){for(let l=0;l<this.queries.length;l++)this.queries[l].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class t7{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new t7(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let l=s.parent;for(;null!==l&&8&l.type&&l.index!==o;)l=l.parent;return o===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const l=this.metadata.predicate;if(Array.isArray(l))for(let f=0;f<l.length;f++){const d=l[f];this.matchTNodeWithReadOption(s,o,Th(o,d)),this.matchTNodeWithReadOption(s,o,pe(o,s,d,!1,!1))}else l===sl?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,pe(o,s,l,!1,!1))}matchTNodeWithReadOption(s,o,l){if(null!==l){const f=this.metadata.read;if(null!==f)if(f===da||f===k5||f===sl&&4&o.type)this.addMatch(o.index,-2);else{const d=pe(o,s,f,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,l)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function Th(i,s){const o=i.localNames;if(null!==o)for(let l=0;l<o.length;l+=2)if(o[l]===s)return o[l+1];return null}function op(i,s,o,l){return-1===o?function(i,s){return 11&i.type?Sn(i,s):4&i.type?mn(i,s):null}(s,i):-2===o?function(i,s,o){return o===da?Sn(s,i):o===sl?mn(s,i):o===k5?nh(s,i):void 0}(i,s,l):Re(i,i[1],o,s)}function Nh(i,s,o,l){const f=s[19].queries[l];if(null===f.matches){const d=i.data,p=o.matches,y=[];for(let I=0;I<p.length;I+=2){const L=p[I];y.push(L<0?null:op(s,d[L],p[I+1],o.metadata.read))}f.matches=y}return f.matches}function n7(i,s,o,l){const f=i.queries.getByIndex(o),d=f.matches;if(null!==d){const p=Nh(i,s,f,o);for(let y=0;y<d.length;y+=2){const I=d[y];if(I>0)l.push(p[y/2]);else{const L=d[y+1],F=s[-I];for(let K=10;K<F.length;K++){const Y=F[K];Y[17]===Y[3]&&n7(Y[1],Y,L,l)}if(null!==F[9]){const K=F[9];for(let Y=0;Y<K.length;Y++){const he=K[Y];n7(he[1],he,L,l)}}}}}return l}function Lh(i){const s=Qe(),o=yn(),l=yr();l1(l+1);const f=r7(o,l);if(i.dirty&&Lr(s)===(2==(2&f.metadata.flags))){if(null===f.matches)i.reset([]);else{const d=f.crossesNgTemplate?n7(o,s,l,[]):Nh(o,s,f,l);i.reset(d,ad),i.notifyOnChanges()}return!0}return!1}function zh(i,s,o,l){const f=yn();if(f.firstCreatePass){const d=E1();(function(i,s,o){null===i.queries&&(i.queries=new e7),i.queries.track(new t7(s,o))})(f,new xh(s,o,l),d.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(f,i),2==(2&o)&&(f.staticContentQueries=!0)}!function(i,s,o){const l=new gl(4==(4&o));Wa(i,s,l,l.destroy),null===s[19]&&(s[19]=new vl),s[19].queries.push(new X5(l))}(f,Qe(),o)}function yl(){return i=Qe(),s=yr(),i[19].queries[s].queryList;var i,s}function r7(i,s){return i.queries.getByIndex(s)}function i7(i,s){return mn(i,s)}const N=new I1("Application Initializer");let j=(()=>{class i{constructor(o){this.appInits=o,this.resolve=N5,this.reject=N5,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,f)=>{this.resolve=l,this.reject=f})}runInitializers(){if(this.initialized)return;const o=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const d=this.appInits[f]();if(g6(d))o.push(d);else if(oc(d)){const p=new Promise((y,I)=>{d.subscribe({complete:y,error:I})});o.push(p)}}Promise.all(o).then(()=>{l()}).catch(f=>{this.reject(f)}),0===o.length&&l(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(R1(N,8))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac}),i})();const ne=new I1("AppId"),Oe={provide:ne,useFactory:function(){return`${it()}${it()}${it()}`},deps:[]};function it(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wt=new I1("Platform Initializer"),Vt=new I1("Platform ID"),gn=new I1("appBootstrapListener");let U2=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Mn({token:i,factory:i.\u0275fac}),i})();const jr=new I1("LocaleId"),ns=new I1("DefaultCurrencyCode");class mc{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const Wh=function(i){return new Zd(i)},f7=Wh,d_=function(i){return Promise.resolve(Wh(i))},xy=function(i){const s=Wh(i),l=ws(J1(i).declarations).reduce((f,d)=>{const p=Rn(d);return p&&f.push(new jd(p)),f},[]);return new mc(s,l)},p_=xy,m_=function(i){return Promise.resolve(xy(i))};let qh=(()=>{class i{constructor(){this.compileModuleSync=f7,this.compileModuleAsync=d_,this.compileModuleAndAllComponentsSync=p_,this.compileModuleAndAllComponentsAsync=m_}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Mn({token:i,factory:i.\u0275fac}),i})();const y_=(()=>Promise.resolve(0))();function hv(i){"undefined"==typeof Zone?y_.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class zo{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new c4(!1),this.onMicrotaskEmpty=new c4(!1),this.onStable=new c4(!1),this.onError=new c4(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const f=this;f._nesting=0,f._outer=f._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!l&&o,f.shouldCoalesceRunChangeDetection=l,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function(){let i=ge.requestAnimationFrame,s=ge.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const l=s[Zone.__symbol__("OriginalDelegate")];l&&(s=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(ge,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,pv(i),i.isCheckStableRunning=!0,dv(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),pv(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,l,f,d,p,y)=>{try{return Ty(i),o.invokeTask(f,d,p,y)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||i.shouldCoalesceRunChangeDetection)&&s(),Dy(i)}},onInvoke:(o,l,f,d,p,y,I)=>{try{return Ty(i),o.invoke(f,d,p,y,I)}finally{i.shouldCoalesceRunChangeDetection&&s(),Dy(i)}},onHasTask:(o,l,f,d)=>{o.hasTask(f,d),l===f&&("microTask"==d.change?(i._hasPendingMicrotasks=d.microTask,pv(i),dv(i)):"macroTask"==d.change&&(i.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,l,f,d)=>(o.handleError(f,d),i.runOutsideAngular(()=>i.onError.emit(d)),!1)})}(f)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zo.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(zo.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,l){return this._inner.run(s,o,l)}runTask(s,o,l,f){const d=this._inner,p=d.scheduleEventTask("NgZoneEvent: "+f,s,C_,N5,N5);try{return d.runTask(p,o,l)}finally{d.cancelTask(p)}}runGuarded(s,o,l){return this._inner.runGuarded(s,o,l)}runOutsideAngular(s){return this._outer.run(s)}}const C_={};function dv(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function pv(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function Ty(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Dy(i){i._nesting--,dv(i)}class E_{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new c4,this.onMicrotaskEmpty=new c4,this.onStable=new c4,this.onError=new c4}run(s,o,l){return s.apply(o,l)}runGuarded(s,o,l){return s.apply(o,l)}runOutsideAngular(s){return s()}runTask(s,o,l,f){return s.apply(o,l)}}let Ny=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zo.assertNotInAngularZone(),hv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())hv(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(o)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,l,f){let d=-1;l&&l>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(p=>p.timeoutId!==d),o(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:f})}whenStable(o,l,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,l,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,l,f){return[]}}return i.\u0275fac=function(o){return new(o||i)(R1(zo))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac}),i})(),Ly=(()=>{class i{constructor(){this._applications=new Map,mv.addToWindow(this)}registerApplication(o,l){this._applications.set(o,l)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,l=!0){return mv.findTestabilityInTree(this,o,l)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=Mn({token:i,factory:i.\u0275fac}),i})();class M_{addToWindow(s){}findTestabilityInTree(s,o,l){return null}}function I_(i){mv=i}let mv=new M_,zy=!0,Ry=!1;function gv(){return Ry=!0,zy}function A_(){if(Ry)throw new Error("Cannot enable prod mode after platform setup.");zy=!1}let f4;const Vy=new I1("AllowMultipleToken");class z_{constructor(s,o){this.name=s,this.token=o}}function Py(i,s,o=[]){const l=`Platform: ${s}`,f=new I1(l);return(d=[])=>{let p=Oy();if(!p||p.injector.get(Vy,!1))if(i)i(o.concat(d).concat({provide:f,useValue:!0}));else{const y=o.concat(d).concat({provide:f,useValue:!0},{provide:Za,useValue:"platform"});!function(i){if(f4&&!f4.destroyed&&!f4.injector.get(Vy,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");f4=i.get(ky);const s=i.get(Wt,null);s&&s.forEach(o=>o())}(n1.create({providers:y,name:l}))}return function(i){const s=Oy();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(f)}}function Oy(){return f4&&!f4.destroyed?f4:null}let ky=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,l){const y=function(i,s){let o;return o="noop"===i?new E_:("zone.js"===i?void 0:i)||new zo({enableLongStackTrace:gv(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(l?l.ngZone:void 0,{ngZoneEventCoalescing:l&&l.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:l&&l.ngZoneRunCoalescing||!1}),I=[{provide:zo,useValue:y}];return y.run(()=>{const L=n1.create({providers:I,parent:this.injector,name:o.moduleType.name}),F=o.create(L),K=F.injector.get(_o,null);if(!K)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return y.runOutsideAngular(()=>{const Y=y.onError.subscribe({next:he=>{K.handleError(he)}});F.onDestroy(()=>{vv(this._modules,F),Y.unsubscribe()})}),function(i,s,o){try{const l=o();return g6(l)?l.catch(f=>{throw s.runOutsideAngular(()=>i.handleError(f)),f}):l}catch(l){throw s.runOutsideAngular(()=>i.handleError(l)),l}}(K,y,()=>{const Y=F.injector.get(j);return Y.runInitializers(),Y.donePromise.then(()=>(Bf(F.injector.get(jr,I5)||I5),this._moduleDoBootstrap(F),F))})})}bootstrapModule(o,l=[]){const f=Hy({},l);return function(i,s,o){const l=new Zd(o);return Promise.resolve(l)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,f))}_moduleDoBootstrap(o){const l=o.injector.get(Zh);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(f=>l.bootstrap(f));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${ee(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(l)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(R1(n1))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac}),i})();function Hy(i,s){return Array.isArray(s)?s.reduce(Hy,i):Object.assign(Object.assign({},i),s)}let Zh=(()=>{class i{constructor(o,l,f,d,p){this._zone=o,this._injector=l,this._exceptionHandler=f,this._componentFactoryResolver=d,this._initStatus=p,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const y=new Le.y(L=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{L.next(this._stable),L.complete()})}),I=new Le.y(L=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{zo.assertNotInAngularZone(),hv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,L.next(!0))})})});const K=this._zone.onUnstable.subscribe(()=>{zo.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{L.next(!1)}))});return()=>{F.unsubscribe(),K.unsubscribe()}});this.isStable=(0,re.T)(y,I.pipe(i=>(0,me.x)()(function(i,s){return function(l){let f;f="function"==typeof i?i:function(){return i};const d=Object.create(l,De.N);return d.source=l,d.subjectFactory=f,d}}(ae)(i))))}bootstrap(o,l){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let f;f=o instanceof id?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(f.componentType);const d=function(i){return i.isBoundToModule}(f)?void 0:this._injector.get(Mi),y=f.create(n1.NULL,[],l||f.selector,d),I=y.location.nativeElement,L=y.injector.get(Ny,null),F=L&&y.injector.get(Ly);return L&&F&&F.registerApplication(I,L),y.onDestroy(()=>{this.detachView(y.hostView),vv(this.components,y),F&&F.unregisterApplication(I)}),this._loadComponent(y),y}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const l=o;this._views.push(l),l.attachToAppRef(this)}detachView(o){const l=o;vv(this._views,l),l.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(gn,[]).concat(this._bootstrapListeners).forEach(f=>f(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(R1(zo),R1(n1),R1(_o),R1(Do),R1(j))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac}),i})();function vv(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class H_{}class U_{}const B_={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let j_=(()=>{class i{constructor(o,l){this._compiler=o,this._config=l||B_}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[l,f]=o.split("#");return void 0===f&&(f="default"),U(8255)(l).then(d=>d[f]).then(d=>jy(d,l,f)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[l,f]=o.split("#"),d="NgFactory";return void 0===f&&(f="default",d=""),U(8255)(this._config.factoryPathPrefix+l+this._config.factoryPathSuffix).then(p=>p[f+d]).then(p=>jy(p,l,f))}}return i.\u0275fac=function(o){return new(o||i)(R1(qh),R1(U_,8))},i.\u0275prov=Mn({token:i,factory:i.\u0275fac}),i})();function jy(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const Q_=function(i){return null},X_=Py(null,"core",[{provide:Vt,useValue:"unknown"},{provide:ky,deps:[n1]},{provide:Ly,deps:[]},{provide:U2,deps:[]}]),iC=[{provide:Zh,useClass:Zh,deps:[zo,n1,_o,Do,j]},{provide:Sg,deps:[zo],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:j,useClass:j,deps:[[new Yr,N]]},{provide:qh,useClass:qh,deps:[]},Oe,{provide:Z0,useFactory:function(){return Jm},deps:[]},{provide:P5,useFactory:function(){return A6},deps:[]},{provide:jr,useFactory:function(i){return Bf(i=i||"undefined"!=typeof $localize&&$localize.locale||I5),i},deps:[[new yi(jr),new Yr,new u2]]},{provide:ns,useValue:"USD"}];let oC=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(R1(Zh))},i.\u0275mod=Q1({type:i}),i.\u0275inj=wn({providers:iC}),i})()},8006:(yt,He,U)=>{"use strict";U.d(He,{zQ:()=>Ne});var D=U(3018),T=U(9765),Le=U(5917),re=U(8891),De=U(4402),le=U(6682),xe=U(7771),me=U(5319),ae=U(309),Q=U(7971),J=U(8858);class ce extends T.xQ{constructor(vt=Number.POSITIVE_INFINITY,at=Number.POSITIVE_INFINITY,kt){super(),this.scheduler=kt,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=vt<1?1:vt,this._windowTime=at<1?1:at,at===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(vt){if(!this.isStopped){const at=this._events;at.push(vt),at.length>this._bufferSize&&at.shift()}super.next(vt)}nextTimeWindow(vt){this.isStopped||(this._events.push(new ee(this._getNow(),vt)),this._trimBufferThenGetEvents()),super.next(vt)}_subscribe(vt){const at=this._infiniteTimeWindow,kt=at?this._events:this._trimBufferThenGetEvents(),tn=this.scheduler,sn=kt.length;let At;if(this.closed)throw new Q.N;if(this.isStopped||this.hasError?At=me.w.EMPTY:(this.observers.push(vt),At=new J.W(this,vt)),tn&&vt.add(vt=new ae.ht(vt,tn)),at)for(let Cn=0;Cn<sn&&!vt.closed;Cn++)vt.next(kt[Cn]);else for(let Cn=0;Cn<sn&&!vt.closed;Cn++)vt.next(kt[Cn].value);return this.hasError?vt.error(this.thrownError):this.isStopped&&vt.complete(),At}_getNow(){return(this.scheduler||xe.c).now()}_trimBufferThenGetEvents(){const vt=this._getNow(),at=this._bufferSize,kt=this._windowTime,tn=this._events,sn=tn.length;let At=0;for(;At<sn&&!(vt-tn[At].time<kt);)At++;return sn>at&&(At=Math.max(At,sn-at)),At>0&&tn.splice(0,At),tn}}class ee{constructor(vt,at){this.time=vt,this.value=at}}function _e(_t,vt,at){let kt;return kt=_t&&"object"==typeof _t?_t:{bufferSize:_t,windowTime:vt,refCount:!1,scheduler:at},tn=>tn.lift(function({bufferSize:_t=Number.POSITIVE_INFINITY,windowTime:vt=Number.POSITIVE_INFINITY,refCount:at,scheduler:kt}){let tn,At,sn=0,Cn=!1,Ct=!1;return function(zn){let B1;sn++,!tn||Cn?(Cn=!1,tn=new ce(_t,vt,kt),B1=tn.subscribe(this),At=zn.subscribe({next(Xn){tn.next(Xn)},error(Xn){Cn=!0,tn.error(Xn)},complete(){Ct=!0,At=void 0,tn.complete()}}),Ct&&(At=void 0)):B1=tn.subscribe(this),this.add(()=>{sn--,B1.unsubscribe(),B1=void 0,At&&!Ct&&at&&0===sn&&(At.unsubscribe(),At=void 0,tn=void 0)})}}(kt))}var ve=U(3190);function be(_t,vt){return vt?(0,ve.w)(()=>_t,vt):(0,ve.w)(()=>_t)}var Ce=U(8002),Xe=U(8049),Be=U(3101),Ie=U(5435),mt=U(7940),ot=U(2154),Yt=U(8583);const Pt=new D.OlP("angularfire2.auth.use-emulator"),ke=new D.OlP("angularfire2.auth.settings"),Fe=new D.OlP("angularfire2.auth.tenant-id"),ye=new D.OlP("angularfire2.auth.langugage-code"),Ue=new D.OlP("angularfire2.auth.use-device-language"),Ae=new D.OlP("angularfire.auth.persistence");let Ne=(()=>{class _t{constructor(at,kt,tn,sn,At,Cn,Ct,Ut,zn,B1,Xn){const Mn=new T.xQ,e1=(0,Le.of)(void 0).pipe((0,ae.QV)(At.outsideAngular),(0,ve.w)(()=>sn.runOutsideAngular(()=>U.e(287).then(U.bind(U,9287)))),(0,Ce.U)(()=>(0,ot.on)(at,sn,kt)),(0,Ce.U)(wn=>sn.runOutsideAngular(()=>{const Nn=Cn,Ln=Ct;return(0,mt.cc)(`${wn.name}.auth`,"AngularFireAuth",wn.name,()=>{const v1=sn.runOutsideAngular(()=>wn.auth());if(Nn&&v1.useEmulator(`http://${Nn.join(":")}`),Ut&&(v1.tenantId=Ut),B1&&v1.useDeviceLanguage(),Ln)for(const[Qt,Qn]of Object.entries(Ln))v1.settings[Qt]=Qn;return Xn&&v1.setPersistence(Xn),v1},[Nn,Ut,zn,B1,Ln,Xn])})),_e({bufferSize:1,refCount:!1}));if((0,Yt.PM)(tn))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Le.of)(null);else{e1.pipe((0,Xe.P)()).subscribe();const Nn=e1.pipe((0,ve.w)(Qt=>Qt.getRedirectResult().then(Qn=>Qn,()=>null)),mt.iC,_e({bufferSize:1,refCount:!1})),Ln=e1.pipe((0,ve.w)(Qt=>new re.y(Qn=>({unsubscribe:sn.runOutsideAngular(()=>Qt.onAuthStateChanged(Xt=>Qn.next(Xt),Xt=>Qn.error(Xt),()=>Qn.complete()))})))),v1=e1.pipe((0,ve.w)(Qt=>new re.y(Qn=>({unsubscribe:sn.runOutsideAngular(()=>Qt.onIdTokenChanged(Xt=>Qn.next(Xt),Xt=>Qn.error(Xt),()=>Qn.complete()))}))));this.authState=Nn.pipe(be(Ln),(0,Be.R)(At.outsideAngular),(0,ae.QV)(At.insideAngular)),this.user=Nn.pipe(be(v1),(0,Be.R)(At.outsideAngular),(0,ae.QV)(At.insideAngular)),this.idToken=this.user.pipe((0,ve.w)(Qt=>Qt?(0,De.D)(Qt.getIdToken()):(0,Le.of)(null))),this.idTokenResult=this.user.pipe((0,ve.w)(Qt=>Qt?(0,De.D)(Qt.getIdTokenResult()):(0,Le.of)(null))),this.credential=(0,le.T)(Nn,Mn,this.authState.pipe((0,Ie.h)(Qt=>!Qt))).pipe((0,Ce.U)(Qt=>(null==Qt?void 0:Qt.user)?Qt:null),(0,Be.R)(At.outsideAngular),(0,ae.QV)(At.insideAngular))}return(0,ot.pX)(this,e1,sn,{spy:{apply:(wn,Nn,Ln)=>{(wn.startsWith("signIn")||wn.startsWith("createUser"))&&Ln.then(v1=>Mn.next(v1))}}})}}return _t.\u0275fac=function(at){return new(at||_t)(D.LFG(ot.Dh),D.LFG(ot.xv,8),D.LFG(D.Lbi),D.LFG(D.R0b),D.LFG(mt.HU),D.LFG(Pt,8),D.LFG(ke,8),D.LFG(Fe,8),D.LFG(ye,8),D.LFG(Ue,8),D.LFG(Ae,8))},_t.\u0275prov=D.Yz7({token:_t,factory:_t.\u0275fac,providedIn:"any"}),_t})()},7037:(yt,He,U)=>{"use strict";U.d(He,{ST:()=>Q8,yb:()=>M5});var D=U(3018),T=U(3637),Le=U(8891),re=U(4402),De=U(5917),le=U(7940),xe=U(7393);function me(){return c=>c.lift(new ae)}class ae{call(r,a){return a.subscribe(new Q(r))}}class Q extends xe.L{constructor(r){super(r),this.hasPrev=!1}_next(r){let a;this.hasPrev?a=[this.prev,r]:this.hasPrev=!0,this.prev=r,a&&this.destination.next(a)}}var J=U(9761),ce=U(8002),ee=U(2145),_e=U(7519),je=U(5435),ve=U(309),be=U(2154),Ce=U(8583),Xe=U(4486),Be=U(4685),Ie=U(8239),mt=U(5452),ot=U(6034),Yt=U(300),Mt=function(c,r){return(Mt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(a[h]=u[h])})(c,r)};function ke(c){var r="function"==typeof Symbol&&Symbol.iterator,a=r&&c[r],u=0;if(a)return a.call(c);if(c&&"number"==typeof c.length)return{next:function(){return c&&u>=c.length&&(c=void 0),{value:c&&c[u++],done:!c}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}var ye,Fe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ue=Ue||{},Ae=Fe||self;function Ne(){}function lt(c){var r=typeof c;return"array"==(r="object"!=r?r:c?Array.isArray(c)?"array":r:"null")||"object"==r&&"number"==typeof c.length}function _t(c){var r=typeof c;return"object"==r&&null!=c||"function"==r}var at="closure_uid_"+(1e9*Math.random()>>>0),kt=0;function tn(c,r,a){return c.call.apply(c.bind,arguments)}function sn(c,r,a){if(!c)throw Error();if(2<arguments.length){var u=Array.prototype.slice.call(arguments,2);return function(){var h=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(h,u),c.apply(r,h)}}return function(){return c.apply(r,arguments)}}function At(c,r,a){return(At=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tn:sn).apply(null,arguments)}function Cn(c,r){var a=Array.prototype.slice.call(arguments,1);return function(){var u=a.slice();return u.push.apply(u,arguments),c.apply(this,u)}}function Ct(c,r){function a(){}a.prototype=r.prototype,c.Z=r.prototype,c.prototype=new a,c.prototype.constructor=c,c.Vb=function(u,h,g){for(var w=Array(arguments.length-2),V=2;V<arguments.length;V++)w[V-2]=arguments[V];return r.prototype[h].apply(u,w)}}function Ut(){this.s=this.s,this.o=this.o}var B1={};Ut.prototype.s=!1,Ut.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var c=function(c){return Object.prototype.hasOwnProperty.call(c,at)&&c[at]||(c[at]=++kt)}(this);delete B1[c]}},Ut.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Xn=Array.prototype.indexOf?function(c,r){return Array.prototype.indexOf.call(c,r,void 0)}:function(c,r){if("string"==typeof c)return"string"!=typeof r||1!=r.length?-1:c.indexOf(r,0);for(var a=0;a<c.length;a++)if(a in c&&c[a]===r)return a;return-1},Mn=Array.prototype.forEach?function(c,r,a){Array.prototype.forEach.call(c,r,a)}:function(c,r,a){for(var u=c.length,h="string"==typeof c?c.split(""):c,g=0;g<u;g++)g in h&&r.call(a,h[g],g,c)};function wn(c){return Array.prototype.concat.apply([],arguments)}function Nn(c){var r=c.length;if(0<r){for(var a=Array(r),u=0;u<r;u++)a[u]=c[u];return a}return[]}function Ln(c){return/^[\s\xa0]*$/.test(c)}var Xt,v1=String.prototype.trim?function(c){return c.trim()}:function(c){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(c)[1]};function Qt(c,r){return-1!=c.indexOf(r)}function Qn(c,r){return c<r?-1:c>r?1:0}e:{var h1=Ae.navigator;if(h1){var _2=h1.userAgent;if(_2){Xt=_2;break e}}Xt=""}function Rt(c,r,a){for(var u in c)r.call(a,c[u],u,c)}function et(c){var r={};for(var a in c)r[a]=c[a];return r}var vn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Hn(c,r){for(var a,u,h=1;h<arguments.length;h++){for(a in u=arguments[h])c[a]=u[a];for(var g=0;g<vn.length;g++)a=vn[g],Object.prototype.hasOwnProperty.call(u,a)&&(c[a]=u[a])}}function Zn(c){return Zn[" "](c),c}Zn[" "]=Ne;var Mr,c,Nt=Qt(Xt,"Opera"),Et=Qt(Xt,"Trident")||Qt(Xt,"MSIE"),y1=Qt(Xt,"Edge"),C2=y1||Et,Jt=Qt(Xt,"Gecko")&&!(Qt(Xt.toLowerCase(),"webkit")&&!Qt(Xt,"Edge"))&&!(Qt(Xt,"Trident")||Qt(Xt,"MSIE"))&&!Qt(Xt,"Edge"),r1=Qt(Xt.toLowerCase(),"webkit")&&!Qt(Xt,"Edge");function o1(){var c=Ae.document;return c?c.documentMode:void 0}e:{var ue="",de=(c=Xt,Jt?/rv:([^\);]+)(\)|;)/.exec(c):y1?/Edge\/([\d\.]+)/.exec(c):Et?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(c):r1?/WebKit\/(\S+)/.exec(c):Nt?/(?:Version)[ \/]?(\S+)/.exec(c):void 0);if(de&&(ue=de?de[1]:""),Et){var ge=o1();if(null!=ge&&ge>parseFloat(ue)){Mr=String(ge);break e}}Mr=ue}var $e={};function Te(){return r=$e,Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=function(){for(var c=0,r=v1(String(Mr)).split("."),a=v1("9").split("."),u=Math.max(r.length,a.length),h=0;0==c&&h<u;h++){var g=r[h]||"",w=a[h]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],w=/(\d*)(\D*)(.*)/.exec(w)||["","","",""],0==g[0].length&&0==w[0].length)break;c=Qn(0==g[1].length?0:parseInt(g[1],10),0==w[1].length?0:parseInt(w[1],10))||Qn(0==g[2].length,0==w[2].length)||Qn(g[2],w[2]),g=g[3],w=w[3]}while(0==c)}return 0<=c}();var r}var ln=Ae.document&&Et&&(o1()||parseInt(Mr,10))||void 0,In=function(){if(!Ae.addEventListener||!Object.defineProperty)return!1;var c=!1,r=Object.defineProperty({},"passive",{get:function(){c=!0}});try{Ae.addEventListener("test",Ne,r),Ae.removeEventListener("test",Ne,r)}catch(a){}return c}();function wt(c,r){this.type=c,this.g=this.target=r,this.defaultPrevented=!1}function An(c,r){if(wt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var a=this.type=c.type,u=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=r,r=c.relatedTarget){if(Jt){e:{try{Zn(r.nodeName);var h=!0;break e}catch(g){}h=!1}h||(r=null)}}else"mouseover"==a?r=c.fromElement:"mouseout"==a&&(r=c.toElement);this.relatedTarget=r,u?(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0):(this.clientX=void 0!==c.clientX?c.clientX:c.pageX,this.clientY=void 0!==c.clientY?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType="string"==typeof c.pointerType?c.pointerType:Bn[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&An.Z.h.call(this)}}wt.prototype.h=function(){this.defaultPrevented=!0},Ct(An,wt);var Bn={2:"touch",3:"pen",4:"mouse"};An.prototype.h=function(){An.Z.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var kn="closure_listenable_"+(1e6*Math.random()|0),ar=0;function t2(c,r,a,u,h){this.listener=c,this.proxy=null,this.src=r,this.type=a,this.capture=!!u,this.ia=h,this.key=++ar,this.ca=this.fa=!1}function b2(c){c.ca=!0,c.listener=null,c.proxy=null,c.src=null,c.ia=null}function Ai(c){this.src=c,this.g={},this.h=0}function _1(c,r){var a=r.type;if(a in c.g){var g,u=c.g[a],h=Xn(u,r);(g=0<=h)&&Array.prototype.splice.call(u,h,1),g&&(b2(r),0==c.g[a].length&&(delete c.g[a],c.h--))}}function $r(c,r,a,u){for(var h=0;h<c.length;++h){var g=c[h];if(!g.ca&&g.listener==r&&g.capture==!!a&&g.ia==u)return h}return-1}Ai.prototype.add=function(c,r,a,u,h){var g=c.toString();(c=this.g[g])||(c=this.g[g]=[],this.h++);var w=$r(c,r,u,h);return-1<w?(r=c[w],a||(r.fa=!1)):((r=new t2(r,this.src,g,!!u,h)).fa=a,c.push(r)),r};var Si="closure_lm_"+(1e6*Math.random()|0),Q1={};function d1(c,r,a,u,h){if(u&&u.once)return oi(c,r,a,u,h);if(Array.isArray(r)){for(var g=0;g<r.length;g++)d1(c,r[g],a,u,h);return null}return a=ct(a),c&&c[kn]?c.N(r,a,_t(u)?!!u.capture:!!u,h):Lt(c,r,a,!1,u,h)}function Lt(c,r,a,u,h,g){if(!r)throw Error("Invalid event type");var w=_t(h)?!!h.capture:!!h,V=r2(c);if(V||(c[Si]=V=new Ai(c)),(a=V.add(r,a,u,w,g)).proxy)return a;if(u=function(){var r=J1;return function c(a){return r.call(c.src,c.listener,a)}}(),a.proxy=u,u.src=c,u.listener=a,c.addEventListener)In||(h=w),void 0===h&&(h=!1),c.addEventListener(r.toString(),u,h);else if(c.attachEvent)c.attachEvent(Ar(r.toString()),u);else{if(!c.addListener||!c.removeListener)throw Error("addEventListener and attachEvent are unavailable.");c.addListener(u)}return a}function oi(c,r,a,u,h){if(Array.isArray(r)){for(var g=0;g<r.length;g++)oi(c,r[g],a,u,h);return null}return a=ct(a),c&&c[kn]?c.O(r,a,_t(u)?!!u.capture:!!u,h):Lt(c,r,a,!0,u,h)}function Rn(c,r,a,u,h){if(Array.isArray(r))for(var g=0;g<r.length;g++)Rn(c,r[g],a,u,h);else u=_t(u)?!!u.capture:!!u,a=ct(a),c&&c[kn]?(c=c.i,(r=String(r).toString())in c.g&&-1<(a=$r(g=c.g[r],a,u,h))&&(b2(g[a]),Array.prototype.splice.call(g,a,1),0==g.length&&(delete c.g[r],c.h--))):c&&(c=r2(c))&&(r=c.g[r.toString()],c=-1,r&&(c=$r(r,a,u,h)),(a=-1<c?r[c]:null)&&Ir(a))}function Ir(c){if("number"!=typeof c&&c&&!c.ca){var r=c.src;if(r&&r[kn])_1(r.i,c);else{var a=c.type,u=c.proxy;r.removeEventListener?r.removeEventListener(a,u,c.capture):r.detachEvent?r.detachEvent(Ar(a),u):r.addListener&&r.removeListener&&r.removeListener(u),(a=r2(r))?(_1(a,c),0==a.h&&(a.src=null,r[Si]=null)):b2(c)}}}function Ar(c){return c in Q1?Q1[c]:Q1[c]="on"+c}function J1(c,r){if(c.ca)c=!0;else{r=new An(r,this);var a=c.listener,u=c.ia||c.src;c.fa&&Ir(c),c=a.call(u,r)}return c}function r2(c){return(c=c[Si])instanceof Ai?c:null}var jn="__closure_events_fn_"+(1e9*Math.random()>>>0);function ct(c){return"function"==typeof c?c:(c[jn]||(c[jn]=function(r){return c.handleEvent(r)}),c[jn])}function St(){Ut.call(this),this.i=new Ai(this),this.P=this,this.I=null}function nn(c,r){var a,u=c.I;if(u)for(a=[];u;u=u.I)a.push(u);if(c=c.P,u=r.type||r,"string"==typeof r)r=new wt(r,c);else if(r instanceof wt)r.target=r.target||c;else{var h=r;Hn(r=new wt(u,c),h)}if(h=!0,a)for(var g=a.length-1;0<=g;g--){var w=r.g=a[g];h=j1(w,u,!0,r)&&h}if(h=j1(w=r.g=c,u,!0,r)&&h,h=j1(w,u,!1,r)&&h,a)for(g=0;g<a.length;g++)h=j1(w=r.g=a[g],u,!1,r)&&h}function j1(c,r,a,u){if(!(r=c.i.g[String(r)]))return!0;r=r.concat();for(var h=!0,g=0;g<r.length;++g){var w=r[g];if(w&&!w.ca&&w.capture==a){var V=w.listener,B=w.ia||w.src;w.fa&&_1(c.i,w),h=!1!==V.call(B,u)&&h}}return h&&!u.defaultPrevented}Ct(St,Ut),St.prototype[kn]=!0,St.prototype.removeEventListener=function(c,r,a,u){Rn(this,c,r,a,u)},St.prototype.M=function(){if(St.Z.M.call(this),this.i){var r,c=this.i;for(r in c.g){for(var a=c.g[r],u=0;u<a.length;u++)b2(a[u]);delete c.g[r],c.h--}}this.I=null},St.prototype.N=function(c,r,a,u){return this.i.add(String(c),r,!1,a,u)},St.prototype.O=function(c,r,a,u){return this.i.add(String(c),r,!0,a,u)};var C1=Ae.JSON.stringify;function $n(){var c=gr,r=null;return c.g&&(r=c.g,c.g=c.g.next,c.g||(c.h=null),r.next=null),r}var Sr,x1=function(){function c(){this.h=this.g=null}return c.prototype.add=function(r,a){var u=Vn.get();u.set(r,a),this.h?this.h.next=u:this.g=u,this.h=u},c}(),Vn=new(function(){function c(r,a){this.i=r,this.j=a,this.h=0,this.g=null}return c.prototype.get=function(){var r;return 0<this.h?(this.h--,this.g=(r=this.g).next,r.next=null):r=this.i(),r},c}())(function(){return new mr},function(c){return c.reset()}),mr=function(){function c(){this.next=this.g=this.h=null}return c.prototype.set=function(r,a){this.h=r,this.g=a,this.next=null},c.prototype.reset=function(){this.next=this.g=this.h=null},c}();function ai(c){Ae.setTimeout(function(){throw c},0)}function en(c,r){Sr||function(){var c=Ae.Promise.resolve(void 0);Sr=function(){c.then(O1)}}(),ci||(Sr(),ci=!0),gr.add(c,r)}var ci=!1,gr=new x1;function O1(){for(var c;c=$n();){try{c.h.call(c.g)}catch(a){ai(a)}var r=Vn;r.j(c),100>r.h&&(r.h++,c.next=r.g,r.g=c)}ci=!1}function Gr(c,r){St.call(this),this.h=c||1,this.g=r||Ae,this.j=At(this.kb,this),this.l=Date.now()}function Vr(c){c.da=!1,c.S&&(c.g.clearTimeout(c.S),c.S=null)}function T1(c,r,a){if("function"==typeof c)a&&(c=At(c,a));else{if(!c||"function"!=typeof c.handleEvent)throw Error("Invalid listener argument");c=At(c.handleEvent,c)}return 2147483647<Number(r)?-1:Ae.setTimeout(c,r||0)}function xn(c){c.g=T1(function(){c.g=null,c.i&&(c.i=!1,xn(c))},c.j);var r=c.h;c.h=null,c.m.apply(null,r)}Ct(Gr,St),(ye=Gr.prototype).da=!1,ye.S=null,ye.kb=function(){if(this.da){var c=Date.now()-this.l;0<c&&c<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-c):(this.S&&(this.g.clearTimeout(this.S),this.S=null),nn(this,"tick"),this.da&&(Vr(this),this.start()))}},ye.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},ye.M=function(){Gr.Z.M.call(this),Vr(this),delete this.g};var Fn=function(c){function r(a,u){var h=c.call(this)||this;return h.m=a,h.j=u,h.h=null,h.i=!1,h.g=null,h}return function(c,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=c}Mt(c,r),c.prototype=null===r?Object.create(r):(a.prototype=r.prototype,new a)}(r,c),r.prototype.l=function(a){this.h=arguments,this.g?this.i=!0:xn(this)},r.prototype.M=function(){c.prototype.M.call(this),this.g&&(Ae.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},r}(Ut);function k1(c){Ut.call(this),this.h=c,this.g={}}Ct(k1,Ut);var cr=[];function Tr(c,r,a,u){Array.isArray(a)||(a&&(cr[0]=a.toString()),a=cr);for(var h=0;h<a.length;h++){var g=d1(r,a[h],u||c.handleEvent,!1,c.h||c);if(!g)break;c.g[g.key]=g}}function j2(c){Rt(c.g,function(r,a){this.g.hasOwnProperty(a)&&Ir(r)},c),c.g={}}function Pn(){this.g=!0}function Wr(c,r,a,u){c.info(function(){return"XMLHTTP TEXT ("+r+"): "+function(c,r){if(!c.g)return r;if(!r)return null;try{var a=JSON.parse(r);if(a)for(c=0;c<a.length;c++)if(Array.isArray(a[c])){var u=a[c];if(!(2>u.length)){var h=u[1];if(Array.isArray(h)&&!(1>h.length)){var g=h[0];if("noop"!=g&&"stop"!=g&&"close"!=g)for(var w=1;w<h.length;w++)h[w]=""}}}return C1(a)}catch(V){return r}}(c,a)+(u?" "+u:"")})}k1.prototype.M=function(){k1.Z.M.call(this),j2(this)},k1.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Pn.prototype.Aa=function(){this.g=!1},Pn.prototype.info=function(){};var X1={},s2=null;function Dr(){return s2=s2||new St}function er(c){wt.call(this,X1.Ma,c)}function D1(c){var r=Dr();nn(r,new er(r,c))}function zs(c,r){wt.call(this,X1.STAT_EVENT,c),this.stat=r}function N1(c){var r=Dr();nn(r,new zs(r,c))}function $2(c,r){wt.call(this,X1.Na,c),this.size=r}function li(c,r){if("function"!=typeof c)throw Error("Fn must not be null and must be a function");return Ae.setTimeout(function(){c()},r)}X1.Ma="serverreachability",Ct(er,wt),X1.STAT_EVENT="statevent",Ct(zs,wt),X1.Na="timingevent",Ct($2,wt);var o2={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},tr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Pr(){}function Rs(){}Pr.prototype.h=null;var w2,ui={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function xi(){wt.call(this,"d")}function Ti(){wt.call(this,"c")}function fi(){}function E2(c,r,a,u){this.l=c,this.j=r,this.m=a,this.X=u||1,this.V=new k1(this),this.P=Di,this.W=new Gr(c=C2?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new W2}function W2(){this.i=null,this.g="",this.h=!1}Ct(xi,wt),Ct(Ti,wt),Ct(fi,Pr),fi.prototype.g=function(){return new XMLHttpRequest},fi.prototype.i=function(){return{}},w2=new fi;var Di=45e3,M2={},$1={};function Ni(c,r,a){c.K=1,c.v=Bt(q(r)),c.s=a,c.U=!0,is(c,null)}function is(c,r){c.F=Date.now(),I2(c),c.A=q(c.v);var a=c.A,u=c.X;Array.isArray(u)||(u=[String(u)]),qt(a.h,"t",u),c.C=0,a=c.l.H,c.h=new W2,c.g=T2(c.l,a?r:null,!c.s),0<c.O&&(c.L=new Fn(At(c.Ia,c,c.g),c.O)),Tr(c.V,c.g,"readystatechange",c.gb),r=c.H?et(c.H):{},c.s?(c.u||(c.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.s,r)):(c.u="GET",c.g.ea(c.A,c.u,null,r)),D1(1),function(c,r,a,u,h,g){c.info(function(){if(c.g)if(g)for(var w="",V=g.split("&"),B=0;B<V.length;B++){var X=V[B].split("=");if(1<X.length){var oe=X[0];X=X[1];var Ee=oe.split("_");w=2<=Ee.length&&"type"==Ee[1]?w+(oe+"=")+X+"&":w+(oe+"=redacted&")}}else w=null;else w=g;return"XMLHTTP REQ ("+u+") [attempt "+h+"]: "+r+"\n"+a+"\n"+w})}(c.j,c.u,c.A,c.m,c.X,c.s)}function ss(c){return!!c.g&&"GET"==c.u&&2!=c.K&&c.l.Ba}function Nr(c,r,a){for(var h,u=!0;!c.I&&c.C<a.length;){if((h=Li(c,a))==$1){4==r&&(c.o=4,N1(14),u=!1),Wr(c.j,c.m,null,"[Incomplete Response]");break}if(h==M2){c.o=4,N1(15),Wr(c.j,c.m,a,"[Invalid Chunk]"),u=!1;break}Wr(c.j,c.m,h,null),A2(c,h)}ss(c)&&h!=$1&&h!=M2&&(c.h.g="",c.C=0),4!=r||0!=a.length||c.h.h||(c.o=1,N1(16),u=!1),c.i=c.i&&u,u?0<a.length&&!c.aa&&(c.aa=!0,(r=c.l).g==c&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+a.length),Po(r),r.L=!0,N1(11))):(Wr(c.j,c.m,a,"[Invalid Chunked Response]"),nr(c),q2(c))}function Li(c,r){var a=c.C,u=r.indexOf("\n",a);return-1==u?$1:(a=Number(r.substring(a,u)),isNaN(a)?M2:(u+=1)+a>r.length?$1:(r=r.substr(u,a),c.C=u+a,r))}function I2(c){c.Y=Date.now()+c.P,hi(c,c.P)}function hi(c,r){if(null!=c.B)throw Error("WatchDog timer not null");c.B=li(At(c.eb,c),r)}function lr(c){c.B&&(Ae.clearTimeout(c.B),c.B=null)}function q2(c){0==c.l.G||c.I||W1(c.l,c)}function nr(c){lr(c);var r=c.L;r&&"function"==typeof r.na&&r.na(),c.L=null,Vr(c.W),j2(c.V),c.g&&(r=c.g,c.g=null,r.abort(),r.na())}function A2(c,r){try{var a=c.l;if(0!=a.G&&(a.g==c||Qe(a.i,c)))if(a.I=c.N,!c.J&&Qe(a.i,c)&&3==a.G){try{var u=a.Ca.g.parse(r)}catch(_n){u=null}if(Array.isArray(u)&&3==u.length){var h=u;if(0==h[0])e:if(a.u)a.ta=h[1],0<a.ta-a.U&&37500>h[2]&&a.N&&0==a.A&&!a.v&&(a.v=li(At(a.ab,a),6e3));else{if(a.g){if(!(a.g.F+3e3<c.F))break e;Pi(a),Vo(a)}va(a),N1(18)}if(1>=Ro(a.i)&&a.ka){try{a.ka()}catch(_n){}a.ka=void 0}}else x2(a,11)}else if((c.J||a.g==c)&&Pi(a),!Ln(r))for(h=a.Ca.g.parse(r),r=0;r<h.length;r++){var g=h[r];if(a.U=g[0],g=g[1],2==a.G)if("c"==g[0]){a.J=g[1],a.la=g[2];var w=g[3];null!=w&&(a.ma=w,a.h.info("VER="+a.ma));var V=g[4];null!=V&&(a.za=V,a.h.info("SVER="+a.za));var B=g[5];null!=B&&"number"==typeof B&&0<B&&(a.K=u=1.5*B,a.h.info("backChannelRequestTimeoutMs_="+u)),u=a;var X=c.g;if(X){var oe=X.g?X.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(oe){var Ee=u.i;!Ee.g&&(Qt(oe,"spdy")||Qt(oe,"quic")||Qt(oe,"h2"))&&(Ee.j=Ee.l,Ee.g=new Set,Ee.h&&(yn(Ee,Ee.h),Ee.h=null))}if(u.D){var Ze=X.g?X.g.getResponseHeader("X-HTTP-Session-Id"):null;Ze&&(u.sa=Ze,Ht(u.F,u.D,Ze))}}a.G=3,a.j&&a.j.xa(),a.$&&(a.O=Date.now()-c.F,a.h.info("Handshake RTT: "+a.O+"ms"));var Ke=c;if((u=a).oa=c2(u,u.H?u.la:null,u.W),Ke.J){K2(u.i,Ke);var gt=Ke,Gt=u.K;Gt&&gt.setTimeout(Gt),gt.B&&(lr(gt),I2(gt)),u.g=Ke}else g4(u);0<a.l.length&&Hr(a)}else"stop"!=g[0]&&"close"!=g[0]||x2(a,7);else 3==a.G&&("stop"==g[0]||"close"==g[0]?"stop"==g[0]?x2(a,7):ks(a):"noop"!=g[0]&&a.j&&a.j.wa(g),a.A=0)}D1(4)}catch(_n){}}function S2(c,r){if(c.forEach&&"function"==typeof c.forEach)c.forEach(r,void 0);else if(lt(c)||"string"==typeof c)Mn(c,r,void 0);else{if(c.T&&"function"==typeof c.T)var a=c.T();else if(c.R&&"function"==typeof c.R)a=void 0;else if(lt(c)||"string"==typeof c){a=[];for(var u=c.length,h=0;h<u;h++)a.push(h)}else for(h in a=[],u=0,c)a[u++]=h;h=(u=function(c){if(c.R&&"function"==typeof c.R)return c.R();if("string"==typeof c)return c.split("");if(lt(c)){for(var r=[],a=c.length,u=0;u<a;u++)r.push(c[u]);return r}for(u in r=[],a=0,c)r[a++]=c[u];return r}(c)).length;for(var g=0;g<h;g++)r.call(void 0,u[g],a&&a[g],c)}}function ur(c,r){this.h={},this.g=[],this.i=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var u=0;u<a;u+=2)this.set(arguments[u],arguments[u+1])}else if(c)if(c instanceof ur)for(a=c.T(),u=0;u<a.length;u++)this.set(a[u],c.get(a[u]));else for(u in c)this.set(u,c[u])}function a1(c){if(c.i!=c.g.length){for(var r=0,a=0;r<c.g.length;){var u=c.g[r];rr(c.h,u)&&(c.g[a++]=u),r++}c.g.length=a}if(c.i!=c.g.length){var h={};for(a=r=0;r<c.g.length;)rr(h,u=c.g[r])||(c.g[a++]=u,h[u]=1),r++;c.g.length=a}}function rr(c,r){return Object.prototype.hasOwnProperty.call(c,r)}(ye=E2.prototype).setTimeout=function(c){this.P=c},ye.gb=function(c){c=c.target;var r=this.L;r&&3==_r(c)?r.l():this.Ia(c)},ye.Ia=function(c){try{if(c==this.g)e:{var r=_r(this.g),a=this.g.Da(),u=this.g.ba();if(!(3>r)&&(3!=r||C2||this.g&&(this.h.h||this.g.ga()||Ri(this.g)))){this.I||4!=r||7==a||D1(8==a||0>=u?3:2),lr(this);var h=this.g.ba();this.N=h;t:if(ss(this)){var g=Ri(this.g);c="";var w=g.length,V=4==_r(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){nr(this),q2(this);var B="";break t}this.h.i=new Ae.TextDecoder}for(a=0;a<w;a++)this.h.h=!0,c+=this.h.i.decode(g[a],{stream:V&&a==w-1});g.splice(0,w),this.h.g+=c,this.C=0,B=this.h.g}else B=this.g.ga();if(this.i=200==h,function(c,r,a,u,h,g,w){c.info(function(){return"XMLHTTP RESP ("+u+") [ attempt "+h+"]: "+r+"\n"+a+"\n"+g+" "+w})}(this.j,this.u,this.A,this.m,this.X,r,h),this.i){if(this.$&&!this.J){t:{if(this.g){var X,oe=this.g;if((X=oe.g?oe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ln(X)){var Ee=X;break t}}Ee=null}if(!(h=Ee)){this.i=!1,this.o=3,N1(12),nr(this),q2(this);break e}Wr(this.j,this.m,h,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,A2(this,h)}this.U?(Nr(this,r,B),C2&&this.i&&3==r&&(Tr(this.V,this.W,"tick",this.fb),this.W.start())):(Wr(this.j,this.m,B,null),A2(this,B)),4==r&&nr(this),this.i&&!this.I&&(4==r?W1(this.l,this):(this.i=!1,I2(this)))}else 400==h&&0<B.indexOf("Unknown SID")?(this.o=3,N1(12)):(this.o=0,N1(13)),nr(this),q2(this)}}}catch(Ze){}},ye.fb=function(){if(this.g){var c=_r(this.g),r=this.g.ga();this.C<r.length&&(lr(this),Nr(this,c,r),this.i&&4!=c&&I2(this))}},ye.cancel=function(){this.I=!0,nr(this)},ye.eb=function(){this.B=null;var c=Date.now();0<=c-this.Y?(function(c,r){c.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(D1(3),N1(17)),nr(this),this.o=2,q2(this)):hi(this,this.Y-c)},(ye=ur.prototype).R=function(){a1(this);for(var c=[],r=0;r<this.g.length;r++)c.push(this.h[this.g[r]]);return c},ye.T=function(){return a1(this),this.g.concat()},ye.get=function(c,r){return rr(this.h,c)?this.h[c]:r},ye.set=function(c,r){rr(this.h,c)||(this.i++,this.g.push(c)),this.h[c]=r},ye.forEach=function(c,r){for(var a=this.T(),u=0;u<a.length;u++){var h=a[u],g=this.get(h);c.call(r,g,h,this)}};var P=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function O(c,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,c instanceof O){this.g=void 0!==r?r:c.g,fe(this,c.j),this.s=c.s,ze(this,c.i),nt(this,c.m),this.l=c.l,r=c.h;var a=new zr;a.i=r.i,r.g&&(a.g=new ur(r.g),a.h=r.h),xt(this,a),this.o=c.o}else c&&(a=String(c).match(P))?(this.g=!!r,fe(this,a[1]||"",!0),this.s=Un(a[2]||""),ze(this,a[3]||"",!0),nt(this,a[4]),this.l=Un(a[5]||"",!0),xt(this,a[6]||"",!0),this.o=Un(a[7]||"")):(this.g=!!r,this.h=new zr(null,this.g))}function q(c){return new O(c)}function fe(c,r,a){c.j=a?Un(r,!0):r,c.j&&(c.j=c.j.replace(/:$/,""))}function ze(c,r,a){c.i=a?Un(r,!0):r}function nt(c,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);c.m=r}else c.m=null}function xt(c,r,a){r instanceof zr?(c.h=r,function(c,r){r&&!c.j&&(L1(c),c.i=null,c.g.forEach(function(a,u){var h=u.toLowerCase();u!=h&&(as(this,u),qt(this,h,a))},c)),c.j=r}(c.h,c.g)):(a||(r=an(r,Lr)),c.h=new zr(r,c.g))}function Ht(c,r,a){c.h.set(r,a)}function Bt(c){return Ht(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Un(c,r){return c?r?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function an(c,r,a){return"string"==typeof c?(c=encodeURI(c).replace(r,c1),a&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function c1(c){return"%"+((c=c.charCodeAt(0))>>4&15).toString(16)+(15&c).toString(16)}O.prototype.toString=function(){var c=[],r=this.j;r&&c.push(an(r,qr,!0),":");var a=this.i;return(a||"file"==r)&&(c.push("//"),(r=this.s)&&c.push(an(r,qr,!0),"@"),c.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(a=this.m)&&c.push(":",String(a))),(a=this.l)&&(this.i&&"/"!=a.charAt(0)&&c.push("/"),c.push(an(a,"/"==a.charAt(0)?i1:w1,!0))),(a=this.h.toString())&&c.push("?",a),(a=this.o)&&c.push("#",an(a,H1)),c.join("")};var qr=/[#\/\?@]/g,w1=/[#\?:]/g,i1=/[#\?]/g,Lr=/[#\?@]/g,H1=/#/g;function zr(c,r){this.h=this.g=null,this.i=c||null,this.j=!!r}function L1(c){c.g||(c.g=new ur,c.h=0,c.i&&function(c,r){if(c){c=c.split("&");for(var a=0;a<c.length;a++){var u=c[a].indexOf("="),h=null;if(0<=u){var g=c[a].substring(0,u);h=c[a].substring(u+1)}else g=c[a];r(g,h?decodeURIComponent(h.replace(/\+/g," ")):"")}}}(c.i,function(r,a){c.add(decodeURIComponent(r.replace(/\+/g," ")),a)}))}function as(c,r){L1(c),r=cs(c,r),rr(c.g.h,r)&&(c.i=null,c.h-=c.g.get(r).length,rr((c=c.g).h,r)&&(delete c.h[r],c.i--,c.g.length>2*c.i&&a1(c)))}function Vs(c,r){return L1(c),r=cs(c,r),rr(c.g.h,r)}function qt(c,r,a){as(c,r),0<a.length&&(c.i=null,c.g.set(cs(c,r),Nn(a)),c.h+=a.length)}function cs(c,r){return r=String(r),c.j&&(r=r.toLowerCase()),r}(ye=zr.prototype).add=function(c,r){L1(this),this.i=null,c=cs(this,c);var a=this.g.get(c);return a||this.g.set(c,a=[]),a.push(r),this.h+=1,this},ye.forEach=function(c,r){L1(this),this.g.forEach(function(a,u){Mn(a,function(h){c.call(r,h,u,this)},this)},this)},ye.T=function(){L1(this);for(var c=this.g.R(),r=this.g.T(),a=[],u=0;u<r.length;u++)for(var h=c[u],g=0;g<h.length;g++)a.push(r[u]);return a},ye.R=function(c){L1(this);var r=[];if("string"==typeof c)Vs(this,c)&&(r=wn(r,this.g.get(cs(this,c))));else{c=this.g.R();for(var a=0;a<c.length;a++)r=wn(r,c[a])}return r},ye.set=function(c,r){return L1(this),this.i=null,Vs(this,c=cs(this,c))&&(this.h-=this.g.get(c).length),this.g.set(c,[r]),this.h+=1,this},ye.get=function(c,r){return c&&0<(c=this.R(c)).length?String(c[0]):r},ye.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var c=[],r=this.g.T(),a=0;a<r.length;a++){var u=r[a],h=encodeURIComponent(String(u));u=this.R(u);for(var g=0;g<u.length;g++){var w=h;""!==u[g]&&(w+="="+encodeURIComponent(String(u[g]))),c.push(w)}}return this.i=c.join("&")};var ao=function(r,a){this.h=r,this.g=a};function Ps(c){this.l=c||Z2,c=Ae.PerformanceNavigationTiming?0<(c=Ae.performance.getEntriesByType("navigation")).length&&("hq"==c[0].nextHopProtocol||"h2"==c[0].nextHopProtocol):!!(Ae.g&&Ae.g.Ea&&Ae.g.Ea()&&Ae.g.Ea().Zb),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Z2=10;function Os(c){return!!c.h||!!c.g&&c.g.size>=c.j}function Ro(c){return c.h?1:c.g?c.g.size:0}function Qe(c,r){return c.h?c.h==r:!!c.g&&c.g.has(r)}function yn(c,r){c.g?c.g.add(r):c.h=r}function K2(c,r){c.h&&c.h==r?c.h=null:c.g&&c.g.has(r)&&c.g.delete(r)}function E1(c){var r,a;if(null!=c.h)return c.i.concat(c.h.D);if(null!=c.g&&0!==c.g.size){var u=c.i;try{for(var h=ke(c.g.values()),g=h.next();!g.done;g=h.next())u=u.concat(g.value.D)}catch(V){r={error:V}}finally{try{g&&!g.done&&(a=h.return)&&a.call(h)}finally{if(r)throw r.error}}return u}return Nn(c.i)}function zi(){}function H(){this.g=new zi}function z(c,r,a){var u=a||"";try{S2(c,function(h,g){var w=h;_t(h)&&(w=C1(h)),r.push(u+g+"="+encodeURIComponent(w))})}catch(h){throw r.push(u+"type="+encodeURIComponent("_badmap")),h}}function ie(c,r,a,u,h){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,h(u)}catch(g){}}function we(c){this.l=c.$b||null,this.j=c.ib||!1}function qe(c,r){St.call(this),this.D=c,this.u=r,this.m=void 0,this.readyState=Je,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ps.prototype.cancel=function(){var c,r;if(this.i=E1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var a=ke(this.g.values()),u=a.next();!u.done;u=a.next())u.value.cancel()}catch(g){c={error:g}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(c)throw c.error}}this.g.clear()}},zi.prototype.stringify=function(c){return Ae.JSON.stringify(c,void 0)},zi.prototype.parse=function(c){return Ae.JSON.parse(c,void 0)},Ct(we,Pr),we.prototype.g=function(){return new qe(this.l,this.j)},we.prototype.i=function(c){return function(){return c}}({}),Ct(qe,St);var Je=0;function $t(c){c.j.read().then(c.Sa.bind(c)).catch(c.ha.bind(c))}function dt(c){c.readyState=4,c.l=null,c.j=null,c.A=null,Tt(c)}function Tt(c){c.onreadystatechange&&c.onreadystatechange.call(c)}(ye=qe.prototype).open=function(c,r){if(this.readyState!=Je)throw this.abort(),Error("Error reopening a connection");this.C=c,this.B=r,this.readyState=1,Tt(this)},ye.send=function(c){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};c&&(r.body=c),(this.D||Ae).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},ye.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,dt(this)),this.readyState=Je},ye.Va=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Tt(this)),this.g&&(this.readyState=3,Tt(this),this.g)))if("arraybuffer"===this.responseType)c.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ae.ReadableStream&&"body"in c){if(this.j=c.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$t(this)}else c.text().then(this.Ua.bind(this),this.ha.bind(this))},ye.Sa=function(c){if(this.g){if(this.u&&c.value)this.response.push(c.value);else if(!this.u){var r=c.value?c.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!c.done}))&&(this.response=this.responseText+=r)}c.done?dt(this):Tt(this),3==this.readyState&&$t(this)}},ye.Ua=function(c){this.g&&(this.response=this.responseText=c,dt(this))},ye.Ta=function(c){this.g&&(this.response=c,dt(this))},ye.ha=function(){this.g&&dt(this)},ye.setRequestHeader=function(c,r){this.v.append(c,r)},ye.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},ye.getAllResponseHeaders=function(){if(!this.h)return"";for(var c=[],r=this.h.entries(),a=r.next();!a.done;)c.push((a=a.value)[0]+": "+a[1]),a=r.next();return c.join("\r\n")},Object.defineProperty(qe.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(c){this.m=c?"include":"same-origin"}});var cn=Ae.JSON.parse;function jt(c){St.call(this),this.headers=new ur,this.u=c||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gn,this.K=this.L=!1}Ct(jt,St);var Gn="",fr=/^https?$/i,s1=["POST","PUT"];function Zr(c){return"content-type"==c.toLowerCase()}function kr(c,r){c.h=!1,c.g&&(c.l=!0,c.g.abort(),c.l=!1),c.j=r,c.m=5,Kr(c),l1(c)}function Kr(c){c.D||(c.D=!0,nn(c,"complete"),nn(c,"error"))}function yr(c){if(c.h&&void 0!==Ue&&(!c.C[1]||4!=_r(c)||2!=c.ba()))if(c.v&&4==_r(c))T1(c.Fa,0,c);else if(nn(c,"readystatechange"),4==_r(c)){c.h=!1;try{var u,r=c.ba();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var a=!0;break e;default:a=!1}if(!(u=a)){var h;if(h=0===r){var g=String(c.H).match(P)[1]||null;if(!g&&Ae.self&&Ae.self.location){var w=Ae.self.location.protocol;g=w.substr(0,w.length-1)}h=!fr.test(g?g.toLowerCase():"")}u=h}if(u)nn(c,"complete"),nn(c,"success");else{c.m=6;try{var V=2<_r(c)?c.g.statusText:""}catch(B){V=""}c.j=V+" ["+c.ba()+"]",Kr(c)}}finally{l1(c)}}}function l1(c,r){if(c.g){di(c);var a=c.g,u=c.C[0]?Ne:null;c.g=null,c.C=null,r||nn(c,"ready");try{a.onreadystatechange=u}catch(h){}}}function di(c){c.g&&c.K&&(c.g.ontimeout=null),c.A&&(Ae.clearTimeout(c.A),c.A=null)}function _r(c){return c.g?c.g.readyState:0}function Ri(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.J){case Gn:case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch(r){return null}}function Y2(c,r,a){e:{for(u in a){var u=!1;break e}u=!0}u||(a=function(c){var r="";return Rt(c,function(a,u){r+=u,r+=":",r+=a,r+="\r\n"}),r}(a),"string"==typeof c?null!=a&&encodeURIComponent(String(a)):Ht(c,r,a))}function a2(c,r,a){return a&&a.internalChannelParams&&a.internalChannelParams[c]||r}function us(c){this.za=0,this.l=[],this.h=new Pn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=a2("failFast",!1,c),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=a2("baseRetryDelayMs",5e3,c),this.$a=a2("retryDelaySeedMs",1e4,c),this.Ya=a2("forwardChannelMaxRetries",2,c),this.ra=a2("forwardChannelRequestTimeoutMs",2e4,c),this.qa=c&&c.xmlHttpFactory||void 0,this.Ba=c&&c.Yb||!1,this.K=void 0,this.H=c&&c.supportsCrossDomainXhr||!1,this.J="",this.i=new Ps(c&&c.concurrentRequestLimit),this.Ca=new H,this.ja=c&&c.fastHandshake||!1,this.Ra=c&&c.Wb||!1,c&&c.Aa&&this.h.Aa(),c&&c.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&c&&c.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!c||!1!==c.Xb}function ks(c){if(p4(c),3==c.G){var r=c.V++,a=q(c.F);Ht(a,"SID",c.J),Ht(a,"RID",r),Ht(a,"TYPE","terminate"),co(c,a),(r=new E2(c,c.h,r,void 0)).K=2,r.v=Bt(q(a)),a=!1,Ae.navigator&&Ae.navigator.sendBeacon&&(a=Ae.navigator.sendBeacon(r.v.toString(),"")),!a&&Ae.Image&&((new Image).src=r.v,a=!0),a||(r.g=T2(r.l,null),r.g.ea(r.v)),r.F=Date.now(),I2(r)}ya(c)}function Vo(c){c.g&&(Po(c),c.g.cancel(),c.g=null)}function p4(c){Vo(c),c.u&&(Ae.clearTimeout(c.u),c.u=null),Pi(c),c.i.cancel(),c.m&&("number"==typeof c.m&&Ae.clearTimeout(c.m),c.m=null)}function G1(c,r){c.l.push(new ao(c.Za++,r)),3==c.G&&Hr(c)}function Hr(c){Os(c.i)||c.m||(c.m=!0,en(c.Ha,c),c.C=0)}function fs(c,r){var a;a=r?r.m:c.V++;var u=q(c.F);Ht(u,"SID",c.J),Ht(u,"RID",a),Ht(u,"AID",c.U),co(c,u),c.o&&c.s&&Y2(u,c.o,c.s),a=new E2(c,c.h,a,c.C+1),null===c.o&&(a.H=c.s),r&&(c.l=r.D.concat(c.l)),r=m4(c,a,1e3),a.setTimeout(Math.round(.5*c.ra)+Math.round(.5*c.ra*Math.random())),yn(c.i,a),Ni(a,u,r)}function co(c,r){c.j&&S2({},function(a,u){Ht(r,u,a)})}function m4(c,r,a){a=Math.min(c.l.length,a);var u=c.j?At(c.j.Oa,c.j,c):null;e:for(var h=c.l,g=-1;;){var w=["count="+a];-1==g?0<a?w.push("ofs="+(g=h[0].h)):g=0:w.push("ofs="+g);for(var V=!0,B=0;B<a;B++){var X=h[B].h,oe=h[B].g;if(0>(X-=g))g=Math.max(0,h[B].h-100),V=!1;else try{z(oe,w,"req"+X+"_")}catch(Ee){u&&u(oe)}}if(V){u=w.join("&");break e}}return c=c.l.splice(0,a),r.D=c,u}function g4(c){c.g||c.u||(c.Y=1,en(c.Ga,c),c.A=0)}function va(c){return!(c.g||c.u||3<=c.A||(c.Y++,c.u=li(At(c.Ga,c),Oo(c,c.A)),c.A++,0))}function Po(c){null!=c.B&&(Ae.clearTimeout(c.B),c.B=null)}function Vi(c){c.g=new E2(c,c.h,"rpc",c.Y),null===c.o&&(c.g.H=c.s),c.g.O=0;var r=q(c.oa);Ht(r,"RID","rpc"),Ht(r,"SID",c.J),Ht(r,"CI",c.N?"0":"1"),Ht(r,"AID",c.U),co(c,r),Ht(r,"TYPE","xmlhttp"),c.o&&c.s&&Y2(r,c.o,c.s),c.K&&c.g.setTimeout(c.K);var a=c.g;c=c.la,a.K=1,a.v=Bt(q(r)),a.s=null,a.U=!0,is(a,c)}function Pi(c){null!=c.v&&(Ae.clearTimeout(c.v),c.v=null)}function W1(c,r){var a=null;if(c.g==r){Pi(c),Po(c),c.g=null;var u=2}else{if(!Qe(c.i,r))return;a=r.D,K2(c.i,r),u=1}if(c.I=r.N,0!=c.G)if(r.i)if(1==u){a=r.s?r.s.length:0,r=Date.now()-r.F;var h=c.C;nn(u=Dr(),new $2(u,a,r,h)),Hr(c)}else g4(c);else if(3==(h=r.o)||0==h&&0<c.I||!(1==u&&function(c,r){return!(Ro(c.i)>=c.i.j-(c.m?1:0)||(c.m?(c.l=r.D.concat(c.l),0):1==c.G||2==c.G||c.C>=(c.Xa?0:c.Ya)||(c.m=li(At(c.Ha,c,r),Oo(c,c.C)),c.C++,0)))}(c,r)||2==u&&va(c)))switch(a&&0<a.length&&(r=c.i,r.i=r.i.concat(a)),h){case 1:x2(c,5);break;case 4:x2(c,10);break;case 3:x2(c,6);break;default:x2(c,2)}}function Oo(c,r){var a=c.Pa+Math.floor(Math.random()*c.$a);return c.j||(a*=2),a*r}function x2(c,r){if(c.h.info("Error code "+r),2==r){var a=null;c.j&&(a=null);var u=At(c.jb,c);a||(a=new O("//www.google.com/images/cleardot.gif"),Ae.location&&"http"==Ae.location.protocol||fe(a,"https"),Bt(a)),function(c,r){var a=new Pn;if(Ae.Image){var u=new Image;u.onload=Cn(ie,a,u,"TestLoadImage: loaded",!0,r),u.onerror=Cn(ie,a,u,"TestLoadImage: error",!1,r),u.onabort=Cn(ie,a,u,"TestLoadImage: abort",!1,r),u.ontimeout=Cn(ie,a,u,"TestLoadImage: timeout",!1,r),Ae.setTimeout(function(){u.ontimeout&&u.ontimeout()},1e4),u.src=c}else r(!1)}(a.toString(),u)}else N1(2);c.G=0,c.j&&c.j.va(r),ya(c),p4(c)}function ya(c){c.G=0,c.I=-1,c.j&&((0!=E1(c.i).length||0!=c.l.length)&&(c.i.i.length=0,Nn(c.l),c.l.length=0),c.j.ua())}function c2(c,r,a){var u=function(c){return c instanceof O?q(c):new O(c,void 0)}(a);if(""!=u.i)r&&ze(u,r+"."+u.i),nt(u,u.m);else{var h=Ae.location;u=function(c,r,a,u){var h=new O(null,void 0);return c&&fe(h,c),r&&ze(h,r),a&&nt(h,a),u&&(h.l=u),h}(h.protocol,r?r+"."+h.hostname:h.hostname,+h.port,a)}return c.aa&&Rt(c.aa,function(g,w){Ht(u,w,g)}),a=c.sa,(r=c.D)&&a&&Ht(u,r,a),Ht(u,"VER",c.ma),co(c,u),u}function T2(c,r,a){if(r&&!c.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new jt(a&&c.Ba&&!c.qa?new we({ib:!0}):c.qa)).L=c.H,r}function v4(){}function Oi(){if(Et&&!(10<=Number(ln)))throw Error("Environmental error: no available transport.")}function q1(c,r){St.call(this),this.g=new us(r),this.l=c,this.h=r&&r.messageUrlParams||null,c=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.s=c,c=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(c?c["X-WebChannel-Content-Type"]=r.messageContentType:c={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(c?c["X-WebChannel-Client-Profile"]=r.ya:c={"X-WebChannel-Client-Profile":r.ya}),this.g.P=c,(c=r&&r.httpHeadersOverwriteParam)&&!Ln(c)&&(this.g.o=c),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!Ln(r)&&(this.g.D=r,null!==(c=this.h)&&r in c&&r in(c=this.h)&&delete c[r]),this.j=new ki(this)}function M1(c){xi.call(this);var r=c.__sm__;if(r){e:{for(var a in r){c=a;break e}c=void 0}(this.i=c)&&(c=this.i,r=null!==r&&c in r?r[c]:void 0),this.data=r}else this.data=c}function _a(){Ti.call(this),this.status=1}function ki(c){this.g=c}(ye=jt.prototype).ea=function(c,r,a,u){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+c);r=r?r.toUpperCase():"GET",this.H=c,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():w2.g(),this.C=function(c){return c.h||(c.h=c.i())}(this.u?this.u:w2),this.g.onreadystatechange=At(this.Fa,this);try{this.F=!0,this.g.open(r,String(c),!0),this.F=!1}catch(g){return void kr(this,g)}c=a||"";var h=new ur(this.headers);u&&S2(u,function(g,w){h.set(w,g)}),u=function(c){e:{for(var r=Zr,a=c.length,u="string"==typeof c?c.split(""):c,h=0;h<a;h++)if(h in u&&r.call(void 0,u[h],h,c)){r=h;break e}r=-1}return 0>r?null:"string"==typeof c?c.charAt(r):c[r]}(h.T()),a=Ae.FormData&&c instanceof Ae.FormData,!(0<=Xn(s1,r))||u||a||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),h.forEach(function(g,w){this.g.setRequestHeader(w,g)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{di(this),0<this.B&&((this.K=function(c){return Et&&Te()&&"number"==typeof c.timeout&&void 0!==c.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=At(this.pa,this)):this.A=T1(this.pa,this.B,this)),this.v=!0,this.g.send(c),this.v=!1}catch(g){kr(this,g)}},ye.pa=function(){void 0!==Ue&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,nn(this,"timeout"),this.abort(8))},ye.abort=function(c){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=c||7,nn(this,"complete"),nn(this,"abort"),l1(this))},ye.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),l1(this,!0)),jt.Z.M.call(this)},ye.Fa=function(){this.s||(this.F||this.v||this.l?yr(this):this.cb())},ye.cb=function(){yr(this)},ye.ba=function(){try{return 2<_r(this)?this.g.status:-1}catch(c){return-1}},ye.ga=function(){try{return this.g?this.g.responseText:""}catch(c){return""}},ye.Qa=function(c){if(this.g){var r=this.g.responseText;return c&&0==r.indexOf(c)&&(r=r.substring(c.length)),cn(r)}},ye.Da=function(){return this.m},ye.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(ye=us.prototype).ma=8,ye.G=1,ye.hb=function(c){try{this.h.info("Origin Trials invoked: "+c)}catch(r){}},ye.Ha=function(c){if(this.m)if(this.m=null,1==this.G){if(!c){this.V=Math.floor(1e5*Math.random()),c=this.V++;var r=new E2(this,this.h,c,void 0),a=this.s;if(this.P&&(a?Hn(a=et(a),this.P):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var u=0,h=0;h<this.l.length;h++){var g=this.l[h];if(void 0===(g="__data__"in g.g&&"string"==typeof(g=g.g.__data__)?g.length:void 0))break;if(4096<(u+=g)){u=h;break e}if(4096===u||h===this.l.length-1){u=h+1;break e}}u=1e3}else u=1e3;u=m4(this,r,u),Ht(h=q(this.F),"RID",c),Ht(h,"CVER",22),this.D&&Ht(h,"X-HTTP-Session-Id",this.D),co(this,h),this.o&&a&&Y2(h,this.o,a),yn(this.i,r),this.Ra&&Ht(h,"TYPE","init"),this.ja?(Ht(h,"$req",u),Ht(h,"SID","null"),r.$=!0,Ni(r,h,null)):Ni(r,h,u),this.G=2}}else 3==this.G&&(c?fs(this,c):0==this.l.length||Os(this.i)||fs(this))},ye.Ga=function(){if(this.u=null,Vi(this),this.$&&!(this.L||null==this.g||0>=this.O)){var c=2*this.O;this.h.info("BP detection timer enabled: "+c),this.B=li(At(this.bb,this),c)}},ye.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,N1(10),Vo(this),Vi(this))},ye.ab=function(){null!=this.v&&(this.v=null,Vo(this),va(this),N1(19))},ye.jb=function(c){c?(this.h.info("Successfully pinged google.com"),N1(2)):(this.h.info("Failed to ping google.com"),N1(1))},(ye=v4.prototype).xa=function(){},ye.wa=function(){},ye.va=function(){},ye.ua=function(){},ye.Oa=function(){},Oi.prototype.g=function(c,r){return new q1(c,r)},Ct(q1,St),q1.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var c=this.g,r=this.l,a=this.h||void 0;c.Wa&&(c.h.info("Origin Trials enabled."),en(At(c.hb,c,r))),N1(0),c.W=r,c.aa=a||{},c.N=c.X,c.F=c2(c,null,c.W),Hr(c)},q1.prototype.close=function(){ks(this.g)},q1.prototype.u=function(c){if("string"==typeof c){var r={};r.__data__=c,G1(this.g,r)}else this.v?((r={}).__data__=C1(c),G1(this.g,r)):G1(this.g,c)},q1.prototype.M=function(){this.g.j=null,delete this.j,ks(this.g),delete this.g,q1.Z.M.call(this)},Ct(M1,xi),Ct(_a,Ti),Ct(ki,v4),ki.prototype.xa=function(){nn(this.g,"a")},ki.prototype.wa=function(c){nn(this.g,new M1(c))},ki.prototype.va=function(c){nn(this.g,new _a(c))},ki.prototype.ua=function(){nn(this.g,"b")},Oi.prototype.createWebChannel=Oi.prototype.g,q1.prototype.send=q1.prototype.u,q1.prototype.open=q1.prototype.m,q1.prototype.close=q1.prototype.close,o2.NO_ERROR=0,o2.TIMEOUT=8,o2.HTTP_ERROR=6,tr.COMPLETE="complete",Rs.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",St.prototype.listen=St.prototype.N,jt.prototype.listenOnce=jt.prototype.O,jt.prototype.getLastError=jt.prototype.La,jt.prototype.getLastErrorCode=jt.prototype.Da,jt.prototype.getStatus=jt.prototype.ba,jt.prototype.getResponseJson=jt.prototype.Qa,jt.prototype.getResponseText=jt.prototype.ga,jt.prototype.send=jt.prototype.ea;var pi=o2,_4=tr,D2=X1,hs_PROXY=10,hs_NOPROXY=11,Hs=we,ds=Rs,N2=jt;let Q2="8.8.1",Cr=(()=>{class c{constructor(a,u){this.previousValue=a,u&&(u.sequenceNumberHandler=h=>this.t(h),this.i=h=>u.writeSequenceNumber(h))}t(a){return this.previousValue=Math.max(a,this.previousValue),this.previousValue}next(){const a=++this.previousValue;return this.i&&this.i(a),a}}return c.o=-1,c})();const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Error{constructor(r,a){super(a),this.code=r,this.message=a,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}const L2=new Yt.Yd("@firebase/firestore");function Ho(){return L2.logLevel}function ft(c,...r){if(L2.logLevel<=Yt.in.DEBUG){const a=r.map(Fs);L2.debug(`Firestore (${Q2}): ${c}`,...a)}}function z1(c,...r){if(L2.logLevel<=Yt.in.ERROR){const a=r.map(Fs);L2.error(`Firestore (${Q2}): ${c}`,...a)}}function Hi(c,...r){if(L2.logLevel<=Yt.in.WARN){const a=r.map(Fs);L2.warn(`Firestore (${Q2}): ${c}`,...a)}}function Fs(c){if("string"==typeof c)return c;try{return JSON.stringify(c)}catch(a){return c}}function zt(c="Unexpected state"){const r=`FIRESTORE (${Q2}) INTERNAL ASSERTION FAILED: `+c;throw z1(r),new Error(r)}function A(c,r){c||zt()}function C(c,r){return c}function b(c){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),a=new Uint8Array(c);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(a);else for(let u=0;u<c;u++)a[u]=Math.floor(256*Math.random());return a}class R{static u(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/r.length)*r.length;let u="";for(;u.length<20;){const h=b(40);for(let g=0;g<h.length;++g)u.length<20&&h[g]<a&&(u+=r.charAt(h[g]%r.length))}return u}}function k(c,r){return c<r?-1:c>r?1:0}function W(c,r,a){return c.length===r.length&&c.every((u,h)=>a(u,r[h]))}function se(c){return c+"\0"}class pe{constructor(r,a){if(this.seconds=r,this.nanoseconds=a,a<0)throw new st(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new st(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(r<-62135596800)throw new st(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new st(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return pe.fromMillis(Date.now())}static fromDate(r){return pe.fromMillis(r.getTime())}static fromMillis(r){const a=Math.floor(r/1e3),u=Math.floor(1e6*(r-1e3*a));return new pe(a,u)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?k(this.nanoseconds,r.nanoseconds):k(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Re{constructor(r){this.timestamp=r}static fromTimestamp(r){return new Re(r)}static min(){return new Re(new pe(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function bt(c){let r=0;for(const a in c)Object.prototype.hasOwnProperty.call(c,a)&&r++;return r}function Ot(c,r){for(const a in c)Object.prototype.hasOwnProperty.call(c,a)&&r(a,c[a])}function pn(c){for(const r in c)if(Object.prototype.hasOwnProperty.call(c,r))return!1;return!0}class Tn{constructor(r,a,u){void 0===a?a=0:a>r.length&&zt(),void 0===u?u=r.length-a:u>r.length-a&&zt(),this.segments=r,this.offset=a,this.len=u}get length(){return this.len}isEqual(r){return 0===Tn.comparator(this,r)}child(r){const a=this.segments.slice(this.offset,this.limit());return r instanceof Tn?r.forEach(u=>{a.push(u)}):a.push(r),this.construct(a)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==r.get(a))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==r.get(a))return!1;return!0}forEach(r){for(let a=this.offset,u=this.limit();a<u;a++)r(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,a){const u=Math.min(r.length,a.length);for(let h=0;h<u;h++){const g=r.get(h),w=a.get(h);if(g<w)return-1;if(g>w)return 1}return r.length<a.length?-1:r.length>a.length?1:0}}class Dt extends Tn{construct(r,a,u){return new Dt(r,a,u)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const a=[];for(const u of r){if(u.indexOf("//")>=0)throw new st(Ge.INVALID_ARGUMENT,`Invalid segment (${u}). Paths must not contain // in them.`);a.push(...u.split("/").filter(h=>h.length>0))}return new Dt(a)}static emptyPath(){return new Dt([])}}const z2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class t1 extends Tn{construct(r,a,u){return new t1(r,a,u)}static isValidIdentifier(r){return z2.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t1.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new t1(["__name__"])}static fromServerFormat(r){const a=[];let u="",h=0;const g=()=>{if(0===u.length)throw new st(Ge.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(u),u=""};let w=!1;for(;h<r.length;){const V=r[h];if("\\"===V){if(h+1===r.length)throw new st(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const B=r[h+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new st(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);u+=B,h+=2}else"`"===V?(w=!w,h++):"."!==V||w?(u+=V,h++):(g(),h++)}if(g(),w)throw new st(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new t1(a)}static emptyPath(){return new t1([])}}class p1{constructor(r){this.fields=r,r.sort(t1.comparator)}covers(r){for(const a of this.fields)if(a.isPrefixOf(r))return!0;return!1}isEqual(r){return W(this.fields,r.fields,(a,u)=>a.isEqual(u))}}class Jn{constructor(r){this.binaryString=r}static fromBase64String(r){const a=atob(r);return new Jn(a)}static fromUint8Array(r){const a=function(u){let h="";for(let g=0;g<u.length;++g)h+=String.fromCharCode(u[g]);return h}(r);return new Jn(a)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const a=new Uint8Array(r.length);for(let u=0;u<r.length;u++)a[u]=r.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return k(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}Jn.EMPTY_BYTE_STRING=new Jn("");const R2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Z1(c){if(A(!!c),"string"==typeof c){let r=0;const a=R2.exec(c);if(A(!!a),a[1]){let h=a[1];h=(h+"000000000").substr(0,9),r=Number(h)}const u=new Date(c);return{seconds:Math.floor(u.getTime()/1e3),nanos:r}}return{seconds:f1(c.seconds),nanos:f1(c.nanos)}}function f1(c){return"number"==typeof c?c:"string"==typeof c?Number(c):0}function J2(c){return"string"==typeof c?Jn.fromBase64String(c):Jn.fromUint8Array(c)}function V6(c){var r,a;return"server_timestamp"===(null===(a=((null===(r=null==c?void 0:c.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===a?void 0:a.stringValue)}function s3(c){const r=c.mapValue.fields.__previous_value__;return V6(r)?s3(r):r}function ba(c){const r=Z1(c.mapValue.fields.__local_write_time__.timestampValue);return new pe(r.seconds,r.nanos)}function Us(c){return null==c}function gc(c){return 0===c&&1/c==-1/0}function I1(c){return"number"==typeof c&&Number.isInteger(c)&&!gc(c)&&c<=Number.MAX_SAFE_INTEGER&&c>=Number.MIN_SAFE_INTEGER}class Ft{constructor(r){this.path=r}static fromPath(r){return new Ft(Dt.fromString(r))}static fromName(r){return new Ft(Dt.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===Dt.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,a){return Dt.comparator(r.path,a.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new Ft(new Dt(r.slice()))}}function Bs(c){return"nullValue"in c?0:"booleanValue"in c?1:"integerValue"in c||"doubleValue"in c?2:"timestampValue"in c?3:"stringValue"in c?5:"bytesValue"in c?6:"referenceValue"in c?7:"geoPointValue"in c?8:"arrayValue"in c?9:"mapValue"in c?V6(c)?4:10:zt()}function ps(c,r){const a=Bs(c);if(a!==Bs(r))return!1;switch(a){case 0:return!0;case 1:return c.booleanValue===r.booleanValue;case 4:return ba(c).isEqual(ba(r));case 3:return function(u,h){if("string"==typeof u.timestampValue&&"string"==typeof h.timestampValue&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const g=Z1(u.timestampValue),w=Z1(h.timestampValue);return g.seconds===w.seconds&&g.nanos===w.nanos}(c,r);case 5:return c.stringValue===r.stringValue;case 6:return h=r,J2(c.bytesValue).isEqual(J2(h.bytesValue));case 7:return c.referenceValue===r.referenceValue;case 8:return function(u,h){return f1(u.geoPointValue.latitude)===f1(h.geoPointValue.latitude)&&f1(u.geoPointValue.longitude)===f1(h.geoPointValue.longitude)}(c,r);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return f1(u.integerValue)===f1(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const g=f1(u.doubleValue),w=f1(h.doubleValue);return g===w?gc(g)===gc(w):isNaN(g)&&isNaN(w)}return!1}(c,r);case 9:return W(c.arrayValue.values||[],r.arrayValue.values||[],ps);case 10:return function(u,h){const g=u.mapValue.fields||{},w=h.mapValue.fields||{};if(bt(g)!==bt(w))return!1;for(const V in g)if(g.hasOwnProperty(V)&&(void 0===w[V]||!ps(g[V],w[V])))return!1;return!0}(c,r);default:return zt()}var h}function b4(c,r){return void 0!==(c.values||[]).find(a=>ps(a,r))}function wa(c,r){const a=Bs(c),u=Bs(r);if(a!==u)return k(a,u);switch(a){case 0:return 0;case 1:return k(c.booleanValue,r.booleanValue);case 2:return function(h,g){const w=f1(h.integerValue||h.doubleValue),V=f1(g.integerValue||g.doubleValue);return w<V?-1:w>V?1:w===V?0:isNaN(w)?isNaN(V)?0:-1:1}(c,r);case 3:return P6(c.timestampValue,r.timestampValue);case 4:return P6(ba(c),ba(r));case 5:return k(c.stringValue,r.stringValue);case 6:return function(h,g){const w=J2(h),V=J2(g);return w.compareTo(V)}(c.bytesValue,r.bytesValue);case 7:return function(h,g){const w=h.split("/"),V=g.split("/");for(let B=0;B<w.length&&B<V.length;B++){const X=k(w[B],V[B]);if(0!==X)return X}return k(w.length,V.length)}(c.referenceValue,r.referenceValue);case 8:return function(h,g){const w=k(f1(h.latitude),f1(g.latitude));return 0!==w?w:k(f1(h.longitude),f1(g.longitude))}(c.geoPointValue,r.geoPointValue);case 9:return function(h,g){const w=h.values||[],V=g.values||[];for(let B=0;B<w.length&&B<V.length;++B){const X=wa(w[B],V[B]);if(X)return X}return k(w.length,V.length)}(c.arrayValue,r.arrayValue);case 10:return function(h,g){const w=h.fields||{},V=Object.keys(w),B=g.fields||{},X=Object.keys(B);V.sort(),X.sort();for(let oe=0;oe<V.length&&oe<X.length;++oe){const Ee=k(V[oe],X[oe]);if(0!==Ee)return Ee;const Ze=wa(w[V[oe]],B[X[oe]]);if(0!==Ze)return Ze}return k(V.length,X.length)}(c.mapValue,r.mapValue);default:throw zt()}}function P6(c,r){if("string"==typeof c&&"string"==typeof r&&c.length===r.length)return k(c,r);const a=Z1(c),u=Z1(r),h=k(a.seconds,u.seconds);return 0!==h?h:k(a.nanos,u.nanos)}function O6(c){return k6(c)}function k6(c){return"nullValue"in c?"null":"booleanValue"in c?""+c.booleanValue:"integerValue"in c?""+c.integerValue:"doubleValue"in c?""+c.doubleValue:"timestampValue"in c?function(u){const h=Z1(u);return`time(${h.seconds},${h.nanos})`}(c.timestampValue):"stringValue"in c?c.stringValue:"bytesValue"in c?J2(c.bytesValue).toBase64():"referenceValue"in c?Ft.fromName(c.referenceValue).toString():"geoPointValue"in c?`geo(${(r=c.geoPointValue).latitude},${r.longitude})`:"arrayValue"in c?function(u){let h="[",g=!0;for(const w of u.values||[])g?g=!1:h+=",",h+=k6(w);return h+"]"}(c.arrayValue):"mapValue"in c?function(u){const h=Object.keys(u.fields||{}).sort();let g="{",w=!0;for(const V of h)w?w=!1:g+=",",g+=`${V}:${k6(u.fields[V])}`;return g+"}"}(c.mapValue):zt();var r}function ms(c,r){return{referenceValue:`projects/${c.projectId}/databases/${c.database}/documents/${r.path.canonicalString()}`}}function w4(c){return!!c&&"integerValue"in c}function H6(c){return!!c&&"arrayValue"in c}function Fo(c){return!!c&&"nullValue"in c}function o3(c){return!!c&&"doubleValue"in c&&isNaN(Number(c.doubleValue))}function A1(c){return!!c&&"mapValue"in c}function gs(c){if(c.geoPointValue)return{geoPointValue:Object.assign({},c.geoPointValue)};if(c.timestampValue&&"object"==typeof c.timestampValue)return{timestampValue:Object.assign({},c.timestampValue)};if(c.mapValue){const r={mapValue:{fields:{}}};return Ot(c.mapValue.fields,(a,u)=>r.mapValue.fields[a]=gs(u)),r}if(c.arrayValue){const r={arrayValue:{values:[]}};for(let a=0;a<(c.arrayValue.values||[]).length;++a)r.arrayValue.values[a]=gs(c.arrayValue.values[a]);return r}return Object.assign({},c)}class hr{constructor(r){this.value=r}static empty(){return new hr({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let a=this.value;for(let u=0;u<r.length-1;++u)if(a=(a.mapValue.fields||{})[r.get(u)],!A1(a))return null;return a=(a.mapValue.fields||{})[r.lastSegment()],a||null}}set(r,a){this.getFieldsMap(r.popLast())[r.lastSegment()]=gs(a)}setAll(r){let a=t1.emptyPath(),u={},h=[];r.forEach((w,V)=>{if(!a.isImmediateParentOf(V)){const B=this.getFieldsMap(a);this.applyChanges(B,u,h),u={},h=[],a=V.popLast()}w?u[V.lastSegment()]=gs(w):h.push(V.lastSegment())});const g=this.getFieldsMap(a);this.applyChanges(g,u,h)}delete(r){const a=this.field(r.popLast());A1(a)&&a.mapValue.fields&&delete a.mapValue.fields[r.lastSegment()]}isEqual(r){return ps(this.value,r.value)}getFieldsMap(r){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let u=0;u<r.length;++u){let h=a.mapValue.fields[r.get(u)];A1(h)&&h.mapValue.fields||(h={mapValue:{fields:{}}},a.mapValue.fields[r.get(u)]=h),a=h}return a.mapValue.fields}applyChanges(r,a,u){Ot(a,(h,g)=>r[h]=g);for(const h of u)delete r[h]}clone(){return new hr(gs(this.value))}}function vc(c){const r=[];return Ot(c.fields,(a,u)=>{const h=new t1([a]);if(A1(u)){const g=vc(u.mapValue).fields;if(0===g.length)r.push(h);else for(const w of g)r.push(h.child(w))}else r.push(h)}),new p1(r)}class S1{constructor(r,a,u,h,g){this.key=r,this.documentType=a,this.version=u,this.data=h,this.documentState=g}static newInvalidDocument(r){return new S1(r,0,Re.min(),hr.empty(),0)}static newFoundDocument(r,a,u){return new S1(r,1,a,u,0)}static newNoDocument(r,a){return new S1(r,2,a,hr.empty(),0)}static newUnknownDocument(r,a){return new S1(r,3,a,hr.empty(),2)}convertToFoundDocument(r,a){return this.version=r,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof S1&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}clone(){return new S1(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class X2{constructor(r,a=null,u=[],h=[],g=null,w=null,V=null){this.path=r,this.collectionGroup=a,this.orderBy=u,this.filters=h,this.limit=g,this.startAt=w,this.endAt=V,this.h=null}}function V2(c,r=null,a=[],u=[],h=null,g=null,w=null){return new X2(c,r,a,u,h,g,w)}function Fi(c){const r=C(c);if(null===r.h){let a=r.path.canonicalString();null!==r.collectionGroup&&(a+="|cg:"+r.collectionGroup),a+="|f:",a+=r.filters.map(u=>function(c){return c.field.canonicalString()+c.op.toString()+O6(c.value)}(u)).join(","),a+="|ob:",a+=r.orderBy.map(u=>{return(h=u).field.canonicalString()+h.dir;var h}).join(","),Us(r.limit)||(a+="|l:",a+=r.limit),r.startAt&&(a+="|lb:",a+=Bo(r.startAt)),r.endAt&&(a+="|ub:",a+=Bo(r.endAt)),r.h=a}return r.h}function mi(c,r){if(c.limit!==r.limit||c.orderBy.length!==r.orderBy.length)return!1;for(let h=0;h<c.orderBy.length;h++)if(!yc(c.orderBy[h],r.orderBy[h]))return!1;if(c.filters.length!==r.filters.length)return!1;for(let h=0;h<c.filters.length;h++)if((a=c.filters[h]).op!==(u=r.filters[h]).op||!a.field.isEqual(u.field)||!ps(a.value,u.value))return!1;var a,u;return c.collectionGroup===r.collectionGroup&&!!c.path.isEqual(r.path)&&!!$s(c.startAt,r.startAt)&&$s(c.endAt,r.endAt)}function uo(c){return Ft.isDocumentKey(c.path)&&null===c.collectionGroup&&0===c.filters.length}class Fr extends class{}{constructor(r,a,u){super(),this.field=r,this.op=a,this.value=u}static create(r,a,u){return r.isKeyField()?"in"===a||"not-in"===a?this.l(r,a,u):new Ml(r,a,u):"array-contains"===a?new Ea(r,u):"in"===a?new Uo(r,u):"not-in"===a?new Il(r,u):"array-contains-any"===a?new E4(r,u):new Fr(r,a,u)}static l(r,a,u){return"in"===a?new F6(r,u):new U6(r,u)}matches(r){const a=r.data.field(this.field);return"!="===this.op?null!==a&&this.m(wa(a,this.value)):null!==a&&Bs(this.value)===Bs(a)&&this.m(wa(a,this.value))}m(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return zt()}}g(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Ml extends Fr{constructor(r,a,u){super(r,a,u),this.key=Ft.fromName(u.referenceValue)}matches(r){const a=Ft.comparator(r.key,this.key);return this.m(a)}}class F6 extends Fr{constructor(r,a){super(r,"in",a),this.keys=l2(0,a)}matches(r){return this.keys.some(a=>a.isEqual(r.key))}}class U6 extends Fr{constructor(r,a){super(r,"not-in",a),this.keys=l2(0,a)}matches(r){return!this.keys.some(a=>a.isEqual(r.key))}}function l2(c,r){var a;return((null===(a=r.arrayValue)||void 0===a?void 0:a.values)||[]).map(u=>Ft.fromName(u.referenceValue))}class Ea extends Fr{constructor(r,a){super(r,"array-contains",a)}matches(r){const a=r.data.field(this.field);return H6(a)&&b4(a.arrayValue,this.value)}}class Uo extends Fr{constructor(r,a){super(r,"in",a)}matches(r){const a=r.data.field(this.field);return null!==a&&b4(this.value.arrayValue,a)}}class Il extends Fr{constructor(r,a){super(r,"not-in",a)}matches(r){if(b4(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=r.data.field(this.field);return null!==a&&!b4(this.value.arrayValue,a)}}class E4 extends Fr{constructor(r,a){super(r,"array-contains-any",a)}matches(r){const a=r.data.field(this.field);return!(!H6(a)||!a.arrayValue.values)&&a.arrayValue.values.some(u=>b4(this.value.arrayValue,u))}}class Ma{constructor(r,a){this.position=r,this.before=a}}function Bo(c){return`${c.before?"b":"a"}:${c.position.map(r=>O6(r)).join(",")}`}class js{constructor(r,a="asc"){this.field=r,this.dir=a}}function yc(c,r){return c.dir===r.dir&&c.field.isEqual(r.field)}function _c(c,r,a){let u=0;for(let h=0;h<c.position.length;h++){const g=r[h],w=c.position[h];if(u=g.field.isKeyField()?Ft.comparator(Ft.fromName(w.referenceValue),a.key):wa(w,a.data.field(g.field)),"desc"===g.dir&&(u*=-1),0!==u)break}return c.before?u<=0:u<0}function $s(c,r){if(null===c)return null===r;if(null===r||c.before!==r.before||c.position.length!==r.position.length)return!1;for(let a=0;a<c.position.length;a++)if(!ps(c.position[a],r.position[a]))return!1;return!0}class gi{constructor(r,a=null,u=[],h=[],g=null,w="F",V=null,B=null){this.path=r,this.collectionGroup=a,this.explicitOrderBy=u,this.filters=h,this.limit=g,this.limitType=w,this.startAt=V,this.endAt=B,this.p=null,this.T=null}}function Ia(c,r,a,u,h,g,w,V){return new gi(c,r,a,u,h,g,w,V)}function fo(c){return new gi(c)}function Gs(c){return!Us(c.limit)&&"F"===c.limitType}function Ws(c){return!Us(c.limit)&&"L"===c.limitType}function qs(c){return c.explicitOrderBy.length>0?c.explicitOrderBy[0].field:null}function M4(c){for(const r of c.filters)if(r.g())return r.field;return null}function B6(c){return null!==c.collectionGroup}function jo(c){const r=C(c);if(null===r.p){r.p=[];const a=M4(r),u=qs(r);if(null!==a&&null===u)a.isKeyField()||r.p.push(new js(a)),r.p.push(new js(t1.keyField(),"asc"));else{let h=!1;for(const g of r.explicitOrderBy)r.p.push(g),g.field.isKeyField()&&(h=!0);if(!h){const g=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.p.push(new js(t1.keyField(),g))}}}return r.p}function P2(c){const r=C(c);if(!r.T)if("F"===r.limitType)r.T=V2(r.path,r.collectionGroup,jo(r),r.filters,r.limit,r.startAt,r.endAt);else{const a=[];for(const g of jo(r))a.push(new js(g.field,"desc"===g.dir?"asc":"desc"));const u=r.endAt?new Ma(r.endAt.position,!r.endAt.before):null,h=r.startAt?new Ma(r.startAt.position,!r.startAt.before):null;r.T=V2(r.path,r.collectionGroup,a,r.filters,r.limit,u,h)}return r.T}function Al(c,r,a){return new gi(c.path,c.collectionGroup,c.explicitOrderBy.slice(),c.filters.slice(),r,a,c.startAt,c.endAt)}function ho(c,r){return mi(P2(c),P2(r))&&c.limitType===r.limitType}function $o(c){return`${Fi(P2(c))}|lt:${c.limitType}`}function Zs(c){return`Query(target=${function(c){let r=c.path.canonicalString();return null!==c.collectionGroup&&(r+=" collectionGroup="+c.collectionGroup),c.filters.length>0&&(r+=`, filters: [${c.filters.map(a=>{return`${(u=a).field.canonicalString()} ${u.op} ${O6(u.value)}`;var u}).join(", ")}]`),Us(c.limit)||(r+=", limit: "+c.limit),c.orderBy.length>0&&(r+=`, orderBy: [${c.orderBy.map(a=>{return`${(u=a).field.canonicalString()} (${u.dir})`;var u}).join(", ")}]`),c.startAt&&(r+=", startAt: "+Bo(c.startAt)),c.endAt&&(r+=", endAt: "+Bo(c.endAt)),`Target(${r})`}(P2(c))}; limitType=${c.limitType})`}function Aa(c,r){return r.isFoundDocument()&&function(a,u){const h=u.key.path;return null!==a.collectionGroup?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):Ft.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(c,r)&&function(a,u){for(const h of a.explicitOrderBy)if(!h.field.isKeyField()&&null===u.data.field(h.field))return!1;return!0}(c,r)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(c,r)&&(u=r,!((a=c).startAt&&!_c(a.startAt,jo(a),u)||a.endAt&&_c(a.endAt,jo(a),u)));var a,u}function R1(c){return(r,a)=>{let u=!1;for(const h of jo(c)){const g=j6(h,r,a);if(0!==g)return g;u=u||h.field.isKeyField()}return 0}}function j6(c,r,a){const u=c.field.isKeyField()?Ft.comparator(r.key,a.key):function(h,g,w){const V=g.data.field(h),B=w.data.field(h);return null!==V&&null!==B?wa(V,B):zt()}(c.field,r,a);switch(c.dir){case"asc":return u;case"desc":return-1*u;default:return zt()}}function c3(c,r){if(c.I){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(r)?"-0":r}}function vi(c){return{integerValue:""+c}}function Go(c,r){return I1(r)?vi(r):c3(c,r)}class I4{constructor(){this._=void 0}}function $6(c,r,a){return c instanceof yi?function(u,h){const g={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&(g.fields.__previous_value__=h),{mapValue:g}}(a,r):c instanceof Yr?Sa(c,r):c instanceof u2?Cc(c,r):function(u,h){const g=l3(u,h),w=S4(g)+S4(u.A);return w4(g)&&w4(u.A)?vi(w):c3(u.R,w)}(c,r)}function A4(c,r,a){return c instanceof Yr?Sa(c,r):c instanceof u2?Cc(c,r):a}function l3(c,r){return c instanceof po?w4(a=r)||(u=a)&&"doubleValue"in u?r:{integerValue:0}:null;var u,a}class yi extends I4{}class Yr extends I4{constructor(r){super(),this.elements=r}}function Sa(c,r){const a=xa(r);for(const u of c.elements)a.some(h=>ps(h,u))||a.push(u);return{arrayValue:{values:a}}}class u2 extends I4{constructor(r){super(),this.elements=r}}function Cc(c,r){let a=xa(r);for(const u of c.elements)a=a.filter(h=>!ps(h,u));return{arrayValue:{values:a}}}class po extends I4{constructor(r,a){super(),this.R=r,this.A=a}}function S4(c){return f1(c.integerValue||c.doubleValue)}function xa(c){return H6(c)&&c.arrayValue.values?c.arrayValue.values.slice():[]}class Ks{constructor(r,a){this.field=r,this.transform=a}}class bc{constructor(r,a){this.version=r,this.transformResults=a}}class m1{constructor(r,a){this.updateTime=r,this.exists=a}static none(){return new m1}static exists(r){return new m1(void 0,r)}static updateTime(r){return new m1(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function Ui(c,r){return void 0!==c.updateTime?r.isFoundDocument()&&r.version.isEqual(c.updateTime):void 0===c.exists||c.exists===r.isFoundDocument()}class x4{}function G6(c,r,a){c instanceof Ta?function(u,h,g){const w=u.value.clone(),V=Wo(u.fieldTransforms,h,g.transformResults);w.setAll(V),h.convertToFoundDocument(g.version,w).setHasCommittedMutations()}(c,r,a):c instanceof Ys?function(u,h,g){if(!Ui(u.precondition,h))return void h.convertToUnknownDocument(g.version);const w=Wo(u.fieldTransforms,h,g.transformResults),V=h.data;V.setAll(Da(u)),V.setAll(w),h.convertToFoundDocument(g.version,V).setHasCommittedMutations()}(c,r,a):r.convertToNoDocument(a.version).setHasCommittedMutations()}function mo(c,r,a){var h;c instanceof Ta?function(u,h,g){if(!Ui(u.precondition,h))return;const w=u.value.clone(),V=go(u.fieldTransforms,g,h);w.setAll(V),h.convertToFoundDocument(T4(h),w).setHasLocalMutations()}(c,r,a):c instanceof Ys?function(u,h,g){if(!Ui(u.precondition,h))return;const w=go(u.fieldTransforms,g,h),V=h.data;V.setAll(Da(u)),V.setAll(w),h.convertToFoundDocument(T4(h),V).setHasLocalMutations()}(c,r,a):Ui(c.precondition,h=r)&&h.convertToNoDocument(Re.min())}function wc(c,r){let a=null;for(const u of c.fieldTransforms){const h=r.data.field(u.field),g=l3(u.transform,h||null);null!=g&&(null==a&&(a=hr.empty()),a.set(u.field,g))}return a||null}function f3(c,r){return c.type===r.type&&!!c.key.isEqual(r.key)&&!!c.precondition.isEqual(r.precondition)&&(u=r.fieldTransforms,!!(void 0===(a=c.fieldTransforms)&&void 0===u||a&&u&&W(a,u,(h,g)=>function(c,r){return c.field.isEqual(r.field)&&(u=r.transform,(a=c.transform)instanceof Yr&&u instanceof Yr||a instanceof u2&&u instanceof u2?W(a.elements,u.elements,ps):a instanceof po&&u instanceof po?ps(a.A,u.A):a instanceof yi&&u instanceof yi);var a,u}(h,g))))&&(0===c.type?c.value.isEqual(r.value):1!==c.type||c.data.isEqual(r.data)&&c.fieldMask.isEqual(r.fieldMask));var a,u}function T4(c){return c.isFoundDocument()?c.version:Re.min()}class Ta extends x4{constructor(r,a,u,h=[]){super(),this.key=r,this.value=a,this.precondition=u,this.fieldTransforms=h,this.type=0}}class Ys extends x4{constructor(r,a,u,h,g=[]){super(),this.key=r,this.data=a,this.fieldMask=u,this.precondition=h,this.fieldTransforms=g,this.type=1}}function Da(c){const r=new Map;return c.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const u=c.data.field(a);r.set(a,u)}}),r}function Wo(c,r,a){const u=new Map;A(c.length===a.length);for(let h=0;h<a.length;h++){const g=c[h],w=g.transform,V=r.data.field(g.field);u.set(g.field,A4(w,V,a[h]))}return u}function go(c,r,a){const u=new Map;for(const h of c){const g=h.transform,w=a.data.field(h.field);u.set(h.field,$6(g,w,r))}return u}class vo extends x4{constructor(r,a){super(),this.key=r,this.precondition=a,this.type=2,this.fieldTransforms=[]}}class Ec extends x4{constructor(r,a){super(),this.key=r,this.precondition=a,this.type=3,this.fieldTransforms=[]}}class W6{constructor(r){this.count=r}}var g1,Dn;function Na(c){switch(c){case Ge.OK:return zt();case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0;default:return zt()}}function Mc(c){if(void 0===c)return z1("GRPC error has no .code"),Ge.UNKNOWN;switch(c){case g1.OK:return Ge.OK;case g1.CANCELLED:return Ge.CANCELLED;case g1.UNKNOWN:return Ge.UNKNOWN;case g1.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case g1.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case g1.INTERNAL:return Ge.INTERNAL;case g1.UNAVAILABLE:return Ge.UNAVAILABLE;case g1.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case g1.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case g1.NOT_FOUND:return Ge.NOT_FOUND;case g1.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case g1.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case g1.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case g1.ABORTED:return Ge.ABORTED;case g1.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case g1.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case g1.DATA_LOSS:return Ge.DATA_LOSS;default:return zt()}}(Dn=g1||(g1={}))[Dn.OK=0]="OK",Dn[Dn.CANCELLED=1]="CANCELLED",Dn[Dn.UNKNOWN=2]="UNKNOWN",Dn[Dn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dn[Dn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dn[Dn.NOT_FOUND=5]="NOT_FOUND",Dn[Dn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dn[Dn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dn[Dn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dn[Dn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dn[Dn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dn[Dn.ABORTED=10]="ABORTED",Dn[Dn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dn[Dn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dn[Dn.INTERNAL=13]="INTERNAL",Dn[Dn.UNAVAILABLE=14]="UNAVAILABLE",Dn[Dn.DATA_LOSS=15]="DATA_LOSS";class dr{constructor(r,a){this.comparator=r,this.root=a||m.EMPTY}insert(r,a){return new dr(this.comparator,this.root.insert(r,a,this.comparator).copy(null,null,m.BLACK,null,null))}remove(r){return new dr(this.comparator,this.root.remove(r,this.comparator).copy(null,null,m.BLACK,null,null))}get(r){let a=this.root;for(;!a.isEmpty();){const u=this.comparator(r,a.key);if(0===u)return a.value;u<0?a=a.left:u>0&&(a=a.right)}return null}indexOf(r){let a=0,u=this.root;for(;!u.isEmpty();){const h=this.comparator(r,u.key);if(0===h)return a+u.left.size;h<0?u=u.left:(a+=u.left.size+1,u=u.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((a,u)=>(r(a,u),!1))}toString(){const r=[];return this.inorderTraversal((a,u)=>(r.push(`${a}:${u}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new E(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new E(this.root,r,this.comparator,!1)}getReverseIterator(){return new E(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new E(this.root,r,this.comparator,!0)}}class E{constructor(r,a,u,h){this.isReverse=h,this.nodeStack=[];let g=1;for(;!r.isEmpty();)if(g=a?u(r.key,a):1,h&&(g*=-1),g<0)r=this.isReverse?r.left:r.right;else{if(0===g){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const a={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class m{constructor(r,a,u,h,g){this.key=r,this.value=a,this.color=null!=u?u:m.RED,this.left=null!=h?h:m.EMPTY,this.right=null!=g?g:m.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,a,u,h,g){return new m(null!=r?r:this.key,null!=a?a:this.value,null!=u?u:this.color,null!=h?h:this.left,null!=g?g:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,a,u){let h=this;const g=u(r,h.key);return h=g<0?h.copy(null,null,null,h.left.insert(r,a,u),null):0===g?h.copy(null,a,null,null,null):h.copy(null,null,null,null,h.right.insert(r,a,u)),h.fixUp()}removeMin(){if(this.left.isEmpty())return m.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,a){let u,h=this;if(a(r,h.key)<0)h.left.isEmpty()||h.left.isRed()||h.left.left.isRed()||(h=h.moveRedLeft()),h=h.copy(null,null,null,h.left.remove(r,a),null);else{if(h.left.isRed()&&(h=h.rotateRight()),h.right.isEmpty()||h.right.isRed()||h.right.left.isRed()||(h=h.moveRedRight()),0===a(r,h.key)){if(h.right.isEmpty())return m.EMPTY;u=h.right.min(),h=h.copy(u.key,u.value,null,null,h.right.removeMin())}h=h.copy(null,null,null,null,h.right.remove(r,a))}return h.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,m.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,m.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,a)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw zt();const r=this.left.check();if(r!==this.right.check())throw zt();return r+(this.isRed()?0:1)}}m.EMPTY=null,m.RED=!0,m.BLACK=!1,m.EMPTY=new class{constructor(){this.size=0}get key(){throw zt()}get value(){throw zt()}get color(){throw zt()}get left(){throw zt()}get right(){throw zt()}copy(c,r,a,u,h){return this}insert(c,r,a){return new m(c,r)}remove(c,r){return this}isEmpty(){return!0}inorderTraversal(c){return!1}reverseTraversal(c){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class v{constructor(r){this.comparator=r,this.data=new dr(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((a,u)=>(r(a),!1))}forEachInRange(r,a){const u=this.data.getIteratorFrom(r[0]);for(;u.hasNext();){const h=u.getNext();if(this.comparator(h.key,r[1])>=0)return;a(h.key)}}forEachWhile(r,a){let u;for(u=void 0!==a?this.data.getIteratorFrom(a):this.data.getIterator();u.hasNext();)if(!r(u.getNext().key))return}firstAfterOrEqual(r){const a=this.data.getIteratorFrom(r);return a.hasNext()?a.getNext().key:null}getIterator(){return new x(this.data.getIterator())}getIteratorFrom(r){return new x(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let a=this;return a.size<r.size&&(a=r,r=this),r.forEach(u=>{a=a.add(u)}),a}isEqual(r){if(!(r instanceof v)||this.size!==r.size)return!1;const a=this.data.getIterator(),u=r.data.getIterator();for(;a.hasNext();){const h=a.getNext().key,g=u.getNext().key;if(0!==this.comparator(h,g))return!1}return!0}toArray(){const r=[];return this.forEach(a=>{r.push(a)}),r}toString(){const r=[];return this.forEach(a=>r.push(a)),"SortedSet("+r.toString()+")"}copy(r){const a=new v(this.comparator);return a.data=r,a}}class x{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const $=new dr(Ft.comparator);function te(){return $}const Pe=new dr(Ft.comparator);function tt(){return Pe}const It=new dr(Ft.comparator);function bn(){return It}const F1=new v(Ft.comparator);function on(...c){let r=F1;for(const a of c)r=r.add(a);return r}const Bi=new v(k);function _i(){return Bi}class ys{constructor(r,a,u,h,g){this.snapshotVersion=r,this.targetChanges=a,this.targetMismatches=u,this.documentUpdates=h,this.resolvedLimboDocuments=g}static createSynthesizedRemoteEventForCurrentChange(r,a){const u=new Map;return u.set(r,qo.createSynthesizedTargetChangeForCurrentChange(r,a)),new ys(Re.min(),u,_i(),te(),on())}}class qo{constructor(r,a,u,h,g){this.resumeToken=r,this.current=a,this.addedDocuments=u,this.modifiedDocuments=h,this.removedDocuments=g}static createSynthesizedTargetChangeForCurrentChange(r,a){return new qo(Jn.EMPTY_BYTE_STRING,a,on(),on(),on())}}class Zo{constructor(r,a,u,h){this.P=r,this.removedTargetIds=a,this.key=u,this.v=h}}class Ic{constructor(r,a){this.targetId=r,this.V=a}}class Ac{constructor(r,a,u=Jn.EMPTY_BYTE_STRING,h=null){this.state=r,this.targetIds=a,this.resumeToken=u,this.cause=h}}class Sc{constructor(){this.S=0,this.D=La(),this.C=Jn.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}get current(){return this.N}get resumeToken(){return this.C}get $(){return 0!==this.S}get O(){return this.k}F(r){r.approximateByteSize()>0&&(this.k=!0,this.C=r)}M(){let r=on(),a=on(),u=on();return this.D.forEach((h,g)=>{switch(g){case 0:r=r.add(h);break;case 2:a=a.add(h);break;case 1:u=u.add(h);break;default:zt()}}),new qo(this.C,this.N,r,a,u)}L(){this.k=!1,this.D=La()}B(r,a){this.k=!0,this.D=this.D.insert(r,a)}U(r){this.k=!0,this.D=this.D.remove(r)}q(){this.S+=1}K(){this.S-=1}j(){this.k=!0,this.N=!0}}class q6{constructor(r){this.W=r,this.G=new Map,this.H=te(),this.J=yo(),this.Y=new v(k)}X(r){for(const a of r.P)r.v&&r.v.isFoundDocument()?this.Z(a,r.v):this.tt(a,r.key,r.v);for(const a of r.removedTargetIds)this.tt(a,r.key,r.v)}et(r){this.forEachTarget(r,a=>{const u=this.nt(a);switch(r.state){case 0:this.st(a)&&u.F(r.resumeToken);break;case 1:u.K(),u.$||u.L(),u.F(r.resumeToken);break;case 2:u.K(),u.$||this.removeTarget(a);break;case 3:this.st(a)&&(u.j(),u.F(r.resumeToken));break;case 4:this.st(a)&&(this.it(a),u.F(r.resumeToken));break;default:zt()}})}forEachTarget(r,a){r.targetIds.length>0?r.targetIds.forEach(a):this.G.forEach((u,h)=>{this.st(h)&&a(h)})}rt(r){const a=r.targetId,u=r.V.count,h=this.ot(a);if(h){const g=h.target;if(uo(g))if(0===u){const w=new Ft(g.path);this.tt(a,w,S1.newNoDocument(w,Re.min()))}else A(1===u);else this.ct(a)!==u&&(this.it(a),this.Y=this.Y.add(a))}}ut(r){const a=new Map;this.G.forEach((g,w)=>{const V=this.ot(w);if(V){if(g.current&&uo(V.target)){const B=new Ft(V.target.path);null!==this.H.get(B)||this.at(w,B)||this.tt(w,B,S1.newNoDocument(B,r))}g.O&&(a.set(w,g.M()),g.L())}});let u=on();this.J.forEach((g,w)=>{let V=!0;w.forEachWhile(B=>{const X=this.ot(B);return!X||2===X.purpose||(V=!1,!1)}),V&&(u=u.add(g))});const h=new ys(r,a,this.Y,this.H,u);return this.H=te(),this.J=yo(),this.Y=new v(k),h}Z(r,a){if(!this.st(r))return;const u=this.at(r,a.key)?2:0;this.nt(r).B(a.key,u),this.H=this.H.insert(a.key,a),this.J=this.J.insert(a.key,this.ht(a.key).add(r))}tt(r,a,u){if(!this.st(r))return;const h=this.nt(r);this.at(r,a)?h.B(a,1):h.U(a),this.J=this.J.insert(a,this.ht(a).delete(r)),u&&(this.H=this.H.insert(a,u))}removeTarget(r){this.G.delete(r)}ct(r){const a=this.nt(r).M();return this.W.getRemoteKeysForTarget(r).size+a.addedDocuments.size-a.removedDocuments.size}q(r){this.nt(r).q()}nt(r){let a=this.G.get(r);return a||(a=new Sc,this.G.set(r,a)),a}ht(r){let a=this.J.get(r);return a||(a=new v(k),this.J=this.J.insert(r,a)),a}st(r){const a=null!==this.ot(r);return a||ft("WatchChangeAggregator","Detected inactive target",r),a}ot(r){const a=this.G.get(r);return a&&a.$?null:this.W.lt(r)}it(r){this.G.set(r,new Sc),this.W.getRemoteKeysForTarget(r).forEach(a=>{this.tt(r,a,null)})}at(r,a){return this.W.getRemoteKeysForTarget(r).has(a)}}function yo(){return new dr(Ft.comparator)}function La(){return new dr(Ft.comparator)}const Ci={asc:"ASCENDING",desc:"DESCENDING"},za={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class D4{constructor(r,a){this.databaseId=r,this.I=a}}function Ko(c,r){return c.I?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function h3(c,r){return c.I?r.toBase64():r.toUint8Array()}function e9(c,r){return Ko(c,r.toTimestamp())}function Qr(c){return A(!!c),Re.fromTimestamp(function(r){const a=Z1(r);return new pe(a.seconds,a.nanos)}(c))}function Sl(c,r){return(a=c,new Dt(["projects",a.projectId,"databases",a.database])).child("documents").child(r).canonicalString();var a}function Z6(c){const r=Dt.fromString(c);return A(f2(r)),r}function Ra(c,r){return Sl(c.databaseId,r.path)}function ji(c,r){const a=Z6(r);if(a.get(1)!==c.databaseId.projectId)throw new st(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+c.databaseId.projectId);if(a.get(3)!==c.databaseId.database)throw new st(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+c.databaseId.database);return new Ft(Tl(a))}function xl(c,r){return Sl(c.databaseId,r)}function v7(c){const r=Z6(c);return 4===r.length?Dt.emptyPath():Tl(r)}function N4(c){return new Dt(["projects",c.databaseId.projectId,"databases",c.databaseId.database]).canonicalString()}function Tl(c){return A(c.length>4&&"documents"===c.get(4)),c.popFirst(5)}function Dl(c,r,a){return{name:Ra(c,r),fields:a.value.mapValue.fields}}function Nl(c,r,a){const u=ji(c,r.name),h=Qr(r.updateTime),g=new hr({mapValue:{fields:r.fields}}),w=S1.newFoundDocument(u,h,g);return a&&w.setHasCommittedMutations(),a?w.setHasCommittedMutations():w}function Va(c,r){let a;if(r instanceof Ta)a={update:Dl(c,r.key,r.value)};else if(r instanceof vo)a={delete:Ra(c,r.key)};else if(r instanceof Ys)a={update:Dl(c,r.key,r.data),updateMask:xc(r.fieldMask)};else{if(!(r instanceof Ec))return zt();a={verify:Ra(c,r.key)}}return r.fieldTransforms.length>0&&(a.updateTransforms=r.fieldTransforms.map(u=>function(h,g){const w=g.transform;if(w instanceof yi)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(w instanceof Yr)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:w.elements}};if(w instanceof u2)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:w.elements}};if(w instanceof po)return{fieldPath:g.field.canonicalString(),increment:w.A};throw zt()}(0,u))),r.precondition.isNone||(a.currentDocument=void 0!==(h=r.precondition).updateTime?{updateTime:e9(c,h.updateTime)}:void 0!==h.exists?{exists:h.exists}:zt()),a;var h}function d3(c,r){const a=r.currentDocument?void 0!==(h=r.currentDocument).updateTime?m1.updateTime(Qr(h.updateTime)):void 0!==h.exists?m1.exists(h.exists):m1.none():m1.none(),u=r.updateTransforms?r.updateTransforms.map(h=>function(g,w){let V=null;"setToServerValue"in w?(A("REQUEST_TIME"===w.setToServerValue),V=new yi):"appendMissingElements"in w?V=new Yr(w.appendMissingElements.values||[]):"removeAllFromArray"in w?V=new u2(w.removeAllFromArray.values||[]):"increment"in w?V=new po(g,w.increment):zt();const B=t1.fromServerFormat(w.fieldPath);return new Ks(B,V)}(c,h)):[];var h;if(r.update){const h=ji(c,r.update.name),g=new hr({mapValue:{fields:r.update.fields}});if(r.updateMask){const w=new p1((r.updateMask.fieldPaths||[]).map(X=>t1.fromServerFormat(X)));return new Ys(h,g,w,a,u)}return new Ta(h,g,a,u)}if(r.delete){const h=ji(c,r.delete);return new vo(h,a)}if(r.verify){const h=ji(c,r.verify);return new Ec(h,a)}return zt()}function zl(c,r){return{documents:[xl(c,r.path)]}}function K1(c,r){const a={structuredQuery:{}},u=r.path;null!==r.collectionGroup?(a.parent=xl(c,u),a.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(a.parent=xl(c,u.popLast()),a.structuredQuery.from=[{collectionId:u.lastSegment()}]);const h=function(V){if(0===V.length)return;const B=V.map(X=>function(oe){if("=="===oe.op){if(o3(oe.value))return{unaryFilter:{field:L4(oe.field),op:"IS_NAN"}};if(Fo(oe.value))return{unaryFilter:{field:L4(oe.field),op:"IS_NULL"}}}else if("!="===oe.op){if(o3(oe.value))return{unaryFilter:{field:L4(oe.field),op:"IS_NOT_NAN"}};if(Fo(oe.value))return{unaryFilter:{field:L4(oe.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:L4(oe.field),op:b7(oe.op),value:oe.value}}}(X));return 1===B.length?B[0]:{compositeFilter:{op:"AND",filters:B}}}(r.filters);h&&(a.structuredQuery.where=h);const g=function(V){if(0!==V.length)return V.map(B=>{return{field:L4((X=B).field),direction:C7(X.dir)};var X})}(r.orderBy);g&&(a.structuredQuery.orderBy=g);const w=(B=r.limit,c.I||Us(B)?B:{value:B});var B;return null!==w&&(a.structuredQuery.limit=w),r.startAt&&(a.structuredQuery.startAt=g3(r.startAt)),r.endAt&&(a.structuredQuery.endAt=g3(r.endAt)),a}function m3(c){let r=v7(c.parent);const a=c.structuredQuery,u=a.from?a.from.length:0;let h=null;if(u>0){A(1===u);const oe=a.from[0];oe.allDescendants?h=oe.collectionId:r=r.child(oe.collectionId)}let g=[];a.where&&(g=K6(a.where));let w=[];a.orderBy&&(w=a.orderBy.map(oe=>{return new js(z4((Ee=oe).field),function(Ze){switch(Ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ee.direction));var Ee}));let V=null;a.limit&&(V=function(oe){let Ee;return Ee="object"==typeof oe?oe.value:oe,Us(Ee)?null:Ee}(a.limit));let B=null;a.startAt&&(B=Rl(a.startAt));let X=null;return a.endAt&&(X=Rl(a.endAt)),Ia(r,h,w,g,V,"F",B,X)}function K6(c){return c?void 0!==c.unaryFilter?[n9(c)]:void 0!==c.fieldFilter?[t9(c)]:void 0!==c.compositeFilter?c.compositeFilter.filters.map(r=>K6(r)).reduce((r,a)=>r.concat(a)):zt():[]}function g3(c){return{before:c.before,values:c.position}}function Rl(c){return new Ma(c.values||[],!!c.before)}function C7(c){return Ci[c]}function b7(c){return za[c]}function L4(c){return{fieldPath:c.canonicalString()}}function z4(c){return t1.fromServerFormat(c.fieldPath)}function t9(c){return Fr.create(z4(c.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return zt()}}(c.fieldFilter.op),c.fieldFilter.value)}function n9(c){switch(c.unaryFilter.op){case"IS_NAN":const r=z4(c.unaryFilter.field);return Fr.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=z4(c.unaryFilter.field);return Fr.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=z4(c.unaryFilter.field);return Fr.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=z4(c.unaryFilter.field);return Fr.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return zt()}}function xc(c){const r=[];return c.fields.forEach(a=>r.push(a.canonicalString())),{fieldPaths:r}}function f2(c){return c.length>=4&&"projects"===c.get(0)&&"databases"===c.get(2)}function bi(c){let r="";for(let a=0;a<c.length;a++)r.length>0&&(r=v3(r)),r=Vl(c.get(a),r);return v3(r)}function Vl(c,r){let a=r;const u=c.length;for(let h=0;h<u;h++){const g=c.charAt(h);switch(g){case"\0":a+="\x01\x10";break;case"\x01":a+="\x01\x11";break;default:a+=g}}return a}function v3(c){return c+"\x01\x01"}function U1(c){const r=c.length;if(A(r>=2),2===r)return A("\x01"===c.charAt(0)&&"\x01"===c.charAt(1)),Dt.emptyPath();const a=r-2,u=[];let h="";for(let g=0;g<r;){const w=c.indexOf("\x01",g);switch((w<0||w>a)&&zt(),c.charAt(w+1)){case"\x01":const V=c.substring(g,w);let B;0===h.length?B=V:(h+=V,B=h,h=""),u.push(B);break;case"\x10":h+=c.substring(g,w),h+="\0";break;case"\x11":h+=c.substring(g,w+1);break;default:zt()}g=w+2}return new Dt(u)}class Tc{constructor(r,a){this.seconds=r,this.nanoseconds=a}}class O2{constructor(r,a,u){this.ownerId=r,this.allowTabSynchronization=a,this.leaseTimestampMs=u}}O2.store="owner",O2.key="owner";class Yo{constructor(r,a,u){this.userId=r,this.lastAcknowledgedBatchId=a,this.lastStreamToken=u}}Yo.store="mutationQueues",Yo.keyPath="userId";class V1{constructor(r,a,u,h,g){this.userId=r,this.batchId=a,this.localWriteTimeMs=u,this.baseMutations=h,this.mutations=g}}V1.store="mutations",V1.keyPath="batchId",V1.userMutationsIndex="userMutationsIndex",V1.userMutationsKeyPath=["userId","batchId"];class Jr{constructor(){}static prefixForUser(r){return[r]}static prefixForPath(r,a){return[r,bi(a)]}static key(r,a,u){return[r,bi(a),u]}}Jr.store="documentMutations",Jr.PLACEHOLDER=new Jr;class w7{constructor(r,a){this.path=r,this.readTime=a}}class Pl{constructor(r,a){this.path=r,this.version=a}}class ir{constructor(r,a,u,h,g,w){this.unknownDocument=r,this.noDocument=a,this.document=u,this.hasCommittedMutations=h,this.readTime=g,this.parentPath=w}}ir.store="remoteDocuments",ir.readTimeIndex="readTimeIndex",ir.readTimeIndexPath="readTime",ir.collectionReadTimeIndex="collectionReadTimeIndex",ir.collectionReadTimeIndexPath=["parentPath","readTime"];class _s{constructor(r){this.byteSize=r}}_s.store="remoteDocumentGlobal",_s.key="remoteDocumentGlobalKey";class ei{constructor(r,a,u,h,g,w,V){this.targetId=r,this.canonicalId=a,this.readTime=u,this.resumeToken=h,this.lastListenSequenceNumber=g,this.lastLimboFreeSnapshotVersion=w,this.query=V}}ei.store="targets",ei.keyPath="targetId",ei.queryTargetsIndexName="queryTargetsIndex",ei.queryTargetsKeyPath=["canonicalId","targetId"];class Xr{constructor(r,a,u){this.targetId=r,this.path=a,this.sequenceNumber=u}}Xr.store="targetDocuments",Xr.keyPath=["targetId","path"],Xr.documentTargetsIndex="documentTargetsIndex",Xr.documentTargetsKeyPath=["path","targetId"];class wi{constructor(r,a,u,h){this.highestTargetId=r,this.highestListenSequenceNumber=a,this.lastRemoteSnapshotVersion=u,this.targetCount=h}}wi.key="targetGlobalKey",wi.store="targetGlobal";class Qo{constructor(r,a){this.collectionId=r,this.parent=a}}Qo.store="collectionParents",Qo.keyPath=["collectionId","parent"];class Cs{constructor(r,a,u,h){this.clientId=r,this.updateTimeMs=a,this.networkEnabled=u,this.inForeground=h}}Cs.store="clientMetadata",Cs.keyPath="clientId";class Pa{constructor(r,a,u){this.bundleId=r,this.createTime=a,this.version=u}}Pa.store="bundles",Pa.keyPath="bundleId";class R4{constructor(r,a,u){this.name=r,this.readTime=a,this.bundledQuery=u}}R4.store="namedQueries",R4.keyPath="name";const r9=[Yo.store,V1.store,Jr.store,ir.store,ei.store,O2.store,wi.store,Xr.store,Cs.store,_s.store,Qo.store,Pa.store,R4.store],y3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Dc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}class h2{constructor(){this.promise=new Promise((r,a)=>{this.resolve=r,this.reject=a})}}class rt{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(r){return this.next(void 0,r)}next(r,a){return this.callbackAttached&&zt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(r,this.result):new rt((u,h)=>{this.nextCallback=g=>{this.wrapSuccess(r,g).next(u,h)},this.catchCallback=g=>{this.wrapFailure(a,g).next(u,h)}})}toPromise(){return new Promise((r,a)=>{this.next(r,a)})}wrapUserFunction(r){try{const a=r();return a instanceof rt?a:rt.resolve(a)}catch(a){return rt.reject(a)}}wrapSuccess(r,a){return r?this.wrapUserFunction(()=>r(a)):rt.resolve(a)}wrapFailure(r,a){return r?this.wrapUserFunction(()=>r(a)):rt.reject(a)}static resolve(r){return new rt((a,u)=>{a(r)})}static reject(r){return new rt((a,u)=>{u(r)})}static waitFor(r){return new rt((a,u)=>{let h=0,g=0,w=!1;r.forEach(V=>{++h,V.next(()=>{++g,w&&g===h&&a()},B=>u(B))}),w=!0,g===h&&a()})}static or(r){let a=rt.resolve(!1);for(const u of r)a=a.next(h=>h?rt.resolve(h):u());return a}static forEach(r,a){const u=[];return r.forEach((h,g)=>{u.push(a.call(this,h,g))}),this.waitFor(u)}}class _o{constructor(r,a){this.action=r,this.transaction=a,this.aborted=!1,this.ft=new h2,this.transaction.oncomplete=()=>{this.ft.resolve()},this.transaction.onabort=()=>{a.error?this.ft.reject(new Nc(r,a.error)):this.ft.resolve()},this.transaction.onerror=u=>{const h=Y6(u.target.error);this.ft.reject(new Nc(r,h))}}static open(r,a,u,h){try{return new _o(a,r.transaction(h,u))}catch(g){throw new Nc(a,g)}}get dt(){return this.ft.promise}abort(r){r&&this.ft.reject(r),this.aborted||(ft("SimpleDb","Aborting transaction:",r?r.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(r){const a=this.transaction.objectStore(r);return new M7(a)}}class bs{constructor(r,a,u){this.name=r,this.version=a,this.wt=u,12.2===bs._t((0,Be.z$)())&&z1("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(r){return ft("SimpleDb","Removing database:",r),Qs(window.indexedDB.deleteDatabase(r)).toPromise()}static gt(){if("undefined"==typeof indexedDB)return!1;if(bs.yt())return!0;const r=(0,Be.z$)(),a=bs._t(r),u=0<a&&a<10,h=bs.Et(r),g=0<h&&h<4.5;return!(r.indexOf("MSIE ")>0||r.indexOf("Trident/")>0||r.indexOf("Edge/")>0||u||g)}static yt(){var r;return"undefined"!=typeof process&&"YES"===(null===(r=process.env)||void 0===r?void 0:r.Tt)}static It(r,a){return r.store(a)}static _t(r){const a=r.match(/i(?:phone|pad|pod) os ([\d_]+)/i),u=a?a[1].split("_").slice(0,2).join("."):"-1";return Number(u)}static Et(r){const a=r.match(/Android ([\d.]+)/i),u=a?a[1].split(".").slice(0,2).join("."):"-1";return Number(u)}At(r){var a=this;return(0,Ie.Z)(function*(){return a.db||(ft("SimpleDb","Opening database:",a.name),a.db=yield new Promise((u,h)=>{const g=indexedDB.open(a.name,a.version);g.onsuccess=w=>{u(w.target.result)},g.onblocked=()=>{h(new Nc(r,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},g.onerror=w=>{const V=w.target.error;h("VersionError"===V.name?new st(Ge.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new Nc(r,V))},g.onupgradeneeded=w=>{ft("SimpleDb",'Database "'+a.name+'" requires upgrade from version:',w.oldVersion),a.wt.Rt(w.target.result,g.transaction,w.oldVersion,a.version).next(()=>{ft("SimpleDb","Database upgrade to version "+a.version+" complete")})}})),a.Pt&&(a.db.onversionchange=u=>a.Pt(u)),a.db})()}bt(r){this.Pt=r,this.db&&(this.db.onversionchange=a=>r(a))}runTransaction(r,a,u,h){var g=this;return(0,Ie.Z)(function*(){const w="readonly"===a;let V=0;for(;;){++V;try{g.db=yield g.At(r);const B=_o.open(g.db,r,w?"readonly":"readwrite",u),X=h(B).catch(oe=>(B.abort(oe),rt.reject(oe))).toPromise();return X.catch(()=>{}),yield B.dt,X}catch(B){const X="FirebaseError"!==B.name&&V<3;if(ft("SimpleDb","Transaction failed with error:",B.message,"Retrying:",X),g.close(),!X)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class E7{constructor(r){this.vt=r,this.Vt=!1,this.St=null}get isDone(){return this.Vt}get Dt(){return this.St}set cursor(r){this.vt=r}done(){this.Vt=!0}Ct(r){this.St=r}delete(){return Qs(this.vt.delete())}}class Nc extends st{constructor(r,a){super(Ge.UNAVAILABLE,`IndexedDB transaction '${r}' failed: ${a}`),this.name="IndexedDbTransactionError"}}function Oa(c){return"IndexedDbTransactionError"===c.name}class M7{constructor(r){this.store=r}put(r,a){let u;return void 0!==a?(ft("SimpleDb","PUT",this.store.name,r,a),u=this.store.put(a,r)):(ft("SimpleDb","PUT",this.store.name,"<auto-key>",r),u=this.store.put(r)),Qs(u)}add(r){return ft("SimpleDb","ADD",this.store.name,r,r),Qs(this.store.add(r))}get(r){return Qs(this.store.get(r)).next(a=>(void 0===a&&(a=null),ft("SimpleDb","GET",this.store.name,r,a),a))}delete(r){return ft("SimpleDb","DELETE",this.store.name,r),Qs(this.store.delete(r))}count(){return ft("SimpleDb","COUNT",this.store.name),Qs(this.store.count())}Nt(r,a){const u=this.cursor(this.options(r,a)),h=[];return this.xt(u,(g,w)=>{h.push(w)}).next(()=>h)}kt(r,a){ft("SimpleDb","DELETE ALL",this.store.name);const u=this.options(r,a);u.$t=!1;const h=this.cursor(u);return this.xt(h,(g,w,V)=>V.delete())}Ot(r,a){let u;a?u=r:(u={},a=r);const h=this.cursor(u);return this.xt(h,a)}Ft(r){const a=this.cursor({});return new rt((u,h)=>{a.onerror=g=>{const w=Y6(g.target.error);h(w)},a.onsuccess=g=>{const w=g.target.result;w?r(w.primaryKey,w.value).next(V=>{V?w.continue():u()}):u()}})}xt(r,a){const u=[];return new rt((h,g)=>{r.onerror=w=>{g(w.target.error)},r.onsuccess=w=>{const V=w.target.result;if(!V)return void h();const B=new E7(V),X=a(V.primaryKey,V.value,B);if(X instanceof rt){const oe=X.catch(Ee=>(B.done(),rt.reject(Ee)));u.push(oe)}B.isDone?h():null===B.Dt?V.continue():V.continue(B.Dt)}}).next(()=>rt.waitFor(u))}options(r,a){let u;return void 0!==r&&("string"==typeof r?u=r:a=r),{index:u,range:a}}cursor(r){let a="next";if(r.reverse&&(a="prev"),r.index){const u=this.store.index(r.index);return r.$t?u.openKeyCursor(r.range,a):u.openCursor(r.range,a)}return this.store.openCursor(r.range,a)}}function Qs(c){return new rt((r,a)=>{c.onsuccess=u=>{r(u.target.result)},c.onerror=u=>{const h=Y6(u.target.error);a(h)}})}let Ei=!1;function Y6(c){const r=bs._t((0,Be.z$)());if(r>=12.2&&r<13){const a="An internal error was encountered in the Indexed Database server";if(c.message.indexOf(a)>=0){const u=new st("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${a}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ei||(Ei=!0,setTimeout(()=>{throw u},0)),u}}return c}class Ol extends Dc{constructor(r,a){super(),this.Mt=r,this.currentSequenceNumber=a}}function ti(c,r){const a=C(c);return bs.It(a.Mt,r)}class Q6{constructor(r,a,u,h){this.batchId=r,this.localWriteTime=a,this.baseMutations=u,this.mutations=h}applyToRemoteDocument(r,a){const u=a.mutationResults;for(let h=0;h<this.mutations.length;h++){const g=this.mutations[h];g.key.isEqual(r.key)&&G6(g,r,u[h])}}applyToLocalView(r){for(const a of this.baseMutations)a.key.isEqual(r.key)&&mo(a,r,this.localWriteTime);for(const a of this.mutations)a.key.isEqual(r.key)&&mo(a,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(a=>{const u=r.get(a.key),h=u;this.applyToLocalView(h),u.isValidDocument()||h.convertToNoDocument(Re.min())})}keys(){return this.mutations.reduce((r,a)=>r.add(a.key),on())}isEqual(r){return this.batchId===r.batchId&&W(this.mutations,r.mutations,(a,u)=>f3(a,u))&&W(this.baseMutations,r.baseMutations,(a,u)=>f3(a,u))}}class kl{constructor(r,a,u,h){this.batch=r,this.commitVersion=a,this.mutationResults=u,this.docVersions=h}static from(r,a,u){A(r.mutations.length===u.length);let h=bn();const g=r.mutations;for(let w=0;w<g.length;w++)h=h.insert(g[w].key,u[w].version);return new kl(r,a,u,h)}}class Co{constructor(r,a,u,h,g=Re.min(),w=Re.min(),V=Jn.EMPTY_BYTE_STRING){this.target=r,this.targetId=a,this.purpose=u,this.sequenceNumber=h,this.snapshotVersion=g,this.lastLimboFreeSnapshotVersion=w,this.resumeToken=V}withSequenceNumber(r){return new Co(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,a){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new Co(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class Hl{constructor(r){this.Lt=r}}function _3(c,r){if(r.document)return Nl(c.Lt,r.document,!!r.hasCommittedMutations);if(r.noDocument){const a=Ft.fromSegments(r.noDocument.path),u=zc(r.noDocument.readTime),h=S1.newNoDocument(a,u);return r.hasCommittedMutations?h.setHasCommittedMutations():h}if(r.unknownDocument){const a=Ft.fromSegments(r.unknownDocument.path),u=zc(r.unknownDocument.version);return S1.newUnknownDocument(a,u)}return zt()}function Fl(c,r,a){const u=Jo(a),h=r.key.path.popLast().toArray();if(r.isFoundDocument()){const g={name:Ra(V=c.Lt,(B=r).key),fields:B.data.value.mapValue.fields,updateTime:Ko(V,B.version.toTimestamp())};return new ir(null,null,g,r.hasCommittedMutations,u,h)}var V,B;if(r.isNoDocument()){const g=r.key.path.toArray(),w=Lc(r.version),V=r.hasCommittedMutations;return new ir(null,new w7(g,w),null,V,u,h)}if(r.isUnknownDocument()){const g=r.key.path.toArray(),w=Lc(r.version);return new ir(new Pl(g,w),null,null,!0,u,h)}return zt()}function Jo(c){const r=c.toTimestamp();return[r.seconds,r.nanoseconds]}function ws(c){const r=new pe(c[0],c[1]);return Re.fromTimestamp(r)}function Lc(c){const r=c.toTimestamp();return new Tc(r.seconds,r.nanoseconds)}function zc(c){const r=new pe(c.seconds,c.nanoseconds);return Re.fromTimestamp(r)}function ka(c,r){const a=(r.baseMutations||[]).map(g=>d3(c.Lt,g));for(let g=0;g<r.mutations.length-1;++g){const w=r.mutations[g];g+1<r.mutations.length&&void 0!==r.mutations[g+1].transform&&(w.updateTransforms=r.mutations[g+1].transform.fieldTransforms,r.mutations.splice(g+1,1),++g)}const u=r.mutations.map(g=>d3(c.Lt,g)),h=pe.fromMillis(r.localWriteTimeMs);return new Q6(r.batchId,h,a,u)}function J6(c){const r=zc(c.readTime),a=void 0!==c.lastLimboFreeSnapshotVersion?zc(c.lastLimboFreeSnapshotVersion):Re.min();let u;var h;return void 0!==c.query.documents?(A(1===(h=c.query).documents.length),u=P2(fo(v7(h.documents[0])))):u=P2(m3(c.query)),new Co(u,c.targetId,0,c.lastListenSequenceNumber,r,a,Jn.fromBase64String(c.resumeToken))}function Es(c,r){const a=Lc(r.snapshotVersion),u=Lc(r.lastLimboFreeSnapshotVersion);let h;h=uo(r.target)?zl(c.Lt,r.target):K1(c.Lt,r.target);const g=r.resumeToken.toBase64();return new ei(r.targetId,Fi(r.target),a,g,r.sequenceNumber,u,h)}function Rc(c){const r=m3({parent:c.parent,structuredQuery:c.structuredQuery});return"LAST"===c.limitType?Al(r,r.limit,"L"):r}class C3{getBundleMetadata(r,a){return Ul(r).get(a).next(u=>{if(u)return{id:(h=u).bundleId,createTime:zc(h.createTime),version:h.version};var h})}saveBundleMetadata(r,a){return Ul(r).put({bundleId:(u=a).id,createTime:Lc(Qr(u.createTime)),version:u.version});var u}getNamedQuery(r,a){return b3(r).get(a).next(u=>{if(u)return{name:(h=u).name,query:Rc(h.bundledQuery),readTime:zc(h.readTime)};var h})}saveNamedQuery(r,a){return b3(r).put({name:(u=a).name,readTime:Lc(Qr(u.readTime)),bundledQuery:u.bundledQuery});var u}}function Ul(c){return ti(c,Pa.store)}function b3(c){return ti(c,R4.store)}class Vc{constructor(){this.Bt=new X6}addToCollectionParentIndex(r,a){return this.Bt.add(a),rt.resolve()}getCollectionParents(r,a){return rt.resolve(this.Bt.getEntries(a))}}class X6{constructor(){this.index={}}add(r){const a=r.lastSegment(),u=r.popLast(),h=this.index[a]||new v(Dt.comparator),g=!h.has(u);return this.index[a]=h.add(u),g}has(r){const a=r.lastSegment(),u=r.popLast(),h=this.index[a];return h&&h.has(u)}getEntries(r){return(this.index[r]||new v(Dt.comparator)).toArray()}}class Bl{constructor(){this.Ut=new X6}addToCollectionParentIndex(r,a){if(!this.Ut.has(a)){const u=a.lastSegment(),h=a.popLast();r.addOnCommittedListener(()=>{this.Ut.add(a)});const g={collectionId:u,parent:bi(h)};return e0(r).put(g)}return rt.resolve()}getCollectionParents(r,a){const u=[],h=IDBKeyRange.bound([a,""],[se(a),""],!1,!0);return e0(r).Nt(h).next(g=>{for(const w of g){if(w.collectionId!==a)break;u.push(U1(w.parent))}return u})}}function e0(c){return ti(c,Qo.store)}const t0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class k2{constructor(r,a,u){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=u}static withCacheSize(r){return new k2(r,k2.DEFAULT_COLLECTION_PERCENTILE,k2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function I7(c,r,a){const u=c.store(V1.store),h=c.store(Jr.store),g=[],w=IDBKeyRange.only(a.batchId);let V=0;const B=u.Ot({range:w},(oe,Ee,Ze)=>(V++,Ze.delete()));g.push(B.next(()=>{A(1===V)}));const X=[];for(const oe of a.mutations){const Ee=Jr.key(r,oe.key.path,a.batchId);g.push(h.delete(Ee)),X.push(oe.key)}return rt.waitFor(g).next(()=>X)}function bo(c){if(!c)return 0;let r;if(c.document)r=c.document;else if(c.unknownDocument)r=c.unknownDocument;else{if(!c.noDocument)throw zt();r=c.noDocument}return JSON.stringify(r).length}k2.DEFAULT_COLLECTION_PERCENTILE=10,k2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,k2.DEFAULT=new k2(41943040,k2.DEFAULT_COLLECTION_PERCENTILE,k2.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),k2.DISABLED=new k2(-1,0,0);class Pc{constructor(r,a,u,h){this.userId=r,this.R=a,this.qt=u,this.referenceDelegate=h,this.Kt={}}static jt(r,a,u,h){A(""!==r.uid);const g=r.isAuthenticated()?r.uid:"";return new Pc(g,a,u,h)}checkEmpty(r){let a=!0;const u=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Xo(r).Ot({index:V1.userMutationsIndex,range:u},(h,g,w)=>{a=!1,w.done()}).next(()=>a)}addMutationBatch(r,a,u,h){const g=ea(r),w=Xo(r);return w.add({}).next(V=>{A("number"==typeof V);const B=new Q6(V,a,u,h),X=function(Ze,Ke,gt){const Gt=gt.baseMutations.map(br=>Va(Ze.Lt,br)),_n=gt.mutations.map(br=>Va(Ze.Lt,br));return new V1(Ke,gt.batchId,gt.localWriteTime.toMillis(),Gt,_n)}(this.R,this.userId,B),oe=[];let Ee=new v((Ze,Ke)=>k(Ze.canonicalString(),Ke.canonicalString()));for(const Ze of h){const Ke=Jr.key(this.userId,Ze.key.path,V);Ee=Ee.add(Ze.key.path.popLast()),oe.push(w.put(X)),oe.push(g.put(Ke,Jr.PLACEHOLDER))}return Ee.forEach(Ze=>{oe.push(this.qt.addToCollectionParentIndex(r,Ze))}),r.addOnCommittedListener(()=>{this.Kt[V]=B.keys()}),rt.waitFor(oe).next(()=>B)})}lookupMutationBatch(r,a){return Xo(r).get(a).next(u=>u?(A(u.userId===this.userId),ka(this.R,u)):null)}Qt(r,a){return this.Kt[a]?rt.resolve(this.Kt[a]):this.lookupMutationBatch(r,a).next(u=>{if(u){const h=u.keys();return this.Kt[a]=h,h}return null})}getNextMutationBatchAfterBatchId(r,a){const u=a+1,h=IDBKeyRange.lowerBound([this.userId,u]);let g=null;return Xo(r).Ot({index:V1.userMutationsIndex,range:h},(w,V,B)=>{V.userId===this.userId&&(A(V.batchId>=u),g=ka(this.R,V)),B.done()}).next(()=>g)}getHighestUnacknowledgedBatchId(r){const a=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let u=-1;return Xo(r).Ot({index:V1.userMutationsIndex,range:a,reverse:!0},(h,g,w)=>{u=g.batchId,w.done()}).next(()=>u)}getAllMutationBatches(r){const a=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Xo(r).Nt(V1.userMutationsIndex,a).next(u=>u.map(h=>ka(this.R,h)))}getAllMutationBatchesAffectingDocumentKey(r,a){const u=Jr.prefixForPath(this.userId,a.path),h=IDBKeyRange.lowerBound(u),g=[];return ea(r).Ot({range:h},(w,V,B)=>{const[X,oe,Ee]=w,Ze=U1(oe);if(X===this.userId&&a.path.isEqual(Ze))return Xo(r).get(Ee).next(Ke=>{if(!Ke)throw zt();A(Ke.userId===this.userId),g.push(ka(this.R,Ke))});B.done()}).next(()=>g)}getAllMutationBatchesAffectingDocumentKeys(r,a){let u=new v(k);const h=[];return a.forEach(g=>{const w=Jr.prefixForPath(this.userId,g.path),V=IDBKeyRange.lowerBound(w),B=ea(r).Ot({range:V},(X,oe,Ee)=>{const[Ze,Ke,gt]=X,Gt=U1(Ke);Ze===this.userId&&g.path.isEqual(Gt)?u=u.add(gt):Ee.done()});h.push(B)}),rt.waitFor(h).next(()=>this.Wt(r,u))}getAllMutationBatchesAffectingQuery(r,a){const u=a.path,h=u.length+1,g=Jr.prefixForPath(this.userId,u),w=IDBKeyRange.lowerBound(g);let V=new v(k);return ea(r).Ot({range:w},(B,X,oe)=>{const[Ee,Ze,Ke]=B,gt=U1(Ze);Ee===this.userId&&u.isPrefixOf(gt)?gt.length===h&&(V=V.add(Ke)):oe.done()}).next(()=>this.Wt(r,V))}Wt(r,a){const u=[],h=[];return a.forEach(g=>{h.push(Xo(r).get(g).next(w=>{if(null===w)throw zt();A(w.userId===this.userId),u.push(ka(this.R,w))}))}),rt.waitFor(h).next(()=>u)}removeMutationBatch(r,a){return I7(r.Mt,this.userId,a).next(u=>(r.addOnCommittedListener(()=>{this.Gt(a.batchId)}),rt.forEach(u,h=>this.referenceDelegate.markPotentiallyOrphaned(r,h))))}Gt(r){delete this.Kt[r]}performConsistencyCheck(r){return this.checkEmpty(r).next(a=>{if(!a)return rt.resolve();const u=IDBKeyRange.lowerBound(Jr.prefixForUser(this.userId)),h=[];return ea(r).Ot({range:u},(g,w,V)=>{if(g[0]===this.userId){const B=U1(g[1]);h.push(B)}else V.done()}).next(()=>{A(0===h.length)})})}containsKey(r,a){return w3(r,this.userId,a)}zt(r){return jl(r).get(this.userId).next(a=>a||new Yo(this.userId,-1,""))}}function w3(c,r,a){const u=Jr.prefixForPath(r,a.path),h=u[1],g=IDBKeyRange.lowerBound(u);let w=!1;return ea(c).Ot({range:g,$t:!0},(V,B,X)=>{const[oe,Ee,Ze]=V;oe===r&&Ee===h&&(w=!0),X.done()}).next(()=>w)}function Xo(c){return ti(c,V1.store)}function ea(c){return ti(c,Jr.store)}function jl(c){return ti(c,Yo.store)}class Ha{constructor(r){this.Ht=r}next(){return this.Ht+=2,this.Ht}static Jt(){return new Ha(0)}static Yt(){return new Ha(-1)}}class A7{constructor(r,a){this.referenceDelegate=r,this.R=a}allocateTargetId(r){return this.Xt(r).next(a=>{const u=new Ha(a.highestTargetId);return a.highestTargetId=u.next(),this.Zt(r,a).next(()=>a.highestTargetId)})}getLastRemoteSnapshotVersion(r){return this.Xt(r).next(a=>Re.fromTimestamp(new pe(a.lastRemoteSnapshotVersion.seconds,a.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(r){return this.Xt(r).next(a=>a.highestListenSequenceNumber)}setTargetsMetadata(r,a,u){return this.Xt(r).next(h=>(h.highestListenSequenceNumber=a,u&&(h.lastRemoteSnapshotVersion=u.toTimestamp()),a>h.highestListenSequenceNumber&&(h.highestListenSequenceNumber=a),this.Zt(r,h)))}addTargetData(r,a){return this.te(r,a).next(()=>this.Xt(r).next(u=>(u.targetCount+=1,this.ee(a,u),this.Zt(r,u))))}updateTargetData(r,a){return this.te(r,a)}removeTargetData(r,a){return this.removeMatchingKeysForTargetId(r,a.targetId).next(()=>V4(r).delete(a.targetId)).next(()=>this.Xt(r)).next(u=>(A(u.targetCount>0),u.targetCount-=1,this.Zt(r,u)))}removeTargets(r,a,u){let h=0;const g=[];return V4(r).Ot((w,V)=>{const B=J6(V);B.sequenceNumber<=a&&null===u.get(B.targetId)&&(h++,g.push(this.removeTargetData(r,B)))}).next(()=>rt.waitFor(g)).next(()=>h)}forEachTarget(r,a){return V4(r).Ot((u,h)=>{const g=J6(h);a(g)})}Xt(r){return $l(r).get(wi.key).next(a=>(A(null!==a),a))}Zt(r,a){return $l(r).put(wi.key,a)}te(r,a){return V4(r).put(Es(this.R,a))}ee(r,a){let u=!1;return r.targetId>a.highestTargetId&&(a.highestTargetId=r.targetId,u=!0),r.sequenceNumber>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=r.sequenceNumber,u=!0),u}getTargetCount(r){return this.Xt(r).next(a=>a.targetCount)}getTargetData(r,a){const u=Fi(a),h=IDBKeyRange.bound([u,Number.NEGATIVE_INFINITY],[u,Number.POSITIVE_INFINITY]);let g=null;return V4(r).Ot({range:h,index:ei.queryTargetsIndexName},(w,V,B)=>{const X=J6(V);mi(a,X.target)&&(g=X,B.done())}).next(()=>g)}addMatchingKeys(r,a,u){const h=[],g=ta(r);return a.forEach(w=>{const V=bi(w.path);h.push(g.put(new Xr(u,V))),h.push(this.referenceDelegate.addReference(r,u,w))}),rt.waitFor(h)}removeMatchingKeys(r,a,u){const h=ta(r);return rt.forEach(a,g=>{const w=bi(g.path);return rt.waitFor([h.delete([u,w]),this.referenceDelegate.removeReference(r,u,g)])})}removeMatchingKeysForTargetId(r,a){const u=ta(r),h=IDBKeyRange.bound([a],[a+1],!1,!0);return u.delete(h)}getMatchingKeysForTargetId(r,a){const u=IDBKeyRange.bound([a],[a+1],!1,!0),h=ta(r);let g=on();return h.Ot({range:u,$t:!0},(w,V,B)=>{const X=U1(w[1]),oe=new Ft(X);g=g.add(oe)}).next(()=>g)}containsKey(r,a){const u=bi(a.path),h=IDBKeyRange.bound([u],[se(u)],!1,!0);let g=0;return ta(r).Ot({index:Xr.documentTargetsIndex,$t:!0,range:h},([w,V],B,X)=>{0!==w&&(g++,X.done())}).next(()=>g>0)}lt(r,a){return V4(r).get(a).next(u=>u?J6(u):null)}}function V4(c){return ti(c,ei.store)}function $l(c){return ti(c,wi.store)}function ta(c){return ti(c,Xr.store)}function na(c){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,Ie.Z)(function*(c){if(c.code!==Ge.FAILED_PRECONDITION||c.message!==y3)throw c;ft("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function E3([c,r],[a,u]){const h=k(c,a);return 0===h?k(r,u):h}class M3{constructor(r){this.ne=r,this.buffer=new v(E3),this.se=0}ie(){return++this.se}re(r){const a=[r,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(a);else{const u=this.buffer.last();E3(a,u)<0&&(this.buffer=this.buffer.delete(u).add(a))}}get maxValue(){return this.buffer.last()[0]}}class S7{constructor(r,a){this.garbageCollector=r,this.asyncQueue=a,this.oe=!1,this.ce=null}start(r){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(r)}stop(){this.ce&&(this.ce.cancel(),this.ce=null)}get started(){return null!==this.ce}ue(r){var a=this;const u=this.oe?3e5:6e4;ft("LruGarbageCollector",`Garbage collection scheduled in ${u}ms`),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",u,(0,Ie.Z)(function*(){a.ce=null,a.oe=!0;try{yield r.collectGarbage(a.garbageCollector)}catch(h){Oa(h)?ft("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",h):yield na(h)}yield a.ue(r)}))}}class x7{constructor(r,a){this.ae=r,this.params=a}calculateTargetCount(r,a){return this.ae.he(r).next(u=>Math.floor(a/100*u))}nthSequenceNumber(r,a){if(0===a)return rt.resolve(Cr.o);const u=new M3(a);return this.ae.forEachTarget(r,h=>u.re(h.sequenceNumber)).next(()=>this.ae.le(r,h=>u.re(h))).next(()=>u.maxValue)}removeTargets(r,a,u){return this.ae.removeTargets(r,a,u)}removeOrphanedDocuments(r,a){return this.ae.removeOrphanedDocuments(r,a)}collect(r,a){return-1===this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(t0)):this.getCacheSize(r).next(u=>u<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${u} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t0):this.fe(r,a))}getCacheSize(r){return this.ae.getCacheSize(r)}fe(r,a){let u,h,g,w,V,B,X;const oe=Date.now();return this.calculateTargetCount(r,this.params.percentileToCollect).next(Ee=>(Ee>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${Ee}`),h=this.params.maximumSequenceNumbersToCollect):h=Ee,w=Date.now(),this.nthSequenceNumber(r,h))).next(Ee=>(u=Ee,V=Date.now(),this.removeTargets(r,u,a))).next(Ee=>(g=Ee,B=Date.now(),this.removeOrphanedDocuments(r,u))).next(Ee=>(X=Date.now(),Ho()<=Yt.in.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${w-oe}ms\n\tDetermined least recently used ${h} in `+(V-w)+`ms\n\tRemoved ${g} targets in `+(B-V)+`ms\n\tRemoved ${Ee} documents in `+(X-B)+`ms\nTotal Duration: ${X-oe}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:h,targetsRemoved:g,documentsRemoved:Ee})))}}class Gl{constructor(r,a){this.db=r,this.garbageCollector=new x7(this,a)}he(r){const a=this.de(r);return this.db.getTargetCache().getTargetCount(r).next(u=>a.next(h=>u+h))}de(r){let a=0;return this.le(r,u=>{a++}).next(()=>a)}forEachTarget(r,a){return this.db.getTargetCache().forEachTarget(r,a)}le(r,a){return this.we(r,(u,h)=>a(h))}addReference(r,a,u){return kc(r,u)}removeReference(r,a,u){return kc(r,u)}removeTargets(r,a,u){return this.db.getTargetCache().removeTargets(r,a,u)}markPotentiallyOrphaned(r,a){return kc(r,a)}_e(r,a){return function(u,h){let g=!1;return jl(u).Ft(w=>w3(u,w,h).next(V=>(V&&(g=!0),rt.resolve(!V)))).next(()=>g)}(r,a)}removeOrphanedDocuments(r,a){const u=this.db.getRemoteDocumentCache().newChangeBuffer(),h=[];let g=0;return this.we(r,(w,V)=>{if(V<=a){const B=this._e(r,w).next(X=>{if(!X)return g++,u.getEntry(r,w).next(()=>(u.removeEntry(w),ta(r).delete([0,bi(w.path)])))});h.push(B)}}).next(()=>rt.waitFor(h)).next(()=>u.apply(r)).next(()=>g)}removeTarget(r,a){const u=a.withSequenceNumber(r.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(r,u)}updateLimboDocument(r,a){return kc(r,a)}we(r,a){const u=ta(r);let h,g=Cr.o;return u.Ot({index:Xr.documentTargetsIndex},([w,V],{path:B,sequenceNumber:X})=>{0===w?(g!==Cr.o&&a(new Ft(U1(h)),g),g=X,h=B):g=Cr.o}).next(()=>{g!==Cr.o&&a(new Ft(U1(h)),g)})}getCacheSize(r){return this.db.getRemoteDocumentCache().getSize(r)}}function kc(c,r){return ta(c).put((u=c.currentSequenceNumber,new Xr(0,bi(r.path),u)));var u}class $i{constructor(r,a){this.mapKeyFn=r,this.equalsFn=a,this.inner={}}get(r){const a=this.mapKeyFn(r),u=this.inner[a];if(void 0!==u)for(const[h,g]of u)if(this.equalsFn(h,r))return g}has(r){return void 0!==this.get(r)}set(r,a){const u=this.mapKeyFn(r),h=this.inner[u];if(void 0!==h){for(let g=0;g<h.length;g++)if(this.equalsFn(h[g][0],r))return void(h[g]=[r,a]);h.push([r,a])}else this.inner[u]=[[r,a]]}delete(r){const a=this.mapKeyFn(r),u=this.inner[a];if(void 0===u)return!1;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],r))return 1===u.length?delete this.inner[a]:u.splice(h,1),!0;return!1}forEach(r){Ot(this.inner,(a,u)=>{for(const[h,g]of u)r(h,g)})}isEmpty(){return pn(this.inner)}}class I3{constructor(){this.changes=new $i(r=>r.toString(),(r,a)=>r.isEqual(a)),this.changesApplied=!1}getReadTime(r){const a=this.changes.get(r);return a?a.readTime:Re.min()}addEntry(r,a){this.assertNotApplied(),this.changes.set(r.key,{document:r,readTime:a})}removeEntry(r,a=null){this.assertNotApplied(),this.changes.set(r,{document:S1.newInvalidDocument(r),readTime:a})}getEntry(r,a){this.assertNotApplied();const u=this.changes.get(a);return void 0!==u?rt.resolve(u.document):this.getFromCache(r,a)}getEntries(r,a){return this.getAllFromCache(r,a)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}class Wl{constructor(r,a){this.R=r,this.qt=a}addEntry(r,a,u){return ra(r).put(Fc(a),u)}removeEntry(r,a){const u=ra(r),h=Fc(a);return u.delete(h)}updateMetadata(r,a){return this.getMetadata(r).next(u=>(u.byteSize+=a,this.me(r,u)))}getEntry(r,a){return ra(r).get(Fc(a)).next(u=>this.ge(a,u))}ye(r,a){return ra(r).get(Fc(a)).next(u=>({document:this.ge(a,u),size:bo(u)}))}getEntries(r,a){let u=te();return this.pe(r,a,(h,g)=>{const w=this.ge(h,g);u=u.insert(h,w)}).next(()=>u)}Ee(r,a){let u=te(),h=new dr(Ft.comparator);return this.pe(r,a,(g,w)=>{const V=this.ge(g,w);u=u.insert(g,V),h=h.insert(g,bo(w))}).next(()=>({documents:u,Te:h}))}pe(r,a,u){if(a.isEmpty())return rt.resolve();const h=IDBKeyRange.bound(a.first().path.toArray(),a.last().path.toArray()),g=a.getIterator();let w=g.getNext();return ra(r).Ot({range:h},(V,B,X)=>{const oe=Ft.fromSegments(V);for(;w&&Ft.comparator(w,oe)<0;)u(w,null),w=g.getNext();w&&w.isEqual(oe)&&(u(w,B),w=g.hasNext()?g.getNext():null),w?X.Ct(w.path.toArray()):X.done()}).next(()=>{for(;w;)u(w,null),w=g.hasNext()?g.getNext():null})}getDocumentsMatchingQuery(r,a,u){let h=te();const g=a.path.length+1,w={};if(u.isEqual(Re.min())){const V=a.path.toArray();w.range=IDBKeyRange.lowerBound(V)}else{const V=a.path.toArray(),B=Jo(u);w.range=IDBKeyRange.lowerBound([V,B],!0),w.index=ir.collectionReadTimeIndex}return ra(r).Ot(w,(V,B,X)=>{if(V.length!==g)return;const oe=_3(this.R,B);a.path.isPrefixOf(oe.key.path)?Aa(a,oe)&&(h=h.insert(oe.key,oe)):X.done()}).next(()=>h)}newChangeBuffer(r){return new T7(this,!!r&&r.trackRemovals)}getSize(r){return this.getMetadata(r).next(a=>a.byteSize)}getMetadata(r){return Hc(r).get(_s.key).next(a=>(A(!!a),a))}me(r,a){return Hc(r).put(_s.key,a)}ge(r,a){if(a){const u=_3(this.R,a);if(!u.isNoDocument()||!u.version.isEqual(Re.min()))return u}return S1.newInvalidDocument(r)}}class T7 extends I3{constructor(r,a){super(),this.Ie=r,this.trackRemovals=a,this.Ae=new $i(u=>u.toString(),(u,h)=>u.isEqual(h))}applyChanges(r){const a=[];let u=0,h=new v((g,w)=>k(g.canonicalString(),w.canonicalString()));return this.changes.forEach((g,w)=>{const V=this.Ae.get(g);if(w.document.isValidDocument()){const B=Fl(this.Ie.R,w.document,this.getReadTime(g));h=h.add(g.path.popLast()),u+=bo(B)-V,a.push(this.Ie.addEntry(r,g,B))}else if(u-=V,this.trackRemovals){const B=Fl(this.Ie.R,S1.newNoDocument(g,Re.min()),this.getReadTime(g));a.push(this.Ie.addEntry(r,g,B))}else a.push(this.Ie.removeEntry(r,g))}),h.forEach(g=>{a.push(this.Ie.qt.addToCollectionParentIndex(r,g))}),a.push(this.Ie.updateMetadata(r,u)),rt.waitFor(a)}getFromCache(r,a){return this.Ie.ye(r,a).next(u=>(this.Ae.set(a,u.size),u.document))}getAllFromCache(r,a){return this.Ie.Ee(r,a).next(({documents:u,Te:h})=>(h.forEach((g,w)=>{this.Ae.set(g,w)}),u))}}function Hc(c){return ti(c,_s.store)}function ra(c){return ti(c,ir.store)}function Fc(c){return c.path.toArray()}class ql{constructor(r){this.R=r}Rt(r,a,u,h){A(u<h&&u>=0&&h<=11);const g=new _o("createOrUpgrade",a);var V;u<1&&h>=1&&(r.createObjectStore(O2.store),(V=r).createObjectStore(Yo.store,{keyPath:Yo.keyPath}),V.createObjectStore(V1.store,{keyPath:V1.keyPath,autoIncrement:!0}).createIndex(V1.userMutationsIndex,V1.userMutationsKeyPath,{unique:!0}),V.createObjectStore(Jr.store),A3(r),function(V){V.createObjectStore(ir.store)}(r));let w=rt.resolve();return u<3&&h>=3&&(0!==u&&(function(V){V.deleteObjectStore(Xr.store),V.deleteObjectStore(ei.store),V.deleteObjectStore(wi.store)}(r),A3(r)),w=w.next(()=>function(V){const B=V.store(wi.store),X=new wi(0,0,Re.min().toTimestamp(),0);return B.put(wi.key,X)}(g))),u<4&&h>=4&&(0!==u&&(w=w.next(()=>function(V,B){return B.store(V1.store).Nt().next(X=>{V.deleteObjectStore(V1.store),V.createObjectStore(V1.store,{keyPath:V1.keyPath,autoIncrement:!0}).createIndex(V1.userMutationsIndex,V1.userMutationsKeyPath,{unique:!0});const oe=B.store(V1.store),Ee=X.map(Ze=>oe.put(Ze));return rt.waitFor(Ee)})}(r,g))),w=w.next(()=>{!function(V){V.createObjectStore(Cs.store,{keyPath:Cs.keyPath})}(r)})),u<5&&h>=5&&(w=w.next(()=>this.Re(g))),u<6&&h>=6&&(w=w.next(()=>(function(V){V.createObjectStore(_s.store)}(r),this.Pe(g)))),u<7&&h>=7&&(w=w.next(()=>this.be(g))),u<8&&h>=8&&(w=w.next(()=>this.ve(r,g))),u<9&&h>=9&&(w=w.next(()=>{(function(V){V.objectStoreNames.contains("remoteDocumentChanges")&&V.deleteObjectStore("remoteDocumentChanges")})(r),function(V){const B=V.objectStore(ir.store);B.createIndex(ir.readTimeIndex,ir.readTimeIndexPath,{unique:!1}),B.createIndex(ir.collectionReadTimeIndex,ir.collectionReadTimeIndexPath,{unique:!1})}(a)})),u<10&&h>=10&&(w=w.next(()=>this.Ve(g))),u<11&&h>=11&&(w=w.next(()=>{(function(V){V.createObjectStore(Pa.store,{keyPath:Pa.keyPath})})(r),function(V){V.createObjectStore(R4.store,{keyPath:R4.keyPath})}(r)})),w}Pe(r){let a=0;return r.store(ir.store).Ot((u,h)=>{a+=bo(h)}).next(()=>{const u=new _s(a);return r.store(_s.store).put(_s.key,u)})}Re(r){const a=r.store(Yo.store),u=r.store(V1.store);return a.Nt().next(h=>rt.forEach(h,g=>{const w=IDBKeyRange.bound([g.userId,-1],[g.userId,g.lastAcknowledgedBatchId]);return u.Nt(V1.userMutationsIndex,w).next(V=>rt.forEach(V,B=>{A(B.userId===g.userId);const X=ka(this.R,B);return I7(r,g.userId,X).next(()=>{})}))}))}be(r){const a=r.store(Xr.store),u=r.store(ir.store);return r.store(wi.store).get(wi.key).next(h=>{const g=[];return u.Ot((w,V)=>{const B=new Dt(w),X=[0,bi(B)];g.push(a.get(X).next(oe=>oe?rt.resolve():a.put(new Xr(0,bi(B),h.highestListenSequenceNumber))))}).next(()=>rt.waitFor(g))})}ve(r,a){r.createObjectStore(Qo.store,{keyPath:Qo.keyPath});const u=a.store(Qo.store),h=new X6,g=w=>{if(h.add(w)){const V=w.lastSegment(),B=w.popLast();return u.put({collectionId:V,parent:bi(B)})}};return a.store(ir.store).Ot({$t:!0},(w,V)=>{const B=new Dt(w);return g(B.popLast())}).next(()=>a.store(Jr.store).Ot({$t:!0},([w,V,B],X)=>{const oe=U1(V);return g(oe.popLast())}))}Ve(r){const a=r.store(ei.store);return a.Ot((u,h)=>{const g=J6(h),w=Es(this.R,g);return a.put(w)})}}function A3(c){c.createObjectStore(Xr.store,{keyPath:Xr.keyPath}).createIndex(Xr.documentTargetsIndex,Xr.documentTargetsKeyPath,{unique:!0}),c.createObjectStore(ei.store,{keyPath:ei.keyPath}).createIndex(ei.queryTargetsIndexName,ei.queryTargetsKeyPath,{unique:!0}),c.createObjectStore(wi.store)}const Uc="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class n0{constructor(r,a,u,h,g,w,V,B,X,oe){if(this.allowTabSynchronization=r,this.persistenceKey=a,this.clientId=u,this.Se=g,this.window=w,this.document=V,this.De=X,this.Ce=oe,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.$e=null,this.Oe=null,this.Fe=Number.NEGATIVE_INFINITY,this.Me=Ee=>Promise.resolve(),!n0.gt())throw new st(Ge.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gl(this,h),this.Le=a+"main",this.R=new Hl(B),this.Be=new bs(this.Le,11,new ql(this.R)),this.Ue=new A7(this.referenceDelegate,this.R),this.qt=new Bl,this.qe=new Wl(this.R,this.qt),this.Ke=new C3,this.window&&this.window.localStorage?this.je=this.window.localStorage:(this.je=null,!1===oe&&z1("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Qe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new st(Ge.FAILED_PRECONDITION,Uc);return this.We(),this.Ge(),this.ze(),this.runTransaction("getHighestListenSequenceNumber","readonly",r=>this.Ue.getHighestSequenceNumber(r))}).then(r=>{this.Ne=new Cr(r,this.De)}).then(()=>{this.xe=!0}).catch(r=>(this.Be&&this.Be.close(),Promise.reject(r)))}He(r){var a=this;return this.Me=function(){var u=(0,Ie.Z)(function*(h){if(a.started)return r(h)});return function(h){return u.apply(this,arguments)}}(),r(this.isPrimary)}setDatabaseDeletedListener(r){this.Be.bt(function(){var a=(0,Ie.Z)(function*(u){null===u.newVersion&&(yield r())});return function(u){return a.apply(this,arguments)}}())}setNetworkEnabled(r){var a=this;this.networkEnabled!==r&&(this.networkEnabled=r,this.Se.enqueueAndForget((0,Ie.Z)(function*(){a.started&&(yield a.Qe())})))}Qe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",r=>Fa(r).put(new Cs(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.Je(r).next(a=>{a||(this.isPrimary=!1,this.Se.enqueueRetryable(()=>this.Me(!1)))})}).next(()=>this.Ye(r)).next(a=>this.isPrimary&&!a?this.Xe(r).next(()=>!1):!!a&&this.Ze(r).next(()=>!0))).catch(r=>{if(Oa(r))return ft("IndexedDbPersistence","Failed to extend owner lease: ",r),this.isPrimary;if(!this.allowTabSynchronization)throw r;return ft("IndexedDbPersistence","Releasing owner lease after error during lease refresh",r),!1}).then(r=>{this.isPrimary!==r&&this.Se.enqueueRetryable(()=>this.Me(r)),this.isPrimary=r})}Je(r){return ia(r).get(O2.key).next(a=>rt.resolve(this.tn(a)))}en(r){return Fa(r).delete(this.clientId)}nn(){var r=this;return(0,Ie.Z)(function*(){if(r.isPrimary&&!r.sn(r.Fe,18e5)){r.Fe=Date.now();const a=yield r.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",u=>{const h=ti(u,Cs.store);return h.Nt().next(g=>{const w=r.rn(g,18e5),V=g.filter(B=>-1===w.indexOf(B));return rt.forEach(V,B=>h.delete(B.clientId)).next(()=>V)})}).catch(()=>[]);if(r.je)for(const u of a)r.je.removeItem(r.on(u.clientId))}})()}ze(){this.Oe=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Qe().then(()=>this.nn()).then(()=>this.ze()))}tn(r){return!!r&&r.ownerId===this.clientId}Ye(r){return this.Ce?rt.resolve(!0):ia(r).get(O2.key).next(a=>{if(null!==a&&this.sn(a.leaseTimestampMs,5e3)&&!this.cn(a.ownerId)){if(this.tn(a)&&this.networkEnabled)return!0;if(!this.tn(a)){if(!a.allowTabSynchronization)throw new st(Ge.FAILED_PRECONDITION,Uc);return!1}}return!(!this.networkEnabled||!this.inForeground)||Fa(r).Nt().next(u=>void 0===this.rn(u,5e3).find(h=>{if(this.clientId!==h.clientId){const w=!this.inForeground&&h.inForeground,V=this.networkEnabled===h.networkEnabled;if(!this.networkEnabled&&h.networkEnabled||w&&V)return!0}return!1}))}).next(a=>(this.isPrimary!==a&&ft("IndexedDbPersistence",`Client ${a?"is":"is not"} eligible for a primary lease.`),a))}shutdown(){var r=this;return(0,Ie.Z)(function*(){r.xe=!1,r.un(),r.Oe&&(r.Oe.cancel(),r.Oe=null),r.an(),r.hn(),yield r.Be.runTransaction("shutdown","readwrite",[O2.store,Cs.store],a=>{const u=new Ol(a,Cr.o);return r.Xe(u).next(()=>r.en(u))}),r.Be.close(),r.ln()})()}rn(r,a){return r.filter(u=>this.sn(u.updateTimeMs,a)&&!this.cn(u.clientId))}fn(){return this.runTransaction("getActiveClients","readonly",r=>Fa(r).Nt().next(a=>this.rn(a,18e5).map(u=>u.clientId)))}get started(){return this.xe}getMutationQueue(r){return Pc.jt(r,this.R,this.qt,this.referenceDelegate)}getTargetCache(){return this.Ue}getRemoteDocumentCache(){return this.qe}getIndexManager(){return this.qt}getBundleCache(){return this.Ke}runTransaction(r,a,u){let g;return ft("IndexedDbPersistence","Starting transaction:",r),this.Be.runTransaction(r,"readonly"===a?"readonly":"readwrite",r9,w=>(g=new Ol(w,this.Ne?this.Ne.next():Cr.o),"readwrite-primary"===a?this.Je(g).next(V=>!!V||this.Ye(g)).next(V=>{if(!V)throw z1(`Failed to obtain primary lease for action '${r}'.`),this.isPrimary=!1,this.Se.enqueueRetryable(()=>this.Me(!1)),new st(Ge.FAILED_PRECONDITION,y3);return u(g)}).next(V=>this.Ze(g).next(()=>V)):this.dn(g).next(()=>u(g)))).then(w=>(g.raiseOnCommittedEvent(),w))}dn(r){return ia(r).get(O2.key).next(a=>{if(null!==a&&this.sn(a.leaseTimestampMs,5e3)&&!this.cn(a.ownerId)&&!this.tn(a)&&!(this.Ce||this.allowTabSynchronization&&a.allowTabSynchronization))throw new st(Ge.FAILED_PRECONDITION,Uc)})}Ze(r){const a=new O2(this.clientId,this.allowTabSynchronization,Date.now());return ia(r).put(O2.key,a)}static gt(){return bs.gt()}Xe(r){const a=ia(r);return a.get(O2.key).next(u=>this.tn(u)?(ft("IndexedDbPersistence","Releasing primary lease."),a.delete(O2.key)):rt.resolve())}sn(r,a){const u=Date.now();return!(r<u-a||r>u&&(z1(`Detected an update time that is in the future: ${r} > ${u}`),1))}We(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.$e=()=>{this.Se.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Qe()))},this.document.addEventListener("visibilitychange",this.$e),this.inForeground="visible"===this.document.visibilityState)}an(){this.$e&&(this.document.removeEventListener("visibilitychange",this.$e),this.$e=null)}Ge(){var r;"function"==typeof(null===(r=this.window)||void 0===r?void 0:r.addEventListener)&&(this.ke=()=>{this.un(),(0,Be.G6)()&&navigator.appVersion.match("Version/14")&&this.Se.enterRestrictedMode(!0),this.Se.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ke))}hn(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)}cn(r){var a;try{const u=null!==(null===(a=this.je)||void 0===a?void 0:a.getItem(this.on(r)));return ft("IndexedDbPersistence",`Client '${r}' ${u?"is":"is not"} zombied in LocalStorage`),u}catch(u){return z1("IndexedDbPersistence","Failed to get zombied client id.",u),!1}}un(){if(this.je)try{this.je.setItem(this.on(this.clientId),String(Date.now()))}catch(r){z1("Failed to set zombie client id.",r)}}ln(){if(this.je)try{this.je.removeItem(this.on(this.clientId))}catch(r){}}on(r){return`firestore_zombie_${this.persistenceKey}_${r}`}}function ia(c){return ti(c,O2.store)}function Fa(c){return ti(c,Cs.store)}function r0(c,r){let a=c.projectId;return c.isDefaultDatabase||(a+="."+c.database),"firestore/"+r+"/"+a+"/"}class S3{constructor(r,a){this.progress=r,this.wn=a}}class x3{constructor(r,a,u){this.qe=r,this._n=a,this.qt=u}mn(r,a){return this._n.getAllMutationBatchesAffectingDocumentKey(r,a).next(u=>this.gn(r,a,u))}gn(r,a,u){return this.qe.getEntry(r,a).next(h=>{for(const g of u)g.applyToLocalView(h);return h})}yn(r,a){r.forEach((u,h)=>{for(const g of a)g.applyToLocalView(h)})}pn(r,a){return this.qe.getEntries(r,a).next(u=>this.En(r,u).next(()=>u))}En(r,a){return this._n.getAllMutationBatchesAffectingDocumentKeys(r,a).next(u=>this.yn(a,u))}getDocumentsMatchingQuery(r,a,u){return Ft.isDocumentKey((h=a).path)&&null===h.collectionGroup&&0===h.filters.length?this.Tn(r,a.path):B6(a)?this.In(r,a,u):this.An(r,a,u);var h}Tn(r,a){return this.mn(r,new Ft(a)).next(u=>{let h=tt();return u.isFoundDocument()&&(h=h.insert(u.key,u)),h})}In(r,a,u){const h=a.collectionGroup;let g=tt();return this.qt.getCollectionParents(r,h).next(w=>rt.forEach(w,V=>{const B=(X=a,oe=V.child(h),new gi(oe,null,X.explicitOrderBy.slice(),X.filters.slice(),X.limit,X.limitType,X.startAt,X.endAt));var X,oe;return this.An(r,B,u).next(X=>{X.forEach((oe,Ee)=>{g=g.insert(oe,Ee)})})}).next(()=>g))}An(r,a,u){let h,g;return this.qe.getDocumentsMatchingQuery(r,a,u).next(w=>(h=w,this._n.getAllMutationBatchesAffectingQuery(r,a))).next(w=>(g=w,this.Rn(r,g,h).next(V=>{h=V;for(const B of g)for(const X of B.mutations){const oe=X.key;let Ee=h.get(oe);null==Ee&&(Ee=S1.newInvalidDocument(oe),h=h.insert(oe,Ee)),mo(X,Ee,B.localWriteTime),Ee.isFoundDocument()||(h=h.remove(oe))}}))).next(()=>(h.forEach((w,V)=>{Aa(a,V)||(h=h.remove(w))}),h))}Rn(r,a,u){let h=on();for(const w of a)for(const V of w.mutations)V instanceof Ys&&null===u.get(V.key)&&(h=h.add(V.key));let g=u;return this.qe.getEntries(r,h).next(w=>(w.forEach((V,B)=>{B.isFoundDocument()&&(g=g.insert(V,B))}),g))}}class Bc{constructor(r,a,u,h){this.targetId=r,this.fromCache=a,this.Pn=u,this.bn=h}static vn(r,a){let u=on(),h=on();for(const g of a.docChanges)switch(g.type){case 0:u=u.add(g.doc.key);break;case 1:h=h.add(g.doc.key)}return new Bc(r,a.fromCache,u,h)}}class P4{Vn(r){this.Sn=r}getDocumentsMatchingQuery(r,a,u,h){return 0===(g=a).filters.length&&null===g.limit&&null==g.startAt&&null==g.endAt&&(0===g.explicitOrderBy.length||1===g.explicitOrderBy.length&&g.explicitOrderBy[0].field.isKeyField())||u.isEqual(Re.min())?this.Dn(r,a):this.Sn.pn(r,h).next(g=>{const w=this.Cn(a,g);return(Gs(a)||Ws(a))&&this.Nn(a.limitType,w,h,u)?this.Dn(r,a):(Ho()<=Yt.in.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Zs(a)),this.Sn.getDocumentsMatchingQuery(r,a,u).next(V=>(w.forEach(B=>{V=V.insert(B.key,B)}),V)))});var g}Cn(r,a){let u=new v(R1(r));return a.forEach((h,g)=>{Aa(r,g)&&(u=u.add(g))}),u}Nn(r,a,u,h){if(u.size!==a.size)return!0;const g="F"===r?a.last():a.first();return!!g&&(g.hasPendingWrites||g.version.compareTo(h)>0)}Dn(r,a){return Ho()<=Yt.in.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Zs(a)),this.Sn.getDocumentsMatchingQuery(r,a,Re.min())}}class D7{constructor(r,a,u,h){this.persistence=r,this.xn=a,this.R=h,this.kn=new dr(k),this.$n=new $i(g=>Fi(g),mi),this.On=Re.min(),this._n=r.getMutationQueue(u),this.Fn=r.getRemoteDocumentCache(),this.Ue=r.getTargetCache(),this.Mn=new x3(this.Fn,this._n,this.persistence.getIndexManager()),this.Ke=r.getBundleCache(),this.xn.Vn(this.Mn)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>r.collect(a,this.kn))}}function T3(c,r,a,u){return new D7(c,r,a,u)}function Zl(c,r){return D3.apply(this,arguments)}function D3(){return(D3=(0,Ie.Z)(function*(c,r){const a=C(c);let u=a._n,h=a.Mn;const g=yield a.persistence.runTransaction("Handle user change","readonly",w=>{let V;return a._n.getAllMutationBatches(w).next(B=>(V=B,u=a.persistence.getMutationQueue(r),h=new x3(a.Fn,u,a.persistence.getIndexManager()),u.getAllMutationBatches(w))).next(B=>{const X=[],oe=[];let Ee=on();for(const Ze of V){X.push(Ze.batchId);for(const Ke of Ze.mutations)Ee=Ee.add(Ke.key)}for(const Ze of B){oe.push(Ze.batchId);for(const Ke of Ze.mutations)Ee=Ee.add(Ke.key)}return h.pn(w,Ee).next(Ze=>({Ln:Ze,removedBatchIds:X,addedBatchIds:oe}))})});return a._n=u,a.Mn=h,a.xn.Vn(a.Mn),g})).apply(this,arguments)}function Kl(c,r){const a=C(c);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",u=>{const h=r.batch.keys(),g=a.Fn.newChangeBuffer({trackRemovals:!0});return function(w,V,B,X){const oe=B.batch,Ee=oe.keys();let Ze=rt.resolve();return Ee.forEach(Ke=>{Ze=Ze.next(()=>X.getEntry(V,Ke)).next(gt=>{const Gt=B.docVersions.get(Ke);A(null!==Gt),gt.version.compareTo(Gt)<0&&(oe.applyToRemoteDocument(gt,B),gt.isValidDocument()&&X.addEntry(gt,B.commitVersion))})}),Ze.next(()=>w._n.removeMutationBatch(V,oe))}(a,u,r,g).next(()=>g.apply(u)).next(()=>a._n.performConsistencyCheck(u)).next(()=>a.Mn.pn(u,h))})}function s0(c){const r=C(c);return r.persistence.runTransaction("Get last remote snapshot version","readonly",a=>r.Ue.getLastRemoteSnapshotVersion(a))}function Yl(c,r){const a=C(c),u=r.snapshotVersion;let h=a.kn;return a.persistence.runTransaction("Apply remote event","readwrite-primary",g=>{const w=a.Fn.newChangeBuffer({trackRemovals:!0});h=a.kn;const V=[];r.targetChanges.forEach((X,oe)=>{const Ee=h.get(oe);if(!Ee)return;V.push(a.Ue.removeMatchingKeys(g,X.removedDocuments,oe).next(()=>a.Ue.addMatchingKeys(g,X.addedDocuments,oe)));const Ze=X.resumeToken;if(Ze.approximateByteSize()>0){const Ke=Ee.withResumeToken(Ze,u).withSequenceNumber(g.currentSequenceNumber);h=h.insert(oe,Ke),gt=Ee,_n=X,A((Gt=Ke).resumeToken.approximateByteSize()>0),(0===gt.resumeToken.approximateByteSize()||Gt.snapshotVersion.toMicroseconds()-gt.snapshotVersion.toMicroseconds()>=3e8||_n.addedDocuments.size+_n.modifiedDocuments.size+_n.removedDocuments.size>0)&&V.push(a.Ue.updateTargetData(g,Ke))}var gt,Gt,_n});let B=te();if(r.documentUpdates.forEach((X,oe)=>{r.resolvedLimboDocuments.has(X)&&V.push(a.persistence.referenceDelegate.updateLimboDocument(g,X))}),V.push(N7(g,w,r.documentUpdates,u,void 0).next(X=>{B=X})),!u.isEqual(Re.min())){const X=a.Ue.getLastRemoteSnapshotVersion(g).next(oe=>a.Ue.setTargetsMetadata(g,g.currentSequenceNumber,u));V.push(X)}return rt.waitFor(V).next(()=>w.apply(g)).next(()=>a.Mn.En(g,B)).next(()=>B)}).then(g=>(a.kn=h,g))}function N7(c,r,a,u,h){let g=on();return a.forEach(w=>g=g.add(w)),r.getEntries(c,g).next(w=>{let V=te();return a.forEach((B,X)=>{const oe=w.get(B),Ee=(null==h?void 0:h.get(B))||u;X.isNoDocument()&&X.version.isEqual(Re.min())?(r.removeEntry(B,Ee),V=V.insert(B,X)):!oe.isValidDocument()||X.version.compareTo(oe.version)>0||0===X.version.compareTo(oe.version)&&oe.hasPendingWrites?(r.addEntry(X,Ee),V=V.insert(B,X)):ft("LocalStore","Ignoring outdated watch update for ",B,". Current version:",oe.version," Watch version:",X.version)}),V})}function Ql(c,r){const a=C(c);return a.persistence.runTransaction("Get next mutation batch","readonly",u=>(void 0===r&&(r=-1),a._n.getNextMutationBatchAfterBatchId(u,r)))}function O4(c,r){const a=C(c);return a.persistence.runTransaction("Allocate target","readwrite",u=>{let h;return a.Ue.getTargetData(u,r).next(g=>g?(h=g,rt.resolve(h)):a.Ue.allocateTargetId(u).next(w=>(h=new Co(r,w,0,u.currentSequenceNumber),a.Ue.addTargetData(u,h).next(()=>h))))}).then(u=>{const h=a.kn.get(u.targetId);return(null===h||u.snapshotVersion.compareTo(h.snapshotVersion)>0)&&(a.kn=a.kn.insert(u.targetId,u),a.$n.set(r,u.targetId)),u})}function Ua(c,r,a){return N3.apply(this,arguments)}function N3(){return(N3=(0,Ie.Z)(function*(c,r,a){const u=C(c),h=u.kn.get(r),g=a?"readwrite":"readwrite-primary";try{a||(yield u.persistence.runTransaction("Release target",g,w=>u.persistence.referenceDelegate.removeTarget(w,h)))}catch(w){if(!Oa(w))throw w;ft("LocalStore",`Failed to update sequence numbers for target ${r}: ${w}`)}u.kn=u.kn.remove(r),u.$n.delete(h.target)})).apply(this,arguments)}function o0(c,r,a){const u=C(c);let h=Re.min(),g=on();return u.persistence.runTransaction("Execute query","readonly",w=>function(V,B,X){const oe=C(V),Ee=oe.$n.get(X);return void 0!==Ee?rt.resolve(oe.kn.get(Ee)):oe.Ue.getTargetData(B,X)}(u,w,P2(r)).next(V=>{if(V)return h=V.lastLimboFreeSnapshotVersion,u.Ue.getMatchingKeysForTargetId(w,V.targetId).next(B=>{g=B})}).next(()=>u.xn.getDocumentsMatchingQuery(w,r,a?h:Re.min(),a?g:on())).next(V=>({documents:V,Bn:g})))}function Gi(c,r){const a=C(c),u=C(a.Ue),h=a.kn.get(r);return h?Promise.resolve(h.target):a.persistence.runTransaction("Get target data","readonly",g=>u.lt(g,r).next(w=>w?w.target:null))}function Jl(c){const r=C(c);return r.persistence.runTransaction("Get new document changes","readonly",a=>function(u,h,g){const w=C(u);let V=te(),B=Jo(g);const X=ra(h),oe=IDBKeyRange.lowerBound(B,!0);return X.Ot({index:ir.readTimeIndex,range:oe},(Ee,Ze)=>{const Ke=_3(w.R,Ze);V=V.insert(Ke.key,Ke),B=Ze.readTime}).next(()=>({wn:V,readTime:ws(B)}))}(r.Fn,a,r.On)).then(({wn:a,readTime:u})=>(r.On=u,a))}function L3(){return(L3=(0,Ie.Z)(function*(c){const r=C(c);return r.persistence.runTransaction("Synchronize last document change read time","readonly",a=>function(u){const h=ra(u);let g=Re.min();return h.Ot({index:ir.readTimeIndex,reverse:!0},(w,V,B)=>{V.readTime&&(g=ws(V.readTime)),B.done()}).next(()=>g)}(a)).then(a=>{r.On=a})})).apply(this,arguments)}function z3(){return(z3=(0,Ie.Z)(function*(c,r,a,u){const h=C(c);let g=on(),w=te(),V=bn();for(const oe of a){const Ee=r.Un(oe.metadata.name);oe.document&&(g=g.add(Ee)),w=w.insert(Ee,r.qn(oe)),V=V.insert(Ee,r.Kn(oe.metadata.readTime))}const B=h.Fn.newChangeBuffer({trackRemovals:!0}),X=yield O4(h,(oe=u,P2(fo(Dt.fromString(`__bundle__/docs/${oe}`)))));var oe;return h.persistence.runTransaction("Apply bundle documents","readwrite",oe=>N7(oe,B,w,Re.min(),V).next(Ee=>(B.apply(oe),Ee)).next(Ee=>h.Ue.removeMatchingKeysForTargetId(oe,X.targetId).next(()=>h.Ue.addMatchingKeys(oe,g,X.targetId)).next(()=>h.Mn.En(oe,Ee)).next(()=>Ee)))})).apply(this,arguments)}function z7(c,r){return a0.apply(this,arguments)}function a0(){return(a0=(0,Ie.Z)(function*(c,r,a=on()){const u=yield O4(c,P2(Rc(r.bundledQuery))),h=C(c);return h.persistence.runTransaction("Save named query","readwrite",g=>{const w=Qr(r.readTime);if(u.snapshotVersion.compareTo(w)>=0)return h.Ke.saveNamedQuery(g,r);const V=u.withResumeToken(Jn.EMPTY_BYTE_STRING,w);return h.kn=h.kn.insert(V.targetId,V),h.Ue.updateTargetData(g,V).next(()=>h.Ue.removeMatchingKeysForTargetId(g,u.targetId)).next(()=>h.Ue.addMatchingKeys(g,a,u.targetId)).next(()=>h.Ke.saveNamedQuery(g,r))})})).apply(this,arguments)}class R7{constructor(r){this.R=r,this.jn=new Map,this.Qn=new Map}getBundleMetadata(r,a){return rt.resolve(this.jn.get(a))}saveBundleMetadata(r,a){var u;return this.jn.set(a.id,{id:(u=a).id,version:u.version,createTime:Qr(u.createTime)}),rt.resolve()}getNamedQuery(r,a){return rt.resolve(this.Qn.get(a))}saveNamedQuery(r,a){return this.Qn.set(a.name,{name:(u=a).name,query:Rc(u.bundledQuery),readTime:Qr(u.readTime)}),rt.resolve();var u}}class R3{constructor(){this.Wn=new v(Ur.Gn),this.zn=new v(Ur.Hn)}isEmpty(){return this.Wn.isEmpty()}addReference(r,a){const u=new Ur(r,a);this.Wn=this.Wn.add(u),this.zn=this.zn.add(u)}Jn(r,a){r.forEach(u=>this.addReference(u,a))}removeReference(r,a){this.Yn(new Ur(r,a))}Xn(r,a){r.forEach(u=>this.removeReference(u,a))}Zn(r){const a=new Ft(new Dt([])),u=new Ur(a,r),h=new Ur(a,r+1),g=[];return this.zn.forEachInRange([u,h],w=>{this.Yn(w),g.push(w.key)}),g}ts(){this.Wn.forEach(r=>this.Yn(r))}Yn(r){this.Wn=this.Wn.delete(r),this.zn=this.zn.delete(r)}es(r){const a=new Ft(new Dt([])),u=new Ur(a,r),h=new Ur(a,r+1);let g=on();return this.zn.forEachInRange([u,h],w=>{g=g.add(w.key)}),g}containsKey(r){const a=new Ur(r,0),u=this.Wn.firstAfterOrEqual(a);return null!==u&&r.isEqual(u.key)}}class Ur{constructor(r,a){this.key=r,this.ns=a}static Gn(r,a){return Ft.comparator(r.key,a.key)||k(r.ns,a.ns)}static Hn(r,a){return k(r.ns,a.ns)||Ft.comparator(r.key,a.key)}}class un{constructor(r,a){this.qt=r,this.referenceDelegate=a,this._n=[],this.ss=1,this.rs=new v(Ur.Gn)}checkEmpty(r){return rt.resolve(0===this._n.length)}addMutationBatch(r,a,u,h){const g=this.ss;this.ss++;const w=new Q6(g,a,u,h);this._n.push(w);for(const V of h)this.rs=this.rs.add(new Ur(V.key,g)),this.qt.addToCollectionParentIndex(r,V.key.path.popLast());return rt.resolve(w)}lookupMutationBatch(r,a){return rt.resolve(this.os(a))}getNextMutationBatchAfterBatchId(r,a){const h=this.cs(a+1),g=h<0?0:h;return rt.resolve(this._n.length>g?this._n[g]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(0===this._n.length?-1:this.ss-1)}getAllMutationBatches(r){return rt.resolve(this._n.slice())}getAllMutationBatchesAffectingDocumentKey(r,a){const u=new Ur(a,0),h=new Ur(a,Number.POSITIVE_INFINITY),g=[];return this.rs.forEachInRange([u,h],w=>{const V=this.os(w.ns);g.push(V)}),rt.resolve(g)}getAllMutationBatchesAffectingDocumentKeys(r,a){let u=new v(k);return a.forEach(h=>{const g=new Ur(h,0),w=new Ur(h,Number.POSITIVE_INFINITY);this.rs.forEachInRange([g,w],V=>{u=u.add(V.ns)})}),rt.resolve(this.us(u))}getAllMutationBatchesAffectingQuery(r,a){const u=a.path,h=u.length+1;let g=u;Ft.isDocumentKey(g)||(g=g.child(""));const w=new Ur(new Ft(g),0);let V=new v(k);return this.rs.forEachWhile(B=>{const X=B.key.path;return!!u.isPrefixOf(X)&&(X.length===h&&(V=V.add(B.ns)),!0)},w),rt.resolve(this.us(V))}us(r){const a=[];return r.forEach(u=>{const h=this.os(u);null!==h&&a.push(h)}),a}removeMutationBatch(r,a){A(0===this.hs(a.batchId,"removed")),this._n.shift();let u=this.rs;return rt.forEach(a.mutations,h=>{const g=new Ur(h.key,a.batchId);return u=u.delete(g),this.referenceDelegate.markPotentiallyOrphaned(r,h.key)}).next(()=>{this.rs=u})}Gt(r){}containsKey(r,a){const u=new Ur(a,0),h=this.rs.firstAfterOrEqual(u);return rt.resolve(a.isEqual(h&&h.key))}performConsistencyCheck(r){return rt.resolve()}hs(r,a){return this.cs(r)}cs(r){return 0===this._n.length?0:r-this._n[0].batchId}os(r){const a=this.cs(r);return a<0||a>=this._n.length?null:this._n[a]}}class eu{constructor(r,a){this.qt=r,this.ls=a,this.docs=new dr(Ft.comparator),this.size=0}addEntry(r,a,u){const h=a.key,g=this.docs.get(h),w=g?g.size:0,V=this.ls(a);return this.docs=this.docs.insert(h,{document:a.clone(),size:V,readTime:u}),this.size+=V-w,this.qt.addToCollectionParentIndex(r,h.path.popLast())}removeEntry(r){const a=this.docs.get(r);a&&(this.docs=this.docs.remove(r),this.size-=a.size)}getEntry(r,a){const u=this.docs.get(a);return rt.resolve(u?u.document.clone():S1.newInvalidDocument(a))}getEntries(r,a){let u=te();return a.forEach(h=>{const g=this.docs.get(h);u=u.insert(h,g?g.document.clone():S1.newInvalidDocument(h))}),rt.resolve(u)}getDocumentsMatchingQuery(r,a,u){let h=te();const g=new Ft(a.path.child("")),w=this.docs.getIteratorFrom(g);for(;w.hasNext();){const{key:V,value:{document:B,readTime:X}}=w.getNext();if(!a.path.isPrefixOf(V.path))break;X.compareTo(u)<=0||Aa(a,B)&&(h=h.insert(B.key,B.clone()))}return rt.resolve(h)}fs(r,a){return rt.forEach(this.docs,u=>a(u))}newChangeBuffer(r){return new tu(this)}getSize(r){return rt.resolve(this.size)}}class tu extends I3{constructor(r){super(),this.Ie=r}applyChanges(r){const a=[];return this.changes.forEach((u,h)=>{h.document.isValidDocument()?a.push(this.Ie.addEntry(r,h.document,this.getReadTime(u))):this.Ie.removeEntry(u)}),rt.waitFor(a)}getFromCache(r,a){return this.Ie.getEntry(r,a)}getAllFromCache(r,a){return this.Ie.getEntries(r,a)}}class c0{constructor(r){this.persistence=r,this.ds=new $i(a=>Fi(a),mi),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.ws=0,this._s=new R3,this.targetCount=0,this.gs=Ha.Jt()}forEachTarget(r,a){return this.ds.forEach((u,h)=>a(h)),rt.resolve()}getLastRemoteSnapshotVersion(r){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return rt.resolve(this.ws)}allocateTargetId(r){return this.highestTargetId=this.gs.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(r,a,u){return u&&(this.lastRemoteSnapshotVersion=u),a>this.ws&&(this.ws=a),rt.resolve()}te(r){this.ds.set(r.target,r);const a=r.targetId;a>this.highestTargetId&&(this.gs=new Ha(a),this.highestTargetId=a),r.sequenceNumber>this.ws&&(this.ws=r.sequenceNumber)}addTargetData(r,a){return this.te(a),this.targetCount+=1,rt.resolve()}updateTargetData(r,a){return this.te(a),rt.resolve()}removeTargetData(r,a){return this.ds.delete(a.target),this._s.Zn(a.targetId),this.targetCount-=1,rt.resolve()}removeTargets(r,a,u){let h=0;const g=[];return this.ds.forEach((w,V)=>{V.sequenceNumber<=a&&null===u.get(V.targetId)&&(this.ds.delete(w),g.push(this.removeMatchingKeysForTargetId(r,V.targetId)),h++)}),rt.waitFor(g).next(()=>h)}getTargetCount(r){return rt.resolve(this.targetCount)}getTargetData(r,a){const u=this.ds.get(a)||null;return rt.resolve(u)}addMatchingKeys(r,a,u){return this._s.Jn(a,u),rt.resolve()}removeMatchingKeys(r,a,u){this._s.Xn(a,u);const h=this.persistence.referenceDelegate,g=[];return h&&a.forEach(w=>{g.push(h.markPotentiallyOrphaned(r,w))}),rt.waitFor(g)}removeMatchingKeysForTargetId(r,a){return this._s.Zn(a),rt.resolve()}getMatchingKeysForTargetId(r,a){const u=this._s.es(a);return rt.resolve(u)}containsKey(r,a){return rt.resolve(this._s.containsKey(a))}}class Ms{constructor(r,a){this.ys={},this.Ne=new Cr(0),this.xe=!1,this.xe=!0,this.referenceDelegate=r(this),this.Ue=new c0(this),this.qt=new Vc,this.qe=new eu(this.qt,u=>this.referenceDelegate.ps(u)),this.R=new Hl(a),this.Ke=new R7(this.R)}start(){return Promise.resolve()}shutdown(){return this.xe=!1,Promise.resolve()}get started(){return this.xe}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.qt}getMutationQueue(r){let a=this.ys[r.toKey()];return a||(a=new un(this.qt,this.referenceDelegate),this.ys[r.toKey()]=a),a}getTargetCache(){return this.Ue}getRemoteDocumentCache(){return this.qe}getBundleCache(){return this.Ke}runTransaction(r,a,u){ft("MemoryPersistence","Starting transaction:",r);const h=new nu(this.Ne.next());return this.referenceDelegate.Es(),u(h).next(g=>this.referenceDelegate.Ts(h).next(()=>g)).toPromise().then(g=>(h.raiseOnCommittedEvent(),g))}Is(r,a){return rt.or(Object.values(this.ys).map(u=>()=>u.containsKey(r,a)))}}class nu extends Dc{constructor(r){super(),this.currentSequenceNumber=r}}class V3{constructor(r){this.persistence=r,this.As=new R3,this.Rs=null}static Ps(r){return new V3(r)}get bs(){if(this.Rs)return this.Rs;throw zt()}addReference(r,a,u){return this.As.addReference(u,a),this.bs.delete(u.toString()),rt.resolve()}removeReference(r,a,u){return this.As.removeReference(u,a),this.bs.add(u.toString()),rt.resolve()}markPotentiallyOrphaned(r,a){return this.bs.add(a.toString()),rt.resolve()}removeTarget(r,a){this.As.Zn(a.targetId).forEach(h=>this.bs.add(h.toString()));const u=this.persistence.getTargetCache();return u.getMatchingKeysForTargetId(r,a.targetId).next(h=>{h.forEach(g=>this.bs.add(g.toString()))}).next(()=>u.removeTargetData(r,a))}Es(){this.Rs=new Set}Ts(r){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.bs,u=>{const h=Ft.fromPath(u);return this.vs(r,h).next(g=>{g||a.removeEntry(h)})}).next(()=>(this.Rs=null,a.apply(r)))}updateLimboDocument(r,a){return this.vs(r,a).next(u=>{u?this.bs.delete(a.toString()):this.bs.add(a.toString())})}ps(r){return 0}vs(r,a){return rt.or([()=>rt.resolve(this.As.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(r,a),()=>this.persistence.Is(r,a)])}}class d2{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}function Js(c,r){return`firestore_clients_${c}_${r}`}function l0(c,r,a){let u=`firestore_mutations_${c}_${a}`;return r.isAuthenticated()&&(u+=`_${r.uid}`),u}function u0(c,r){return`firestore_targets_${c}_${r}`}d2.UNAUTHENTICATED=new d2(null),d2.GOOGLE_CREDENTIALS=new d2("google-credentials-uid"),d2.FIRST_PARTY=new d2("first-party-uid");class k4{constructor(r,a,u,h){this.user=r,this.batchId=a,this.state=u,this.error=h}static Vs(r,a,u){const h=JSON.parse(u);let g,w="object"==typeof h&&-1!==["pending","acknowledged","rejected"].indexOf(h.state)&&(void 0===h.error||"object"==typeof h.error);return w&&h.error&&(w="string"==typeof h.error.message&&"string"==typeof h.error.code,w&&(g=new st(h.error.code,h.error.message))),w?new k4(r,a,h.state,g):(z1("SharedClientState",`Failed to parse mutation state for ID '${a}': ${u}`),null)}Ss(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class f0{constructor(r,a,u){this.targetId=r,this.state=a,this.error=u}static Vs(r,a){const u=JSON.parse(a);let h,g="object"==typeof u&&-1!==["not-current","current","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return g&&u.error&&(g="string"==typeof u.error.message&&"string"==typeof u.error.code,g&&(h=new st(u.error.code,u.error.message))),g?new f0(r,u.state,h):(z1("SharedClientState",`Failed to parse target state for ID '${r}': ${a}`),null)}Ss(){const r={state:this.state,updateTimeMs:Date.now()};return this.error&&(r.error={code:this.error.code,message:this.error.message}),JSON.stringify(r)}}class jc{constructor(r,a){this.clientId=r,this.activeTargetIds=a}static Vs(r,a){const u=JSON.parse(a);let h="object"==typeof u&&u.activeTargetIds instanceof Array,g=_i();for(let w=0;h&&w<u.activeTargetIds.length;++w)h=I1(u.activeTargetIds[w]),g=g.add(u.activeTargetIds[w]);return h?new jc(r,g):(z1("SharedClientState",`Failed to parse client data for instance '${r}': ${a}`),null)}}class ru{constructor(r,a){this.clientId=r,this.onlineState=a}static Vs(r){const a=JSON.parse(r);return"object"==typeof a&&-1!==["Unknown","Online","Offline"].indexOf(a.onlineState)&&"string"==typeof a.clientId?new ru(a.clientId,a.onlineState):(z1("SharedClientState",`Failed to parse online state: ${r}`),null)}}class Is{constructor(){this.activeTargetIds=_i()}Ds(r){this.activeTargetIds=this.activeTargetIds.add(r)}Cs(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Ss(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class H4{constructor(r,a,u,h,g){this.window=r,this.Se=a,this.persistenceKey=u,this.Ns=h,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.$s=new dr(k),this.started=!1,this.Os=[];const w=u.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=g,this.Fs=Js(this.persistenceKey,this.Ns),this.Ms=`firestore_sequence_number_${this.persistenceKey}`,this.$s=this.$s.insert(this.Ns,new Is),this.Ls=new RegExp(`^firestore_clients_${w}_([^_]*)$`),this.Bs=new RegExp(`^firestore_mutations_${w}_(\\d+)(?:_(.*))?$`),this.Us=new RegExp(`^firestore_targets_${w}_(\\d+)$`),this.qs=`firestore_online_state_${this.persistenceKey}`,this.Ks=function(V){return`firestore_bundle_loaded_${V}`}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}static gt(r){return!(!r||!r.localStorage)}start(){var r=this;return(0,Ie.Z)(function*(){const a=yield r.syncEngine.fn();for(const h of a){if(h===r.Ns)continue;const g=r.getItem(Js(r.persistenceKey,h));if(g){const w=jc.Vs(h,g);w&&(r.$s=r.$s.insert(w.clientId,w))}}r.js();const u=r.storage.getItem(r.qs);if(u){const h=r.Qs(u);h&&r.Ws(h)}for(const h of r.Os)r.ks(h);r.Os=[],r.window.addEventListener("pagehide",()=>r.shutdown()),r.started=!0})()}writeSequenceNumber(r){this.setItem(this.Ms,JSON.stringify(r))}getAllActiveQueryTargets(){return this.Gs(this.$s)}isActiveQueryTarget(r){let a=!1;return this.$s.forEach((u,h)=>{h.activeTargetIds.has(r)&&(a=!0)}),a}addPendingMutation(r){this.zs(r,"pending")}updateMutationState(r,a,u){this.zs(r,a,u),this.Hs(r)}addLocalQueryTarget(r){let a="not-current";if(this.isActiveQueryTarget(r)){const u=this.storage.getItem(u0(this.persistenceKey,r));if(u){const h=f0.Vs(r,u);h&&(a=h.state)}}return this.Js.Ds(r),this.js(),a}removeLocalQueryTarget(r){this.Js.Cs(r),this.js()}isLocalQueryTarget(r){return this.Js.activeTargetIds.has(r)}clearQueryState(r){this.removeItem(u0(this.persistenceKey,r))}updateQueryState(r,a,u){this.Ys(r,a,u)}handleUserChange(r,a,u){a.forEach(h=>{this.Hs(h)}),this.currentUser=r,u.forEach(h=>{this.addPendingMutation(h)})}setOnlineState(r){this.Xs(r)}notifyBundleLoaded(){this.Zs()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Fs),this.started=!1)}getItem(r){const a=this.storage.getItem(r);return ft("SharedClientState","READ",r,a),a}setItem(r,a){ft("SharedClientState","SET",r,a),this.storage.setItem(r,a)}removeItem(r){ft("SharedClientState","REMOVE",r),this.storage.removeItem(r)}ks(r){var a=this;const u=r;if(u.storageArea===this.storage){if(ft("SharedClientState","EVENT",u.key,u.newValue),u.key===this.Fs)return void z1("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((0,Ie.Z)(function*(){if(a.started){if(null!==u.key)if(a.Ls.test(u.key)){if(null==u.newValue){const h=a.ti(u.key);return a.ei(h,null)}{const h=a.ni(u.key,u.newValue);if(h)return a.ei(h.clientId,h)}}else if(a.Bs.test(u.key)){if(null!==u.newValue){const h=a.si(u.key,u.newValue);if(h)return a.ii(h)}}else if(a.Us.test(u.key)){if(null!==u.newValue){const h=a.ri(u.key,u.newValue);if(h)return a.oi(h)}}else if(u.key===a.qs){if(null!==u.newValue){const h=a.Qs(u.newValue);if(h)return a.Ws(h)}}else if(u.key===a.Ms){const h=function(g){let w=Cr.o;if(null!=g)try{const V=JSON.parse(g);A("number"==typeof V),w=V}catch(V){z1("SharedClientState","Failed to read sequence number from WebStorage",V)}return w}(u.newValue);h!==Cr.o&&a.sequenceNumberHandler(h)}else if(u.key===a.Ks)return a.syncEngine.ci()}else a.Os.push(u)}))}}get Js(){return this.$s.get(this.Ns)}js(){this.setItem(this.Fs,this.Js.Ss())}zs(r,a,u){const h=new k4(this.currentUser,r,a,u),g=l0(this.persistenceKey,this.currentUser,r);this.setItem(g,h.Ss())}Hs(r){const a=l0(this.persistenceKey,this.currentUser,r);this.removeItem(a)}Xs(r){this.storage.setItem(this.qs,JSON.stringify({clientId:this.Ns,onlineState:r}))}Ys(r,a,u){const h=u0(this.persistenceKey,r),g=new f0(r,a,u);this.setItem(h,g.Ss())}Zs(){this.setItem(this.Ks,"value-not-used")}ti(r){const a=this.Ls.exec(r);return a?a[1]:null}ni(r,a){const u=this.ti(r);return jc.Vs(u,a)}si(r,a){const u=this.Bs.exec(r),h=Number(u[1]);return k4.Vs(new d2(void 0!==u[2]?u[2]:null),h,a)}ri(r,a){const u=this.Us.exec(r),h=Number(u[1]);return f0.Vs(h,a)}Qs(r){return ru.Vs(r)}ii(r){var a=this;return(0,Ie.Z)(function*(){if(r.user.uid===a.currentUser.uid)return a.syncEngine.ui(r.batchId,r.state,r.error);ft("SharedClientState",`Ignoring mutation for non-active user ${r.user.uid}`)})()}oi(r){return this.syncEngine.ai(r.targetId,r.state,r.error)}ei(r,a){const u=a?this.$s.insert(r,a):this.$s.remove(r),h=this.Gs(this.$s),g=this.Gs(u),w=[],V=[];return g.forEach(B=>{h.has(B)||w.push(B)}),h.forEach(B=>{g.has(B)||V.push(B)}),this.syncEngine.hi(w,V).then(()=>{this.$s=u})}Ws(r){this.$s.get(r.clientId)&&this.onlineStateHandler(r.onlineState)}Gs(r){let a=_i();return r.forEach((u,h)=>{a=a.unionWith(h.activeTargetIds)}),a}}class $c{constructor(){this.li=new Is,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,a,u){}addLocalQueryTarget(r){return this.li.Ds(r),this.fi[r]||"not-current"}updateQueryState(r,a,u){this.fi[r]=a}removeLocalQueryTarget(r){this.li.Cs(r)}isLocalQueryTarget(r){return this.li.activeTargetIds.has(r)}clearQueryState(r){delete this.fi[r]}getAllActiveQueryTargets(){return this.li.activeTargetIds}isActiveQueryTarget(r){return this.li.activeTargetIds.has(r)}start(){return this.li=new Is,Promise.resolve()}handleUserChange(r,a,u){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class P3{di(r){}shutdown(){}}class V7{constructor(){this.wi=()=>this._i(),this.mi=()=>this.gi(),this.yi=[],this.pi()}di(r){this.yi.push(r)}shutdown(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)}pi(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)}_i(){ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.yi)r(0)}gi(){ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.yi)r(1)}static gt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const P7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class iu{constructor(r){this.Ei=r.Ei,this.Ti=r.Ti}Ii(r){this.Ai=r}Ri(r){this.Pi=r}onMessage(r){this.bi=r}close(){this.Ti()}send(r){this.Ei(r)}vi(){this.Ai()}Vi(r){this.Pi(r)}Si(r){this.bi(r)}}class i9 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.Di=(r.ssl?"https":"http")+"://"+r.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Ni(r,a,u,h){const g=this.xi(r,a);ft("RestConnection","Sending: ",g,u);const w={};return this.ki(w,h),this.$i(r,g,w,u).then(V=>(ft("RestConnection","Received: ",V),V),V=>{throw Hi("RestConnection",`${r} failed with error: `,V,"url: ",g,"request:",u),V})}Oi(r,a,u,h){return this.Ni(r,a,u,h)}ki(r,a){if(r["X-Goog-Api-Client"]="gl-js/ fire/"+Q2,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),a)for(const u in a.authHeaders)a.authHeaders.hasOwnProperty(u)&&(r[u]=a.authHeaders[u])}xi(r,a){return`${this.Di}/v1/${a}:${P7[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}$i(r,a,u,h){return new Promise((g,w)=>{const V=new N2;V.listenOnce(_4.COMPLETE,()=>{try{switch(V.getLastErrorCode()){case pi.NO_ERROR:const X=V.getResponseJson();ft("Connection","XHR received:",JSON.stringify(X)),g(X);break;case pi.TIMEOUT:ft("Connection",'RPC "'+r+'" timed out'),w(new st(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case pi.HTTP_ERROR:const oe=V.getStatus();if(ft("Connection",'RPC "'+r+'" failed with status:',oe,"response text:",V.getResponseText()),oe>0){const Ee=V.getResponseJson().error;if(Ee&&Ee.status&&Ee.message){const Ze=function(Ke){const gt=Ke.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(gt)>=0?gt:Ge.UNKNOWN}(Ee.status);w(new st(Ze,Ee.message))}else w(new st(Ge.UNKNOWN,"Server responded with status "+V.getStatus()))}else w(new st(Ge.UNAVAILABLE,"Connection failed."));break;default:zt()}}finally{ft("Connection",'RPC "'+r+'" completed.')}});const B=JSON.stringify(h);V.send(a,"POST",B,u,15)})}Fi(r,a){const u=[this.Di,"/","google.firestore.v1.Firestore","/",r,"/channel"],h=new Oi,g=Dr(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(w.xmlHttpFactory=new Hs({})),this.ki(w.initMessageHeaders,a),(0,Be.uI)()||(0,Be.b$)()||(0,Be.d)()||(0,Be.w1)()||(0,Be.Mn)()||(0,Be.ru)()||(w.httpHeadersOverwriteParam="$httpHeaders");const V=u.join("");ft("Connection","Creating WebChannel: "+V,w);const B=h.createWebChannel(V,w);let X=!1,oe=!1;const Ee=new iu({Ei:Ke=>{oe?ft("Connection","Not sending because WebChannel is closed:",Ke):(X||(ft("Connection","Opening WebChannel transport."),B.open(),X=!0),ft("Connection","WebChannel sending:",Ke),B.send(Ke))},Ti:()=>B.close()}),Ze=(Ke,gt,Gt)=>{Ke.listen(gt,_n=>{try{Gt(_n)}catch(br){setTimeout(()=>{throw br},0)}})};return Ze(B,ds.EventType.OPEN,()=>{oe||ft("Connection","WebChannel transport opened.")}),Ze(B,ds.EventType.CLOSE,()=>{oe||(oe=!0,ft("Connection","WebChannel transport closed"),Ee.Vi())}),Ze(B,ds.EventType.ERROR,Ke=>{oe||(oe=!0,Hi("Connection","WebChannel transport errored:",Ke),Ee.Vi(new st(Ge.UNAVAILABLE,"The operation could not be completed")))}),Ze(B,ds.EventType.MESSAGE,Ke=>{var gt;if(!oe){const Gt=Ke.data[0];A(!!Gt);const _n=Gt,br=_n.error||(null===(gt=_n[0])||void 0===gt?void 0:gt.error);if(br){ft("Connection","WebChannel received error:",br);const Ns=br.status;let uc=function(G0){const J8=g1[G0];if(void 0!==J8)return Mc(J8)}(Ns),fc=br.message;void 0===uc&&(uc=Ge.INTERNAL,fc="Unknown error status: "+Ns+" with message "+br.message),oe=!0,Ee.Vi(new st(uc,fc)),B.close()}else ft("Connection","WebChannel received:",Gt),Ee.Si(Gt)}}),Ze(g,D2.STAT_EVENT,Ke=>{Ke.stat===hs_PROXY?ft("Connection","Detected buffering proxy"):Ke.stat===hs_NOPROXY&&ft("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ee.vi()},0),Ee}}function su(){return"undefined"!=typeof window?window:null}function O3(){return"undefined"!=typeof document?document:null}function F4(c){return new D4(c,!0)}class h0{constructor(r,a,u=1e3,h=1.5,g=6e4){this.Se=r,this.timerId=a,this.Mi=u,this.Li=h,this.Bi=g,this.Ui=0,this.qi=null,this.Ki=Date.now(),this.reset()}reset(){this.Ui=0}ji(){this.Ui=this.Bi}Qi(r){this.cancel();const a=Math.floor(this.Ui+this.Wi()),u=Math.max(0,Date.now()-this.Ki),h=Math.max(0,a-u);h>0&&ft("ExponentialBackoff",`Backing off for ${h} ms (base delay: ${this.Ui} ms, delay with jitter: ${a} ms, last attempt: ${u} ms ago)`),this.qi=this.Se.enqueueAfterDelay(this.timerId,h,()=>(this.Ki=Date.now(),r())),this.Ui*=this.Li,this.Ui<this.Mi&&(this.Ui=this.Mi),this.Ui>this.Bi&&(this.Ui=this.Bi)}Gi(){null!==this.qi&&(this.qi.skipDelay(),this.qi=null)}cancel(){null!==this.qi&&(this.qi.cancel(),this.qi=null)}Wi(){return(Math.random()-.5)*this.Ui}}class ou{constructor(r,a,u,h,g,w){this.Se=r,this.zi=u,this.Hi=h,this.Ji=g,this.listener=w,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new h0(r,a)}tr(){return 1===this.state||2===this.state||4===this.state}er(){return 2===this.state}start(){3!==this.state?this.auth():this.nr()}stop(){var r=this;return(0,Ie.Z)(function*(){r.tr()&&(yield r.close(0))})()}sr(){this.state=0,this.Zi.reset()}ir(){this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,()=>this.rr()))}cr(r){this.ur(),this.stream.send(r)}rr(){var r=this;return(0,Ie.Z)(function*(){if(r.er())return r.close(0)})()}ur(){this.Xi&&(this.Xi.cancel(),this.Xi=null)}close(r,a){var u=this;return(0,Ie.Z)(function*(){u.ur(),u.Zi.cancel(),u.Yi++,3!==r?u.Zi.reset():a&&a.code===Ge.RESOURCE_EXHAUSTED?(z1(a.toString()),z1("Using maximum backoff delay to prevent overloading the backend."),u.Zi.ji()):a&&a.code===Ge.UNAUTHENTICATED&&u.Ji.invalidateToken(),null!==u.stream&&(u.ar(),u.stream.close(),u.stream=null),u.state=r,yield u.listener.Ri(a)})()}ar(){}auth(){this.state=1;const r=this.hr(this.Yi),a=this.Yi;this.Ji.getToken().then(u=>{this.Yi===a&&this.lr(u)},u=>{r(()=>{const h=new st(Ge.UNKNOWN,"Fetching auth token failed: "+u.message);return this.dr(h)})})}lr(r){const a=this.hr(this.Yi);this.stream=this.wr(r),this.stream.Ii(()=>{a(()=>(this.state=2,this.listener.Ii()))}),this.stream.Ri(u=>{a(()=>this.dr(u))}),this.stream.onMessage(u=>{a(()=>this.onMessage(u))})}nr(){var r=this;this.state=4,this.Zi.Qi((0,Ie.Z)(function*(){r.state=0,r.start()}))}dr(r){return ft("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(3,r)}hr(r){return a=>{this.Se.enqueueAndForget(()=>this.Yi===r?a():(ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class k3 extends ou{constructor(r,a,u,h,g){super(r,"listen_stream_connection_backoff","listen_stream_idle",a,u,g),this.R=h}wr(r){return this.Hi.Fi("Listen",r)}onMessage(r){this.Zi.reset();const a=function(c,r){let a;if("targetChange"in r){const u="NO_CHANGE"===(B=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:zt(),h=r.targetChange.targetIds||[],g=function(B,X){return B.I?(A(void 0===X||"string"==typeof X),Jn.fromBase64String(X||"")):(A(void 0===X||X instanceof Uint8Array),Jn.fromUint8Array(X||new Uint8Array))}(c,r.targetChange.resumeToken),w=r.targetChange.cause,V=w&&function(B){const X=void 0===B.code?Ge.UNKNOWN:Mc(B.code);return new st(X,B.message||"")}(w);a=new Ac(u,h,g,V||null)}else if("documentChange"in r){const u=r.documentChange,h=ji(c,u.document.name),g=Qr(u.document.updateTime),w=new hr({mapValue:{fields:u.document.fields}}),V=S1.newFoundDocument(h,g,w);a=new Zo(u.targetIds||[],u.removedTargetIds||[],V.key,V)}else if("documentDelete"in r){const u=r.documentDelete,h=ji(c,u.document),g=u.readTime?Qr(u.readTime):Re.min(),w=S1.newNoDocument(h,g);a=new Zo([],u.removedTargetIds||[],w.key,w)}else if("documentRemove"in r){const u=r.documentRemove,h=ji(c,u.document);a=new Zo([],u.removedTargetIds||[],h,null)}else{if(!("filter"in r))return zt();{const u=r.filter,g=new W6(u.count||0);a=new Ic(u.targetId,g)}}var B;return a}(this.R,r),u=function(h){if(!("targetChange"in h))return Re.min();const g=h.targetChange;return g.targetIds&&g.targetIds.length?Re.min():g.readTime?Qr(g.readTime):Re.min()}(r);return this.listener._r(a,u)}mr(r){const a={};a.database=N4(this.R),a.addTarget=function(h,g){let w;const V=g.target;return w=uo(V)?{documents:zl(h,V)}:{query:K1(h,V)},w.targetId=g.targetId,g.resumeToken.approximateByteSize()>0?w.resumeToken=h3(h,g.resumeToken):g.snapshotVersion.compareTo(Re.min())>0&&(w.readTime=Ko(h,g.snapshotVersion.toTimestamp())),w}(this.R,r);const u=function(c,r){const a=function(u,h){switch(h){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return zt()}}(0,r.purpose);return null==a?null:{"goog-listen-tags":a}}(0,r);u&&(a.labels=u),this.cr(a)}gr(r){const a={};a.database=N4(this.R),a.removeTarget=r,this.cr(a)}}class s9 extends ou{constructor(r,a,u,h,g){super(r,"write_stream_connection_backoff","write_stream_idle",a,u,g),this.R=h,this.yr=!1}get pr(){return this.yr}start(){this.yr=!1,this.lastStreamToken=void 0,super.start()}ar(){this.yr&&this.Er([])}wr(r){return this.Hi.Fi("Write",r)}onMessage(r){if(A(!!r.streamToken),this.lastStreamToken=r.streamToken,this.yr){this.Zi.reset();const a=function(c,r){return c&&c.length>0?(A(void 0!==r),c.map(a=>function(u,h){let g=Qr(u.updateTime?u.updateTime:h);return g.isEqual(Re.min())&&(g=Qr(h)),new bc(g,u.transformResults||[])}(a,r))):[]}(r.writeResults,r.commitTime),u=Qr(r.commitTime);return this.listener.Tr(u,a)}return A(!r.writeResults||0===r.writeResults.length),this.yr=!0,this.listener.Ir()}Ar(){const r={};r.database=N4(this.R),this.cr(r)}Er(r){const a={streamToken:this.lastStreamToken,writes:r.map(u=>Va(this.R,u))};this.cr(a)}}class o9 extends class{}{constructor(r,a,u){super(),this.credentials=r,this.Hi=a,this.R=u,this.Rr=!1}Pr(){if(this.Rr)throw new st(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}Ni(r,a,u){return this.Pr(),this.credentials.getToken().then(h=>this.Hi.Ni(r,a,u,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Ge.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new st(Ge.UNKNOWN,h.toString())})}Oi(r,a,u){return this.Pr(),this.credentials.getToken().then(h=>this.Hi.Oi(r,a,u,h)).catch(h=>{throw"FirebaseError"===h.name?(h.code===Ge.UNAUTHENTICATED&&this.credentials.invalidateToken(),h):new st(Ge.UNKNOWN,h.toString())})}terminate(){this.Rr=!0}}class a9{constructor(r,a){this.asyncQueue=r,this.onlineStateHandler=a,this.state="Unknown",this.br=0,this.vr=null,this.Vr=!0}Sr(){0===this.br&&(this.Dr("Unknown"),this.vr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.vr=null,this.Cr("Backend didn't respond within 10 seconds."),this.Dr("Offline"),Promise.resolve())))}Nr(r){"Online"===this.state?this.Dr("Unknown"):(this.br++,this.br>=1&&(this.kr(),this.Cr(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.Dr("Offline")))}set(r){this.kr(),this.br=0,"Online"===r&&(this.Vr=!1),this.Dr(r)}Dr(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}Cr(r){const a=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Vr?(z1(a),this.Vr=!1):ft("OnlineStateTracker",a)}kr(){null!==this.vr&&(this.vr.cancel(),this.vr=null)}}class c9{constructor(r,a,u,h,g){var w=this;this.localStore=r,this.datastore=a,this.asyncQueue=u,this.remoteSyncer={},this.$r=[],this.Or=new Map,this.Fr=new Set,this.Mr=[],this.Lr=g,this.Lr.di(V=>{u.enqueueAndForget((0,Ie.Z)(function*(){var B;Eo(w)&&(ft("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,Ie.Z)(function*(X){const oe=C(X);oe.Fr.add(4),yield Gc(oe),oe.Br.set("Unknown"),oe.Fr.delete(4),yield d0(oe)}),function(X){return B.apply(this,arguments)})(w))}))}),this.Br=new a9(u,h)}}function d0(c){return au.apply(this,arguments)}function au(){return(au=(0,Ie.Z)(function*(c){if(Eo(c))for(const r of c.Mr)yield r(!0)})).apply(this,arguments)}function Gc(c){return cu.apply(this,arguments)}function cu(){return(cu=(0,Ie.Z)(function*(c){for(const r of c.Mr)yield r(!1)})).apply(this,arguments)}function H3(c,r){const a=C(c);a.Or.has(r.targetId)||(a.Or.set(r.targetId,r),F3(a)?Wc(a):$4(a).er()&&lu(a,r))}function p0(c,r){const a=C(c),u=$4(a);a.Or.delete(r),u.er()&&wo(a,r),0===a.Or.size&&(u.er()?u.ir():Eo(a)&&a.Br.set("Unknown"))}function lu(c,r){c.Ur.q(r.targetId),$4(c).mr(r)}function wo(c,r){c.Ur.q(r),$4(c).gr(r)}function Wc(c){c.Ur=new q6({getRemoteKeysForTarget:r=>c.remoteSyncer.getRemoteKeysForTarget(r),lt:r=>c.Or.get(r)||null}),$4(c).start(),c.Br.Sr()}function F3(c){return Eo(c)&&!$4(c).tr()&&c.Or.size>0}function Eo(c){return 0===C(c).Fr.size}function m0(c){c.Ur=void 0}function uu(c){return qc.apply(this,arguments)}function qc(){return(qc=(0,Ie.Z)(function*(c){c.Or.forEach((r,a)=>{lu(c,r)})})).apply(this,arguments)}function O7(c,r){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,Ie.Z)(function*(c,r){m0(c),F3(c)?(c.Br.Nr(r),Wc(c)):c.Br.set("Unknown")})).apply(this,arguments)}function fu(c,r,a){return U3.apply(this,arguments)}function U3(){return(U3=(0,Ie.Z)(function*(c,r,a){if(c.Br.set("Online"),r instanceof Ac&&2===r.state&&r.cause)try{yield(u=(0,Ie.Z)(function*(h,g){const w=g.cause;for(const V of g.targetIds)h.Or.has(V)&&(yield h.remoteSyncer.rejectListen(V,w),h.Or.delete(V),h.Ur.removeTarget(V))}),function(h,g){return u.apply(this,arguments)})(c,r)}catch(u){ft("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),u),yield B3(c,u)}else if(r instanceof Zo?c.Ur.X(r):r instanceof Ic?c.Ur.rt(r):c.Ur.et(r),!a.isEqual(Re.min()))try{const u=yield s0(c.localStore);a.compareTo(u)>=0&&(yield function(h,g){const w=h.Ur.ut(g);return w.targetChanges.forEach((V,B)=>{if(V.resumeToken.approximateByteSize()>0){const X=h.Or.get(B);X&&h.Or.set(B,X.withResumeToken(V.resumeToken,g))}}),w.targetMismatches.forEach(V=>{const B=h.Or.get(V);if(!B)return;h.Or.set(V,B.withResumeToken(Jn.EMPTY_BYTE_STRING,B.snapshotVersion)),wo(h,V);const X=new Co(B.target,V,1,B.sequenceNumber);lu(h,X)}),h.remoteSyncer.applyRemoteEvent(w)}(c,a))}catch(u){ft("RemoteStore","Failed to raise snapshot:",u),yield B3(c,u)}var u})).apply(this,arguments)}function B3(c,r,a){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,Ie.Z)(function*(c,r,a){if(!Oa(r))throw r;c.Fr.add(1),yield Gc(c),c.Br.set("Offline"),a||(a=()=>s0(c.localStore)),c.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){ft("RemoteStore","Retrying IndexedDB access"),yield a(),c.Fr.delete(1),yield d0(c)}))})).apply(this,arguments)}function hu(c,r){return r().catch(a=>B3(c,a,r))}function Ba(c){return j3.apply(this,arguments)}function j3(){return(j3=(0,Ie.Z)(function*(c){const r=C(c),a=Mo(r);let u=r.$r.length>0?r.$r[r.$r.length-1].batchId:-1;for(;k7(r);)try{const h=yield Ql(r.localStore,u);if(null===h){0===r.$r.length&&a.ir();break}u=h.batchId,Kc(r,h)}catch(h){yield B3(r,h)}ja(r)&&g0(r)})).apply(this,arguments)}function k7(c){return Eo(c)&&c.$r.length<10}function Kc(c,r){c.$r.push(r);const a=Mo(c);a.er()&&a.pr&&a.Er(r.mutations)}function ja(c){return Eo(c)&&!Mo(c).tr()&&c.$r.length>0}function g0(c){Mo(c).start()}function U4(c){return $a.apply(this,arguments)}function $a(){return($a=(0,Ie.Z)(function*(c){Mo(c).Ar()})).apply(this,arguments)}function B4(c){return $3.apply(this,arguments)}function $3(){return($3=(0,Ie.Z)(function*(c){const r=Mo(c);for(const a of c.$r)r.Er(a.mutations)})).apply(this,arguments)}function du(c,r,a){return v0.apply(this,arguments)}function v0(){return(v0=(0,Ie.Z)(function*(c,r,a){const u=c.$r.shift(),h=kl.from(u,r,a);yield hu(c,()=>c.remoteSyncer.applySuccessfulWrite(h)),yield Ba(c)})).apply(this,arguments)}function G3(c,r){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,Ie.Z)(function*(c,r){var a;r&&Mo(c).pr&&(yield(a=(0,Ie.Z)(function*(u,h){if(Na(g=h.code)&&g!==Ge.ABORTED){const w=u.$r.shift();Mo(u).sr(),yield hu(u,()=>u.remoteSyncer.rejectFailedWrite(w.batchId,h)),yield Ba(u)}var g}),function(u,h){return a.apply(this,arguments)})(c,r)),ja(c)&&g0(c)})).apply(this,arguments)}function y0(c,r){return j4.apply(this,arguments)}function j4(){return(j4=(0,Ie.Z)(function*(c,r){const a=C(c);r?(a.Fr.delete(2),yield d0(a)):r||(a.Fr.add(2),yield Gc(a),a.Br.set("Unknown"))})).apply(this,arguments)}function $4(c){return c.qr||(c.qr=function(r,a,u){const h=C(r);return h.Pr(),new k3(a,h.Hi,h.credentials,h.R,u)}(c.datastore,c.asyncQueue,{Ii:uu.bind(null,c),Ri:O7.bind(null,c),_r:fu.bind(null,c)}),c.Mr.push(function(){var r=(0,Ie.Z)(function*(a){a?(c.qr.sr(),F3(c)?Wc(c):c.Br.set("Unknown")):(yield c.qr.stop(),m0(c))});return function(a){return r.apply(this,arguments)}}())),c.qr}function Mo(c){return c.Kr||(c.Kr=function(r,a,u){const h=C(r);return h.Pr(),new s9(a,h.Hi,h.credentials,h.R,u)}(c.datastore,c.asyncQueue,{Ii:U4.bind(null,c),Ri:G3.bind(null,c),Ir:B4.bind(null,c),Tr:du.bind(null,c)}),c.Mr.push(function(){var r=(0,Ie.Z)(function*(a){a?(c.Kr.sr(),yield Ba(c)):(yield c.Kr.stop(),c.$r.length>0&&(ft("RemoteStore",`Stopping write stream with ${c.$r.length} pending writes`),c.$r=[]))});return function(a){return r.apply(this,arguments)}}())),c.Kr}class pu{constructor(r,a,u,h,g){this.asyncQueue=r,this.timerId=a,this.targetTimeMs=u,this.op=h,this.removalCallback=g,this.deferred=new h2,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(w=>{})}static createAndSchedule(r,a,u,h,g){const w=Date.now()+u,V=new pu(r,a,w,h,g);return V.start(u),V}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(Ge.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ga(c,r){if(z1("AsyncQueue",`${r}: ${c}`),Oa(c))return new st(Ge.UNAVAILABLE,`${r}: ${c}`);throw c}class Wa{constructor(r){this.comparator=r?(a,u)=>r(a,u)||Ft.comparator(a.key,u.key):(a,u)=>Ft.comparator(a.key,u.key),this.keyedMap=tt(),this.sortedSet=new dr(this.comparator)}static emptySet(r){return new Wa(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const a=this.keyedMap.get(r);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((a,u)=>(r(a),!1))}add(r){const a=this.delete(r.key);return a.copy(a.keyedMap.insert(r.key,r),a.sortedSet.insert(r,null))}delete(r){const a=this.get(r);return a?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(a)):this}isEqual(r){if(!(r instanceof Wa)||this.size!==r.size)return!1;const a=this.sortedSet.getIterator(),u=r.sortedSet.getIterator();for(;a.hasNext();){const h=a.getNext().key,g=u.getNext().key;if(!h.isEqual(g))return!1}return!0}toString(){const r=[];return this.forEach(a=>{r.push(a.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,a){const u=new Wa;return u.comparator=this.comparator,u.keyedMap=r,u.sortedSet=a,u}}class mu{constructor(){this.jr=new dr(Ft.comparator)}track(r){const a=r.doc.key,u=this.jr.get(a);u?0!==r.type&&3===u.type?this.jr=this.jr.insert(a,r):3===r.type&&1!==u.type?this.jr=this.jr.insert(a,{type:u.type,doc:r.doc}):2===r.type&&2===u.type?this.jr=this.jr.insert(a,{type:2,doc:r.doc}):2===r.type&&0===u.type?this.jr=this.jr.insert(a,{type:0,doc:r.doc}):1===r.type&&0===u.type?this.jr=this.jr.remove(a):1===r.type&&2===u.type?this.jr=this.jr.insert(a,{type:1,doc:u.doc}):0===r.type&&1===u.type?this.jr=this.jr.insert(a,{type:2,doc:r.doc}):zt():this.jr=this.jr.insert(a,r)}Qr(){const r=[];return this.jr.inorderTraversal((a,u)=>{r.push(u)}),r}}class qa{constructor(r,a,u,h,g,w,V,B){this.query=r,this.docs=a,this.oldDocs=u,this.docChanges=h,this.mutatedKeys=g,this.fromCache=w,this.syncStateChanged=V,this.excludesMetadataChanges=B}static fromInitialDocuments(r,a,u,h){const g=[];return a.forEach(w=>{g.push({type:0,doc:w})}),new qa(r,a,Wa.emptySet(a),g,u,h,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&ho(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const a=this.docChanges,u=r.docChanges;if(a.length!==u.length)return!1;for(let h=0;h<a.length;h++)if(a[h].type!==u[h].type||!a[h].doc.isEqual(u[h].doc))return!1;return!0}}class H7{constructor(){this.Wr=void 0,this.listeners=[]}}class F7{constructor(){this.queries=new $i(r=>$o(r),ho),this.onlineState="Unknown",this.Gr=new Set}}function H2(c,r){return W3.apply(this,arguments)}function W3(){return(W3=(0,Ie.Z)(function*(c,r){const a=C(c),u=r.query;let h=!1,g=a.queries.get(u);if(g||(h=!0,g=new H7),h)try{g.Wr=yield a.onListen(u)}catch(w){const V=Ga(w,`Initialization of query '${Zs(r.query)}' failed`);return void r.onError(V)}a.queries.set(u,g),g.listeners.push(r),r.zr(a.onlineState),g.Wr&&r.Hr(g.Wr)&&yu(a)})).apply(this,arguments)}function q3(c,r){return gu.apply(this,arguments)}function gu(){return(gu=(0,Ie.Z)(function*(c,r){const a=C(c),u=r.query;let h=!1;const g=a.queries.get(u);if(g){const w=g.listeners.indexOf(r);w>=0&&(g.listeners.splice(w,1),h=0===g.listeners.length)}if(h)return a.queries.delete(u),a.onUnlisten(u)})).apply(this,arguments)}function l9(c,r){const a=C(c);let u=!1;for(const h of r){const w=a.queries.get(h.query);if(w){for(const V of w.listeners)V.Hr(h)&&(u=!0);w.Wr=h}}u&&yu(a)}function vu(c,r,a){const u=C(c),h=u.queries.get(r);if(h)for(const g of h.listeners)g.onError(a);u.queries.delete(r)}function yu(c){c.Gr.forEach(r=>{r.next()})}class Z3{constructor(r,a,u){this.query=r,this.Jr=a,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=u||{}}Hr(r){if(!this.options.includeMetadataChanges){const u=[];for(const h of r.docChanges)3!==h.type&&u.push(h);r=new qa(r.query,r.docs,r.oldDocs,u,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let a=!1;return this.Yr?this.Zr(r)&&(this.Jr.next(r),a=!0):this.eo(r,this.onlineState)&&(this.no(r),a=!0),this.Xr=r,a}onError(r){this.Jr.error(r)}zr(r){this.onlineState=r;let a=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,r)&&(this.no(this.Xr),a=!0),a}eo(r,a){return!r.fromCache||!(this.options.so&&"Offline"!==a||r.docs.isEmpty()&&"Offline"!==a)}Zr(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.Xr&&this.Xr.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}no(r){r=qa.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.Yr=!0,this.Jr.next(r)}}class K3{constructor(r,a){this.payload=r,this.byteLength=a}io(){return"metadata"in this.payload}}class Y3{constructor(r){this.R=r}Un(r){return ji(this.R,r)}qn(r){return r.metadata.exists?Nl(this.R,r.document,!1):S1.newNoDocument(this.Un(r.metadata.name),this.Kn(r.metadata.readTime))}Kn(r){return Qr(r)}}class U7{constructor(r,a,u){this.ro=r,this.localStore=a,this.R=u,this.queries=[],this.documents=[],this.progress=_u(r)}oo(r){this.progress.bytesLoaded+=r.byteLength;let a=this.progress.documentsLoaded;return r.payload.namedQuery?this.queries.push(r.payload.namedQuery):r.payload.documentMetadata?(this.documents.push({metadata:r.payload.documentMetadata}),r.payload.documentMetadata.exists||++a):r.payload.document&&(this.documents[this.documents.length-1].document=r.payload.document,++a),a!==this.progress.documentsLoaded?(this.progress.documentsLoaded=a,Object.assign({},this.progress)):null}co(r){const a=new Map,u=new Y3(this.R);for(const h of r)if(h.metadata.queries){const g=u.Un(h.metadata.name);for(const w of h.metadata.queries){const V=(a.get(w)||on()).add(g);a.set(w,V)}}return a}complete(){var r=this;return(0,Ie.Z)(function*(){const a=yield function(c,r,a,u){return z3.apply(this,arguments)}(r.localStore,new Y3(r.R),r.documents,r.ro.id),u=r.co(r.documents);for(const h of r.queries)yield z7(r.localStore,h,u.get(h.name));return r.progress.taskState="Success",new S3(Object.assign({},r.progress),a)})()}}function _u(c){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:c.totalDocuments,totalBytes:c.totalBytes}}class Cu{constructor(r){this.key=r}}class Q3{constructor(r){this.key=r}}class bu{constructor(r,a){this.query=r,this.uo=a,this.ao=null,this.current=!1,this.ho=on(),this.mutatedKeys=on(),this.lo=R1(r),this.fo=new Wa(this.lo)}get wo(){return this.uo}_o(r,a){const u=a?a.mo:new mu,h=a?a.fo:this.fo;let g=a?a.mutatedKeys:this.mutatedKeys,w=h,V=!1;const B=Gs(this.query)&&h.size===this.query.limit?h.last():null,X=Ws(this.query)&&h.size===this.query.limit?h.first():null;if(r.inorderTraversal((oe,Ee)=>{const Ze=h.get(oe),Ke=Aa(this.query,Ee)?Ee:null,gt=!!Ze&&this.mutatedKeys.has(Ze.key),Gt=!!Ke&&(Ke.hasLocalMutations||this.mutatedKeys.has(Ke.key)&&Ke.hasCommittedMutations);let _n=!1;Ze&&Ke?Ze.data.isEqual(Ke.data)?gt!==Gt&&(u.track({type:3,doc:Ke}),_n=!0):this.yo(Ze,Ke)||(u.track({type:2,doc:Ke}),_n=!0,(B&&this.lo(Ke,B)>0||X&&this.lo(Ke,X)<0)&&(V=!0)):!Ze&&Ke?(u.track({type:0,doc:Ke}),_n=!0):Ze&&!Ke&&(u.track({type:1,doc:Ze}),_n=!0,(B||X)&&(V=!0)),_n&&(Ke?(w=w.add(Ke),g=Gt?g.add(oe):g.delete(oe)):(w=w.delete(oe),g=g.delete(oe)))}),Gs(this.query)||Ws(this.query))for(;w.size>this.query.limit;){const oe=Gs(this.query)?w.last():w.first();w=w.delete(oe.key),g=g.delete(oe.key),u.track({type:1,doc:oe})}return{fo:w,mo:u,Nn:V,mutatedKeys:g}}yo(r,a){return r.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(r,a,u){const h=this.fo;this.fo=r.fo,this.mutatedKeys=r.mutatedKeys;const g=r.mo.Qr();g.sort((X,oe)=>function(Ee,Ze){const Ke=gt=>{switch(gt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt()}};return Ke(Ee)-Ke(Ze)}(X.type,oe.type)||this.lo(X.doc,oe.doc)),this.po(u);const w=a?this.Eo():[],V=0===this.ho.size&&this.current?1:0,B=V!==this.ao;return this.ao=V,0!==g.length||B?{snapshot:new qa(this.query,r.fo,h,g,r.mutatedKeys,0===V,B,!1),To:w}:{To:w}}zr(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({fo:this.fo,mo:new mu,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}}Io(r){return!this.uo.has(r)&&!!this.fo.has(r)&&!this.fo.get(r).hasLocalMutations}po(r){r&&(r.addedDocuments.forEach(a=>this.uo=this.uo.add(a)),r.modifiedDocuments.forEach(a=>{}),r.removedDocuments.forEach(a=>this.uo=this.uo.delete(a)),this.current=r.current)}Eo(){if(!this.current)return[];const r=this.ho;this.ho=on(),this.fo.forEach(u=>{this.Io(u.key)&&(this.ho=this.ho.add(u.key))});const a=[];return r.forEach(u=>{this.ho.has(u)||a.push(new Q3(u))}),this.ho.forEach(u=>{r.has(u)||a.push(new Cu(u))}),a}Ao(r){this.uo=r.Bn,this.ho=on();const a=this._o(r.documents);return this.applyChanges(a,!0)}Ro(){return qa.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)}}class wu{constructor(r,a,u){this.query=r,this.targetId=a,this.view=u}}class B7{constructor(r){this.key=r,this.Po=!1}}class j7{constructor(r,a,u,h,g,w){this.localStore=r,this.remoteStore=a,this.eventManager=u,this.sharedClientState=h,this.currentUser=g,this.maxConcurrentLimboResolutions=w,this.bo={},this.vo=new $i(V=>$o(V),ho),this.Vo=new Map,this.So=new Set,this.Do=new dr(Ft.comparator),this.Co=new Map,this.No=new R3,this.xo={},this.ko=new Map,this.$o=Ha.Yt(),this.onlineState="Unknown",this.Oo=void 0}get isPrimaryClient(){return!0===this.Oo}}function Eu(c,r){return _0.apply(this,arguments)}function _0(){return(_0=(0,Ie.Z)(function*(c,r){const a=a8(c);let u,h;const g=a.vo.get(r);if(g)u=g.targetId,a.sharedClientState.addLocalQueryTarget(u),h=g.view.Ro();else{const w=yield O4(a.localStore,P2(r)),V=a.sharedClientState.addLocalQueryTarget(w.targetId);u=w.targetId,h=yield J3(a,r,u,"current"===V),a.isPrimaryClient&&H3(a.remoteStore,w)}return h})).apply(this,arguments)}function J3(c,r,a,u){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,Ie.Z)(function*(c,r,a,u){c.Fo=(oe,Ee,Ze)=>{return(Ke=(0,Ie.Z)(function*(gt,Gt,_n,br){let Ns=Gt.view._o(_n);Ns.Nn&&(Ns=yield o0(gt.localStore,Gt.query,!1).then(({documents:G0})=>Gt.view._o(G0,Ns)));const uc=br&&br.targetChanges.get(Gt.targetId),fc=Gt.view.applyChanges(Ns,gt.isPrimaryClient,uc);return t6(gt,Gt.targetId,fc.To),fc.snapshot}),function(gt,Gt,_n,br){return Ke.apply(this,arguments)})(c,oe,Ee,Ze);var Ke};const h=yield o0(c.localStore,r,!0),g=new bu(r,h.Bn),w=g._o(h.documents),V=qo.createSynthesizedTargetChangeForCurrentChange(a,u&&"Offline"!==c.onlineState),B=g.applyChanges(w,c.isPrimaryClient,V);t6(c,a,B.To);const X=new wu(r,a,g);return c.vo.set(r,X),c.Vo.has(a)?c.Vo.get(a).push(r):c.Vo.set(a,[r]),B.snapshot})).apply(this,arguments)}function X3(c,r){return e8.apply(this,arguments)}function e8(){return(e8=(0,Ie.Z)(function*(c,r){const a=C(c),u=a.vo.get(r),h=a.Vo.get(u.targetId);if(h.length>1)return a.Vo.set(u.targetId,h.filter(g=>!ho(g,r))),void a.vo.delete(r);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||(yield Ua(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),p0(a.remoteStore,u.targetId),G4(a,u.targetId)}).catch(na))):(G4(a,u.targetId),yield Ua(a.localStore,u.targetId,!0))})).apply(this,arguments)}function Mu(){return(Mu=(0,Ie.Z)(function*(c,r,a){const u=c8(c);try{const h=yield function(g,w){const V=C(g),B=pe.now(),X=w.reduce((Ee,Ze)=>Ee.add(Ze.key),on());let oe;return V.persistence.runTransaction("Locally write mutations","readwrite",Ee=>V.Mn.pn(Ee,X).next(Ze=>{oe=Ze;const Ke=[];for(const gt of w){const Gt=wc(gt,oe.get(gt.key));null!=Gt&&Ke.push(new Ys(gt.key,Gt,vc(Gt.value.mapValue),m1.exists(!0)))}return V._n.addMutationBatch(Ee,B,Ke,w)})).then(Ee=>(Ee.applyToLocalDocumentSet(oe),{batchId:Ee.batchId,changes:oe}))}(u.localStore,r);u.sharedClientState.addPendingMutation(h.batchId),function(g,w,V){let B=g.xo[g.currentUser.toKey()];B||(B=new dr(k)),B=B.insert(w,V),g.xo[g.currentUser.toKey()]=B}(u,h.batchId,a),yield eo(u,h.changes),yield Ba(u.remoteStore)}catch(h){const g=Ga(h,"Failed to persist write");a.reject(g)}})).apply(this,arguments)}function t8(c,r){return n8.apply(this,arguments)}function n8(){return(n8=(0,Ie.Z)(function*(c,r){const a=C(c);try{const u=yield Yl(a.localStore,r);r.targetChanges.forEach((h,g)=>{const w=a.Co.get(g);w&&(A(h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size<=1),h.addedDocuments.size>0?w.Po=!0:h.modifiedDocuments.size>0?A(w.Po):h.removedDocuments.size>0&&(A(w.Po),w.Po=!1))}),yield eo(a,u,r)}catch(u){yield na(u)}})).apply(this,arguments)}function Iu(c,r,a){const u=C(c);if(u.isPrimaryClient&&0===a||!u.isPrimaryClient&&1===a){const h=[];u.vo.forEach((g,w)=>{const V=w.view.zr(r);V.snapshot&&h.push(V.snapshot)}),function(g,w){const V=C(g);V.onlineState=w;let B=!1;V.queries.forEach((X,oe)=>{for(const Ee of oe.listeners)Ee.zr(w)&&(B=!0)}),B&&yu(V)}(u.eventManager,r),h.length&&u.bo._r(h),u.onlineState=r,u.isPrimaryClient&&u.sharedClientState.setOnlineState(r)}}function G7(c,r,a){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,Ie.Z)(function*(c,r,a){const u=C(c);u.sharedClientState.updateQueryState(r,"rejected",a);const h=u.Co.get(r),g=h&&h.key;if(g){let w=new dr(Ft.comparator);w=w.insert(g,S1.newNoDocument(g,Re.min()));const V=on().add(g),B=new ys(Re.min(),new Map,new v(k),w,V);yield t8(u,B),u.Do=u.Do.remove(g),u.Co.delete(r),i8(u)}else yield Ua(u.localStore,r,!1).then(()=>G4(u,r,a)).catch(na)})).apply(this,arguments)}function W7(c,r){return r8.apply(this,arguments)}function r8(){return(r8=(0,Ie.Z)(function*(c,r){const a=C(c),u=r.batch.batchId;try{const h=yield Kl(a.localStore,r);b0(a,u,null),e6(a,u),a.sharedClientState.updateMutationState(u,"acknowledged"),yield eo(a,h)}catch(h){yield na(h)}})).apply(this,arguments)}function C0(c,r,a){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,Ie.Z)(function*(c,r,a){const u=C(c);try{const h=yield function(g,w){const V=C(g);return V.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let X;return V._n.lookupMutationBatch(B,w).next(oe=>(A(null!==oe),X=oe.keys(),V._n.removeMutationBatch(B,oe))).next(()=>V._n.performConsistencyCheck(B)).next(()=>V.Mn.pn(B,X))})}(u.localStore,r);b0(u,r,a),e6(u,r),u.sharedClientState.updateMutationState(r,"rejected",a),yield eo(u,h)}catch(h){yield na(h)}})).apply(this,arguments)}function Xc(){return(Xc=(0,Ie.Z)(function*(c,r){const a=C(c);Eo(a.remoteStore)||ft("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const u=yield function(g){const w=C(g);return w.persistence.runTransaction("Get highest unacknowledged batch id","readonly",V=>w._n.getHighestUnacknowledgedBatchId(V))}(a.localStore);if(-1===u)return void r.resolve();const h=a.ko.get(u)||[];h.push(r),a.ko.set(u,h)}catch(u){const h=Ga(u,"Initialization of waitForPendingWrites() operation failed");r.reject(h)}})).apply(this,arguments)}function e6(c,r){(c.ko.get(r)||[]).forEach(a=>{a.resolve()}),c.ko.delete(r)}function b0(c,r,a){const u=C(c);let h=u.xo[u.currentUser.toKey()];if(h){const g=h.get(r);g&&(a?g.reject(a):g.resolve(),h=h.remove(r)),u.xo[u.currentUser.toKey()]=h}}function G4(c,r,a=null){c.sharedClientState.removeLocalQueryTarget(r);for(const u of c.Vo.get(r))c.vo.delete(u),a&&c.bo.Mo(u,a);c.Vo.delete(r),c.isPrimaryClient&&c.No.Zn(r).forEach(u=>{c.No.containsKey(u)||Au(c,u)})}function Au(c,r){c.So.delete(r.path.canonicalString());const a=c.Do.get(r);null!==a&&(p0(c.remoteStore,a),c.Do=c.Do.remove(r),c.Co.delete(a),i8(c))}function t6(c,r,a){for(const u of a)u instanceof Cu?(c.No.addReference(u.key,r),u9(c,u)):u instanceof Q3?(ft("SyncEngine","Document no longer in limbo: "+u.key),c.No.removeReference(u.key,r),c.No.containsKey(u.key)||Au(c,u.key)):zt()}function u9(c,r){const a=r.key,u=a.path.canonicalString();c.Do.get(a)||c.So.has(u)||(ft("SyncEngine","New document in limbo: "+a),c.So.add(u),i8(c))}function i8(c){for(;c.So.size>0&&c.Do.size<c.maxConcurrentLimboResolutions;){const r=c.So.values().next().value;c.So.delete(r);const a=new Ft(Dt.fromString(r)),u=c.$o.next();c.Co.set(u,new B7(a)),c.Do=c.Do.insert(a,u),H3(c.remoteStore,new Co(P2(fo(a.path)),u,2,Cr.o))}}function eo(c,r,a){return w0.apply(this,arguments)}function w0(){return(w0=(0,Ie.Z)(function*(c,r,a){const u=C(c),h=[],g=[],w=[];var V;u.vo.isEmpty()||(u.vo.forEach((V,B)=>{w.push(u.Fo(B,r,a).then(X=>{if(X){u.isPrimaryClient&&u.sharedClientState.updateQueryState(B.targetId,X.fromCache?"not-current":"current"),h.push(X);const oe=Bc.vn(B.targetId,X);g.push(oe)}}))}),yield Promise.all(w),u.bo._r(h),yield(V=(0,Ie.Z)(function*(B,X){const oe=C(B);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ee=>rt.forEach(X,Ze=>rt.forEach(Ze.Pn,Ke=>oe.persistence.referenceDelegate.addReference(Ee,Ze.targetId,Ke)).next(()=>rt.forEach(Ze.bn,Ke=>oe.persistence.referenceDelegate.removeReference(Ee,Ze.targetId,Ke)))))}catch(Ee){if(!Oa(Ee))throw Ee;ft("LocalStore","Failed to update sequence numbers: "+Ee)}for(const Ee of X){const Ze=Ee.targetId;if(!Ee.fromCache){const Ke=oe.kn.get(Ze),Gt=Ke.withLastLimboFreeSnapshotVersion(Ke.snapshotVersion);oe.kn=oe.kn.insert(Ze,Gt)}}}),function(B,X){return V.apply(this,arguments)})(u.localStore,g))})).apply(this,arguments)}function Su(c,r){return E0.apply(this,arguments)}function E0(){return(E0=(0,Ie.Z)(function*(c,r){const a=C(c);if(!a.currentUser.isEqual(r)){ft("SyncEngine","User change. New user:",r.toKey());const u=yield Zl(a.localStore,r);a.currentUser=r,(h=a).ko.forEach(w=>{w.forEach(V=>{V.reject(new st(Ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),h.ko.clear(),a.sharedClientState.handleUserChange(r,u.removedBatchIds,u.addedBatchIds),yield eo(a,u.Ln)}var h})).apply(this,arguments)}function xu(c,r){const a=C(c),u=a.Co.get(r);if(u&&u.Po)return on().add(u.key);{let h=on();const g=a.Vo.get(r);if(!g)return h;for(const w of g){const V=a.vo.get(w);h=h.unionWith(V.view.wo)}return h}}function Io(c,r){return W4.apply(this,arguments)}function W4(){return(W4=(0,Ie.Z)(function*(c,r){const a=C(c),u=yield o0(a.localStore,r.query,!0),h=r.view.Ao(u);return a.isPrimaryClient&&t6(a,r.targetId,h.To),h})).apply(this,arguments)}function Z7(c){return s8.apply(this,arguments)}function s8(){return(s8=(0,Ie.Z)(function*(c){const r=C(c);return Jl(r.localStore).then(a=>eo(r,a))})).apply(this,arguments)}function f9(c,r,a,u){return sa.apply(this,arguments)}function sa(){return(sa=(0,Ie.Z)(function*(c,r,a,u){const h=C(c),g=yield function(w,V){const B=C(w),X=C(B._n);return B.persistence.runTransaction("Lookup mutation documents","readonly",oe=>X.Qt(oe,V).next(Ee=>Ee?B.Mn.pn(oe,Ee):rt.resolve(null)))}(h.localStore,r);var V;null!==g?("pending"===a?yield Ba(h.remoteStore):"acknowledged"===a||"rejected"===a?(b0(h,r,u||null),e6(h,r),V=r,C(C(h.localStore)._n).Gt(V)):zt(),yield eo(h,g)):ft("SyncEngine","Cannot apply mutation batch with id: "+r)})).apply(this,arguments)}function Za(){return(Za=(0,Ie.Z)(function*(c,r){const a=C(c);if(a8(a),c8(a),!0===r&&!0!==a.Oo){const u=a.sharedClientState.getAllActiveQueryTargets(),h=yield q4(a,u.toArray());a.Oo=!0,yield y0(a.remoteStore,!0);for(const g of h)H3(a.remoteStore,g)}else if(!1===r&&!1!==a.Oo){const u=[];let h=Promise.resolve();a.Vo.forEach((g,w)=>{a.sharedClientState.isLocalQueryTarget(w)?u.push(w):h=h.then(()=>(G4(a,w),Ua(a.localStore,w,!0))),p0(a.remoteStore,w)}),yield h,yield q4(a,u),function(g){const w=C(g);w.Co.forEach((V,B)=>{p0(w.remoteStore,B)}),w.No.ts(),w.Co=new Map,w.Do=new dr(Ft.comparator)}(a),a.Oo=!1,yield y0(a.remoteStore,!1)}})).apply(this,arguments)}function q4(c,r,a){return o8.apply(this,arguments)}function o8(){return(o8=(0,Ie.Z)(function*(c,r,a){const u=C(c),h=[],g=[];for(const w of r){let V;const B=u.Vo.get(w);if(B&&0!==B.length){V=yield O4(u.localStore,P2(B[0]));for(const X of B){const oe=u.vo.get(X),Ee=yield Io(u,oe);Ee.snapshot&&g.push(Ee.snapshot)}}else{const X=yield Gi(u.localStore,w);V=yield O4(u.localStore,X),yield J3(u,M0(X),w,!1)}h.push(V)}return u.bo._r(g),h})).apply(this,arguments)}function M0(c){return Ia(c.path,c.collectionGroup,c.orderBy,c.filters,c.limit,"F",c.startAt,c.endAt)}function Du(c){const r=C(c);return C(C(r.localStore).persistence).fn()}function K7(c,r,a,u){return I0.apply(this,arguments)}function I0(){return(I0=(0,Ie.Z)(function*(c,r,a,u){const h=C(c);if(h.Oo)ft("SyncEngine","Ignoring unexpected query state notification.");else if(h.Vo.has(r))switch(a){case"current":case"not-current":{const g=yield Jl(h.localStore),w=ys.createSynthesizedRemoteEventForCurrentChange(r,"current"===a);yield eo(h,g,w);break}case"rejected":yield Ua(h.localStore,r,!0),G4(h,r,u);break;default:zt()}})).apply(this,arguments)}function Y7(c,r,a){return n6.apply(this,arguments)}function n6(){return(n6=(0,Ie.Z)(function*(c,r,a){const u=a8(c);if(u.Oo){for(const h of r){if(u.Vo.has(h)){ft("SyncEngine","Adding an already active target "+h);continue}const g=yield Gi(u.localStore,h),w=yield O4(u.localStore,g);yield J3(u,M0(g),w.targetId,!1),H3(u.remoteStore,w)}for(const h of a)u.Vo.has(h)&&(yield Ua(u.localStore,h,!1).then(()=>{p0(u.remoteStore,h),G4(u,h)}).catch(na))}})).apply(this,arguments)}function a8(c){const r=C(c);return r.remoteStore.remoteSyncer.applyRemoteEvent=t8.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=xu.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=G7.bind(null,r),r.bo._r=l9.bind(null,r.eventManager),r.bo.Mo=vu.bind(null,r.eventManager),r}function c8(c){const r=C(c);return r.remoteStore.remoteSyncer.applySuccessfulWrite=W7.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=C0.bind(null,r),r}class Ka{constructor(){this.synchronizeTabs=!1}initialize(r){var a=this;return(0,Ie.Z)(function*(){a.R=F4(r.databaseInfo.databaseId),a.sharedClientState=a.Bo(r),a.persistence=a.Uo(r),yield a.persistence.start(),a.gcScheduler=a.qo(r),a.localStore=a.Ko(r)})()}qo(r){return null}Ko(r){return T3(this.persistence,new P4,r.initialUser,this.R)}Uo(r){return new Ms(V3.Ps,this.R)}Bo(r){return new $c}terminate(){var r=this;return(0,Ie.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class l8 extends Ka{constructor(r,a,u){super(),this.jo=r,this.cacheSizeBytes=a,this.forceOwnership=u,this.synchronizeTabs=!1}initialize(r){var a=()=>super.initialize,u=this;return(0,Ie.Z)(function*(){yield a().call(u,r),yield function(c){return L3.apply(this,arguments)}(u.localStore),yield u.jo.initialize(u,r),yield c8(u.jo.syncEngine),yield Ba(u.jo.remoteStore)})()}Ko(r){return T3(this.persistence,new P4,r.initialUser,this.R)}qo(r){return new S7(this.persistence.referenceDelegate.garbageCollector,r.asyncQueue)}Uo(r){const a=r0(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey),u=void 0!==this.cacheSizeBytes?k2.withCacheSize(this.cacheSizeBytes):k2.DEFAULT;return new n0(this.synchronizeTabs,a,r.clientId,u,r.asyncQueue,su(),O3(),this.R,this.sharedClientState,!!this.forceOwnership)}Bo(r){return new $c}}class Q7 extends l8{constructor(r,a){super(r,a,!1),this.jo=r,this.cacheSizeBytes=a,this.synchronizeTabs=!0}initialize(r){var a=()=>super.initialize,u=this;return(0,Ie.Z)(function*(){yield a().call(u,r);const h=u.jo.syncEngine;u.sharedClientState instanceof H4&&(u.sharedClientState.syncEngine={ui:f9.bind(null,h),ai:K7.bind(null,h),hi:Y7.bind(null,h),fn:Du.bind(null,h),ci:Z7.bind(null,h)},yield u.sharedClientState.start()),yield u.persistence.He(function(){var g=(0,Ie.Z)(function*(w){yield function(c,r){return Za.apply(this,arguments)}(u.jo.syncEngine,w),u.gcScheduler&&(w&&!u.gcScheduler.started?u.gcScheduler.start(u.localStore):w||u.gcScheduler.stop())});return function(w){return g.apply(this,arguments)}}())})()}Bo(r){const a=su();if(!H4.gt(a))throw new st(Ge.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const u=r0(r.databaseInfo.databaseId,r.databaseInfo.persistenceKey);return new H4(a,r.asyncQueue,u,r.clientId,r.initialUser)}}class u8{initialize(r,a){var u=this;return(0,Ie.Z)(function*(){u.localStore||(u.localStore=r.localStore,u.sharedClientState=r.sharedClientState,u.datastore=u.createDatastore(a),u.remoteStore=u.createRemoteStore(a),u.eventManager=u.createEventManager(a),u.syncEngine=u.createSyncEngine(a,!r.synchronizeTabs),u.sharedClientState.onlineStateHandler=h=>Iu(u.syncEngine,h,1),u.remoteStore.remoteSyncer.handleCredentialChange=Su.bind(null,u.syncEngine),yield y0(u.remoteStore,u.syncEngine.isPrimaryClient))})()}createEventManager(r){return new F7}createDatastore(r){const a=F4(r.databaseInfo.databaseId),u=new i9(r.databaseInfo);return new o9(r.credentials,u,a)}createRemoteStore(r){return a=this.localStore,u=this.datastore,h=r.asyncQueue,g=V=>Iu(this.syncEngine,V,0),w=V7.gt()?new V7:new P3,new c9(a,u,h,g,w);var a,u,h,g,w}createSyncEngine(r,a){return function(u,h,g,w,V,B,X){const oe=new j7(u,h,g,w,V,B);return X&&(oe.Oo=!0),oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,a)}terminate(){return(r=(0,Ie.Z)(function*(a){const u=C(a);ft("RemoteStore","RemoteStore shutting down."),u.Fr.add(5),yield Gc(u),u.Lr.shutdown(),u.Br.set("Unknown")}),function(a){return r.apply(this,arguments)})(this.remoteStore);var r}}function Ya(c,r=10240){let a=0;return{read:()=>(0,Ie.Z)(function*(){if(a<c.byteLength){const u={value:c.slice(a,a+r),done:!1};return a+=r,u}return{done:!0}})(),cancel:()=>(0,Ie.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class A0{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.Qo(this.observer.next,r)}error(r){this.observer.error?this.Qo(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}Wo(){this.muted=!0}Qo(r,a){this.muted||setTimeout(()=>{this.muted||r(a)},0)}}class J7{constructor(r,a){this.Go=r,this.R=a,this.metadata=new h2,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then(u=>{u&&u.io()?this.metadata.resolve(u.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==u?void 0:u.payload)}`))},u=>this.metadata.reject(u))}close(){return this.Go.cancel()}getMetadata(){var r=this;return(0,Ie.Z)(function*(){return r.metadata.promise})()}Lo(){var r=this;return(0,Ie.Z)(function*(){return yield r.getMetadata(),r.Ho()})()}Ho(){var r=this;return(0,Ie.Z)(function*(){const a=yield r.Jo();if(null===a)return null;const u=r.zo.decode(a),h=Number(u);isNaN(h)&&r.Yo(`length string (${u}) is not valid number`);const g=yield r.Xo(h);return new K3(JSON.parse(g),a.length+h)})()}Zo(){return this.buffer.findIndex(r=>r==="{".charCodeAt(0))}Jo(){var r=this;return(0,Ie.Z)(function*(){for(;r.Zo()<0&&!(yield r.tc()););if(0===r.buffer.length)return null;const a=r.Zo();a<0&&r.Yo("Reached the end of bundle when a length string is expected.");const u=r.buffer.slice(0,a);return r.buffer=r.buffer.slice(a),u})()}Xo(r){var a=this;return(0,Ie.Z)(function*(){for(;a.buffer.length<r;)(yield a.tc())&&a.Yo("Reached the end of bundle when more is expected.");const u=a.zo.decode(a.buffer.slice(0,r));return a.buffer=a.buffer.slice(r),u})()}Yo(r){throw this.Go.cancel(),new Error(`Invalid bundle format: ${r}`)}tc(){var r=this;return(0,Ie.Z)(function*(){const a=yield r.Go.read();if(!a.done){const u=new Uint8Array(r.buffer.length+a.value.length);u.set(r.buffer),u.set(a.value,r.buffer.length),r.buffer=u}return a.done})()}}class X7{constructor(r){this.datastore=r,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(r){var a=this;return(0,Ie.Z)(function*(){if(a.ensureCommitNotCalled(),a.mutations.length>0)throw new st(Ge.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const u=yield(h=(0,Ie.Z)(function*(g,w){const V=C(g),B=N4(V.R)+"/documents",X={documents:w.map(Ke=>Ra(V.R,Ke))},oe=yield V.Oi("BatchGetDocuments",B,X),Ee=new Map;oe.forEach(Ke=>{const gt=function(c,r){return"found"in r?function(a,u){A(!!u.found);const h=ji(a,u.found.name),g=Qr(u.found.updateTime),w=new hr({mapValue:{fields:u.found.fields}});return S1.newFoundDocument(h,g,w)}(c,r):"missing"in r?function(a,u){A(!!u.missing),A(!!u.readTime);const h=ji(a,u.missing),g=Qr(u.readTime);return S1.newNoDocument(h,g)}(c,r):zt()}(V.R,Ke);Ee.set(gt.key.toString(),gt)});const Ze=[];return w.forEach(Ke=>{const gt=Ee.get(Ke.toString());A(!!gt),Ze.push(gt)}),Ze}),function(g,w){return h.apply(this,arguments)})(a.datastore,r);var h;return u.forEach(h=>a.recordVersion(h)),u})()}set(r,a){this.write(a.toMutation(r,this.precondition(r))),this.writtenDocs.add(r.toString())}update(r,a){try{this.write(a.toMutation(r,this.preconditionForUpdate(r)))}catch(u){this.lastWriteError=u}this.writtenDocs.add(r.toString())}delete(r){this.write(new vo(r,this.precondition(r))),this.writtenDocs.add(r.toString())}commit(){var r=this;return(0,Ie.Z)(function*(){if(r.ensureCommitNotCalled(),r.lastWriteError)throw r.lastWriteError;const a=r.readVersions;var u;r.mutations.forEach(u=>{a.delete(u.key.toString())}),a.forEach((u,h)=>{const g=Ft.fromPath(h);r.mutations.push(new Ec(g,r.precondition(g)))}),yield(u=(0,Ie.Z)(function*(h,g){const w=C(h),V=N4(w.R)+"/documents",B={writes:g.map(X=>Va(w.R,X))};yield w.Ni("Commit",V,B)}),function(h,g){return u.apply(this,arguments)})(r.datastore,r.mutations),r.committed=!0})()}recordVersion(r){let a;if(r.isFoundDocument())a=r.version;else{if(!r.isNoDocument())throw zt();a=Re.min()}const u=this.readVersions.get(r.key.toString());if(u){if(!a.isEqual(u))throw new st(Ge.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(r.key.toString(),a)}precondition(r){const a=this.readVersions.get(r.toString());return!this.writtenDocs.has(r.toString())&&a?m1.updateTime(a):m1.none()}preconditionForUpdate(r){const a=this.readVersions.get(r.toString());if(!this.writtenDocs.has(r.toString())&&a){if(a.isEqual(Re.min()))throw new st(Ge.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return m1.updateTime(a)}return m1.exists(!0)}write(r){this.ensureCommitNotCalled(),this.mutations.push(r)}ensureCommitNotCalled(){}}class ef{constructor(r,a,u,h){this.asyncQueue=r,this.datastore=a,this.updateFunction=u,this.deferred=h,this.ec=5,this.Zi=new h0(this.asyncQueue,"transaction_retry")}run(){this.ec-=1,this.nc()}nc(){var r=this;this.Zi.Qi((0,Ie.Z)(function*(){const a=new X7(r.datastore),u=r.sc(a);u&&u.then(h=>{r.asyncQueue.enqueueAndForget(()=>a.commit().then(()=>{r.deferred.resolve(h)}).catch(g=>{r.ic(g)}))}).catch(h=>{r.ic(h)})}))}sc(r){try{const a=this.updateFunction(r);return!Us(a)&&a.catch&&a.then?a:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(a){return this.deferred.reject(a),null}}ic(r){this.ec>0&&this.rc(r)?(this.ec-=1,this.asyncQueue.enqueueAndForget(()=>(this.nc(),Promise.resolve()))):this.deferred.reject(r)}rc(r){if("FirebaseError"===r.name){const a=r.code;return"aborted"===a||"failed-precondition"===a||!Na(a)}return!1}}class h9{constructor(r,a,u){var h=this;this.credentials=r,this.asyncQueue=a,this.databaseInfo=u,this.user=d2.UNAUTHENTICATED,this.clientId=R.u(),this.credentialListener=()=>Promise.resolve(),this.credentials.setChangeListener(a,function(){var g=(0,Ie.Z)(function*(w){ft("FirestoreClient","Received user=",w.uid),yield h.credentialListener(w),h.user=w});return function(w){return g.apply(this,arguments)}}())}getConfiguration(){var r=this;return(0,Ie.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,credentials:r.credentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.credentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new st(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const a=new h2;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.credentials.removeChangeListener(),a.resolve()}catch(u){const h=Ga(u,"Failed to shutdown persistence");a.reject(h)}})),a.promise}}function Lu(c,r){return S0.apply(this,arguments)}function S0(){return(S0=(0,Ie.Z)(function*(c,r){c.asyncQueue.verifyOperationInProgress(),ft("FirestoreClient","Initializing OfflineComponentProvider");const a=yield c.getConfiguration();yield r.initialize(a);let u=a.initialUser;c.setCredentialChangeListener(function(){var h=(0,Ie.Z)(function*(g){u.isEqual(g)||(yield Zl(r.localStore,g),u=g)});return function(g){return h.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>c.terminate()),c.offlineComponents=r})).apply(this,arguments)}function n1(c,r){return r6.apply(this,arguments)}function r6(){return(r6=(0,Ie.Z)(function*(c,r){c.asyncQueue.verifyOperationInProgress();const a=yield zu(c);ft("FirestoreClient","Initializing OnlineComponentProvider");const u=yield c.getConfiguration();yield r.initialize(a,u),c.setCredentialChangeListener(h=>{return(g=(0,Ie.Z)(function*(w,V){const B=C(w);B.asyncQueue.verifyOperationInProgress(),ft("RemoteStore","RemoteStore received new credentials");const X=Eo(B);B.Fr.add(3),yield Gc(B),X&&B.Br.set("Unknown"),yield B.remoteSyncer.handleCredentialChange(V),B.Fr.delete(3),yield d0(B)}),function(w,V){return g.apply(this,arguments)})(r.remoteStore,h);var g}),c.onlineComponents=r})).apply(this,arguments)}function zu(c){return As.apply(this,arguments)}function As(){return(As=(0,Ie.Z)(function*(c){return c.offlineComponents||(ft("FirestoreClient","Using default OfflineComponentProvider"),yield Lu(c,new Ka)),c.offlineComponents})).apply(this,arguments)}function Z4(c){return i6.apply(this,arguments)}function i6(){return(i6=(0,Ie.Z)(function*(c){return c.onlineComponents||(ft("FirestoreClient","Using default OnlineComponentProvider"),yield n1(c,new u8)),c.onlineComponents})).apply(this,arguments)}function tf(c){return zu(c).then(r=>r.persistence)}function f8(c){return zu(c).then(r=>r.localStore)}function Ru(c){return Z4(c).then(r=>r.remoteStore)}function x0(c){return Z4(c).then(r=>r.syncEngine)}function Qa(c){return T0.apply(this,arguments)}function T0(){return(T0=(0,Ie.Z)(function*(c){const r=yield Z4(c),a=r.eventManager;return a.onListen=Eu.bind(null,r.syncEngine),a.onUnlisten=X3.bind(null,r.syncEngine),a})).apply(this,arguments)}function K4(c,r,a={}){const u=new h2;return c.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(h,g,w,V,B){const X=new A0({next:Ee=>{g.enqueueAndForget(()=>q3(h,oe));const Ze=Ee.docs.has(w);!Ze&&Ee.fromCache?B.reject(new st(Ge.UNAVAILABLE,"Failed to get document because the client is offline.")):Ze&&Ee.fromCache&&V&&"server"===V.source?B.reject(new st(Ge.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(Ee)},error:Ee=>B.reject(Ee)}),oe=new Z3(fo(w.path),X,{includeMetadataChanges:!0,so:!0});return H2(h,oe)}(yield Qa(c),c.asyncQueue,r,a,u)})),u.promise}function d8(c,r,a={}){const u=new h2;return c.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(h,g,w,V,B){const X=new A0({next:Ee=>{g.enqueueAndForget(()=>q3(h,oe)),Ee.fromCache&&"server"===V.source?B.reject(new st(Ge.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(Ee)},error:Ee=>B.reject(Ee)}),oe=new Z3(w,X,{includeMetadataChanges:!0,so:!0});return H2(h,oe)}(yield Qa(c),c.asyncQueue,r,a,u)})),u.promise}class af{constructor(r,a,u,h,g,w,V,B){this.databaseId=r,this.appId=a,this.persistenceKey=u,this.host=h,this.ssl=g,this.forceLongPolling=w,this.autoDetectLongPolling=V,this.useFetchStreams=B}}class s6{constructor(r,a){this.projectId=r,this.database=a||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof s6&&r.projectId===this.projectId&&r.database===this.database}}const Hu=new Map;class p8{constructor(r,a){this.user=a,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${r}`}}class cf{constructor(){this.changeListener=null}getToken(){return Promise.resolve(null)}invalidateToken(){}setChangeListener(r,a){this.changeListener=a,r.enqueueRetryable(()=>a(d2.UNAUTHENTICATED))}removeChangeListener(){this.changeListener=null}}class Fu{constructor(r){this.token=r,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}setChangeListener(r,a){this.changeListener=a,r.enqueueRetryable(()=>a(this.token.user))}removeChangeListener(){this.changeListener=null}}class lf{constructor(r){this.currentUser=d2.UNAUTHENTICATED,this.oc=new h2,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=()=>{this.cc++,this.currentUser=this.ac(),this.oc.resolve(),this.changeListener&&this.asyncQueue.enqueueRetryable(()=>this.changeListener(this.currentUser))};const a=u=>{ft("FirebaseCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.uc)};r.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=r.getImmediate({optional:!0});u?a(u):(ft("FirebaseCredentialsProvider","Auth not yet detected"),this.oc.resolve())}},0)}getToken(){const r=this.cc,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(u=>this.cc!==r?(ft("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):u?(A("string"==typeof u.accessToken),new p8(u.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}setChangeListener(r,a){var u=this;this.asyncQueue=r,this.asyncQueue.enqueueRetryable((0,Ie.Z)(function*(){yield u.oc.promise,yield a(u.currentUser),u.changeListener=a}))}removeChangeListener(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=()=>Promise.resolve()}ac(){const r=this.auth&&this.auth.getUid();return A(null===r||"string"==typeof r),new d2(r)}}class uf{constructor(r,a,u){this.hc=r,this.lc=a,this.fc=u,this.type="FirstParty",this.user=d2.FIRST_PARTY}get authHeaders(){const r={"X-Goog-AuthUser":this.lc},a=this.hc.auth.getAuthHeaderValueForFirstParty([]);return a&&(r.Authorization=a),this.fc&&(r["X-Goog-Iam-Authorization-Token"]=this.fc),r}}class d9{constructor(r,a,u){this.hc=r,this.lc=a,this.fc=u}getToken(){return Promise.resolve(new uf(this.hc,this.lc,this.fc))}setChangeListener(r,a){r.enqueueRetryable(()=>a(d2.FIRST_PARTY))}removeChangeListener(){}invalidateToken(){}}function Uu(c,r,a){if(!a)throw new st(Ge.INVALID_ARGUMENT,`Function ${c}() cannot be called with an empty ${r}.`)}function D0(c){if(!Ft.isDocumentKey(c))throw new st(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${c} has ${c.length}.`)}function Bu(c){if(Ft.isDocumentKey(c))throw new st(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${c} has ${c.length}.`)}function o6(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const r=function(a){if(a.constructor){const u=/function\s+([^\s(]+)\s*\(/.exec(a.constructor.toString());if(u&&u.length>1)return u[1]}return null}(c);return r?`a custom ${r} object`:"an object"}}return"function"==typeof c?"a function":zt()}function Wn(c,r){if("_delegate"in c&&(c=c._delegate),!(c instanceof r)){if(r.name===c.constructor.name)throw new st(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=o6(c);throw new st(Ge.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${a}`)}}return c}function ff(c,r){if(r<=0)throw new st(Ge.INVALID_ARGUMENT,`Function ${c}() requires a positive number, but it was: ${r}.`)}class qi{constructor(r){var a;if(void 0===r.host){if(void 0!==r.ssl)throw new st(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(a=r.ssl)||void 0===a||a;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new st(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,function(u,h,g,w){if(!0===h&&!0===w)throw new st(Ge.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,r.experimentalForceLongPolling,0,r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class N0{constructor(r,a){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qi({}),this._settingsFrozen=!1,r instanceof s6?(this._databaseId=r,this._credentials=new cf):(this._app=r,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new st(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new s6(u.options.projectId)}(r),this._credentials=new lf(a))}get app(){if(!this._app)throw new st(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new st(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qi(r),void 0!==r.credentials&&(this._credentials=function(a){if(!a)return new cf;switch(a.type){case"gapi":const u=a.client;return A(!("object"!=typeof u||null===u||!u.auth||!u.auth.getAuthHeaderValueForFirstParty)),new d9(u,a.sessionIndex||"0",a.iamToken||null);case"provider":return a.client;default:throw new st(Ge.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const a=Hu.get(r);a&&(ft("ComponentProvider","Removing Datastore"),Hu.delete(r),a.terminate())}(this),Promise.resolve()}}class P1{constructor(r,a,u){this.converter=a,this._key=u,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ss(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new P1(this.firestore,r,this._key)}}class e2{constructor(r,a,u){this.converter=a,this._query=u,this.type="query",this.firestore=r}withConverter(r){return new e2(this.firestore,r,this._query)}}class Ss extends e2{constructor(r,a,u){super(r,a,fo(u)),this._path=u,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new P1(this.firestore,null,new Ft(r))}withConverter(r){return new Ss(this.firestore,r,this._path)}}function m8(c,r,...a){if(c=(0,Be.m9)(c),Uu("collection","path",r),c instanceof N0){const u=Dt.fromString(r,...a);return Bu(u),new Ss(c,null,u)}{if(!(c instanceof P1||c instanceof Ss))throw new st(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=Dt.fromString(c.path,...a).child(Dt.fromString(r));return Bu(u),new Ss(c.firestore,null,u)}}function g8(c,r,...a){if(c=(0,Be.m9)(c),1===arguments.length&&(r=R.u()),Uu("doc","path",r),c instanceof N0){const u=Dt.fromString(r,...a);return D0(u),new P1(c,null,new Ft(u))}{if(!(c instanceof P1||c instanceof Ss))throw new st(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const u=c._path.child(Dt.fromString(r,...a));return D0(u),new P1(c.firestore,c instanceof Ss?c.converter:null,new Ft(u))}}function v8(c,r){return c=(0,Be.m9)(c),r=(0,Be.m9)(r),(c instanceof P1||c instanceof Ss)&&(r instanceof P1||r instanceof Ss)&&c.firestore===r.firestore&&c.path===r.path&&c.converter===r.converter}function L0(c,r){return c=(0,Be.m9)(c),r=(0,Be.m9)(r),c instanceof e2&&r instanceof e2&&c.firestore===r.firestore&&ho(c._query,r._query)&&c.converter===r.converter}class df{constructor(){this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.gc=null,this.yc=!1,this.Ec=!1,this.Tc=[],this.Zi=new h0(this,"async_queue_retry"),this.Ic=()=>{const a=O3();a&&ft("AsyncQueue","Visibility state changed to "+a.visibilityState),this.Zi.Gi()};const r=O3();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Ic)}get isShuttingDown(){return this._c}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Ac(),this.Rc(r)}enterRestrictedMode(r){if(!this._c){this._c=!0,this.Ec=r||!1;const a=O3();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("visibilitychange",this.Ic)}}enqueue(r){if(this.Ac(),this._c)return new Promise(()=>{});const a=new h2;return this.Rc(()=>this._c&&this.Ec?Promise.resolve():(r().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.wc.push(r),this.Pc()))}Pc(){var r=this;return(0,Ie.Z)(function*(){if(0!==r.wc.length){try{yield r.wc[0](),r.wc.shift(),r.Zi.reset()}catch(a){if(!Oa(a))throw a;ft("AsyncQueue","Operation failed with retryable error: "+a)}r.wc.length>0&&r.Zi.Qi(()=>r.Pc())}})()}Rc(r){const a=this.dc.then(()=>(this.yc=!0,r().catch(u=>{throw this.gc=u,this.yc=!1,z1("INTERNAL UNHANDLED ERROR: ",function(h){let g=h.message||"";return h.stack&&(g=h.stack.includes(h.message)?h.stack:h.message+"\n"+h.stack),g}(u)),u}).then(u=>(this.yc=!1,u))));return this.dc=a,a}enqueueAfterDelay(r,a,u){this.Ac(),this.Tc.indexOf(r)>-1&&(a=0);const h=pu.createAndSchedule(this,r,a,u,g=>this.bc(g));return this.mc.push(h),h}Ac(){this.gc&&zt()}verifyOperationInProgress(){}vc(){var r=this;return(0,Ie.Z)(function*(){let a;do{a=r.dc,yield a}while(a!==r.dc)})()}Vc(r){for(const a of this.mc)if(a.timerId===r)return!0;return!1}Sc(r){return this.vc().then(()=>{this.mc.sort((a,u)=>a.targetTimeMs-u.targetTimeMs);for(const a of this.mc)if(a.skipDelay(),"all"!==r&&a.timerId===r)break;return this.vc()})}Dc(r){this.Tc.push(r)}bc(r){const a=this.mc.indexOf(r);this.mc.splice(a,1)}}function a6(c){return function(r,a){if("object"!=typeof r||null===r)return!1;const u=r;for(const h of["next","error","complete"])if(h in u&&"function"==typeof u[h])return!0;return!1}(c)}class pf{constructor(){this._progressObserver={},this._taskCompletionResolver=new h2,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(r,a,u){this._progressObserver={next:r,error:a,complete:u}}catch(r){return this._taskCompletionResolver.promise.catch(r)}then(r,a){return this._taskCompletionResolver.promise.then(r,a)}_completeWith(r){this._updateProgress(r),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(r)}_failWith(r){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(r),this._taskCompletionResolver.reject(r)}_updateProgress(r){this._lastProgress=r,this._progressObserver.next&&this._progressObserver.next(r)}}class sr extends N0{constructor(r,a){super(r,a),this.type="firestore",this._queue=new df,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||c6(this),this._firestoreClient.terminate()}}function Rr(c){return c._firestoreClient||c6(c),c._firestoreClient.verifyNotTerminated(),c._firestoreClient}function c6(c){var r;const a=c._freezeSettings(),u=(g=(null===(r=c._app)||void 0===r?void 0:r.options.appId)||"",new af(c._databaseId,g,c._persistenceKey,(V=a).host,V.ssl,V.experimentalForceLongPolling,V.experimentalAutoDetectLongPolling,V.useFetchStreams));var g,V;c._firestoreClient=new h9(c._credentials,c._queue,u)}function Zi(c,r,a){const u=new h2;return c.asyncQueue.enqueue((0,Ie.Z)(function*(){try{yield Lu(c,a),yield n1(c,r),u.resolve()}catch(h){if(!("FirebaseError"===(g=h).name?g.code===Ge.FAILED_PRECONDITION||g.code===Ge.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&g instanceof DOMException)||22===g.code||20===g.code||11===g.code))throw h;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+h),u.reject(h)}var g})).then(()=>u.promise)}function oa(c){if(c._initialized||c._terminated)throw new st(Ge.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ki{constructor(...r){for(let a=0;a<r.length;++a)if(0===r[a].length)throw new st(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new t1(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class Yi{constructor(r){this._byteString=r}static fromBase64String(r){try{return new Yi(Jn.fromBase64String(r))}catch(a){throw new st(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(r){return new Yi(Jn.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class Qi{constructor(r){this._methodName=r}}class So{constructor(r,a){if(!isFinite(r)||r<-90||r>90)throw new st(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(a)||a<-180||a>180)throw new st(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=r,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return k(this._lat,r._lat)||k(this._long,r._long)}}const Q4=/^__.*__$/;class J4{constructor(r,a,u){this.data=r,this.fieldMask=a,this.fieldTransforms=u}toMutation(r,a){return null!==this.fieldMask?new Ys(r,this.data,this.fieldMask,a,this.fieldTransforms):new Ta(r,this.data,a,this.fieldTransforms)}}class Ja{constructor(r,a,u){this.data=r,this.fieldMask=a,this.fieldTransforms=u}toMutation(r,a){return new Ys(r,this.data,this.fieldMask,a,this.fieldTransforms)}}function Xa(c){switch(c){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt()}}class xo{constructor(r,a,u,h,g,w){this.settings=r,this.databaseId=a,this.R=u,this.ignoreUndefinedProperties=h,void 0===g&&this.Cc(),this.fieldTransforms=g||[],this.fieldMask=w||[]}get path(){return this.settings.path}get Nc(){return this.settings.Nc}xc(r){return new xo(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}kc(r){var a;const u=null===(a=this.path)||void 0===a?void 0:a.child(r),h=this.xc({path:u,$c:!1});return h.Oc(r),h}Fc(r){var a;const u=null===(a=this.path)||void 0===a?void 0:a.child(r),h=this.xc({path:u,$c:!1});return h.Cc(),h}Mc(r){return this.xc({path:void 0,$c:!0})}Lc(r){return h6(r,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.Uc)}contains(r){return void 0!==this.fieldMask.find(a=>r.isPrefixOf(a))||void 0!==this.fieldTransforms.find(a=>r.isPrefixOf(a.field))}Cc(){if(this.path)for(let r=0;r<this.path.length;r++)this.Oc(this.path.get(r))}Oc(r){if(0===r.length)throw this.Lc("Document fields must not be empty");if(Xa(this.Nc)&&Q4.test(r))throw this.Lc('Document fields cannot begin and end with "__"')}}class X4{constructor(r,a,u){this.databaseId=r,this.ignoreUndefinedProperties=a,this.R=u||F4(r)}qc(r,a,u,h=!1){return new xo({Nc:r,methodName:a,Uc:u,path:t1.emptyPath(),$c:!1,Bc:h},this.databaseId,this.R,this.ignoreUndefinedProperties)}}function Ji(c){const r=c._freezeSettings(),a=F4(c._databaseId);return new X4(c._databaseId,!!r.ignoreUndefinedProperties,a)}function f6(c,r,a,u,h,g={}){const w=c.qc(g.merge||g.mergeFields?2:0,r,a,h);P0("Data must be an object, but it was:",w,u);const V=Zu(u,w);let B,X;if(g.merge)B=new p1(w.fieldMask),X=w.fieldTransforms;else if(g.mergeFields){const oe=[];for(const Ee of g.mergeFields){const Ze=b8(r,Ee,a);if(!w.contains(Ze))throw new st(Ge.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);Ku(oe,Ze)||oe.push(Ze)}B=new p1(oe),X=w.fieldTransforms.filter(Ee=>B.covers(Ee.field))}else B=null,X=w.fieldTransforms;return new J4(new hr(V),B,X)}class ec extends Qi{_toFieldTransform(r){if(2!==r.Nc)throw r.Lc(1===r.Nc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof ec}}function _8(c,r,a){return new xo({Nc:3,Uc:r.settings.Uc,methodName:c._methodName,$c:a},r.databaseId,r.R,r.ignoreUndefinedProperties)}class z0 extends Qi{_toFieldTransform(r){return new Ks(r.path,new yi)}isEqual(r){return r instanceof z0}}class $u extends Qi{constructor(r,a){super(r),this.Kc=a}_toFieldTransform(r){const a=_8(this,r,!0),u=this.Kc.map(g=>aa(g,a)),h=new Yr(u);return new Ks(r.path,h)}isEqual(r){return this===r}}class Gu extends Qi{constructor(r,a){super(r),this.Kc=a}_toFieldTransform(r){const a=_8(this,r,!0),u=this.Kc.map(g=>aa(g,a)),h=new u2(u);return new Ks(r.path,h)}isEqual(r){return this===r}}class Wu extends Qi{constructor(r,a){super(r),this.jc=a}_toFieldTransform(r){const a=new po(r.R,Go(r.R,this.jc));return new Ks(r.path,a)}isEqual(r){return this===r}}function R0(c,r,a,u){const h=c.qc(1,r,a);P0("Data must be an object, but it was:",h,u);const g=[],w=hr.empty();Ot(u,(B,X)=>{const oe=w8(r,B,a);X=(0,Be.m9)(X);const Ee=h.Fc(oe);if(X instanceof ec)g.push(oe);else{const Ze=aa(X,Ee);null!=Ze&&(g.push(oe),w.set(oe,Ze))}});const V=new p1(g);return new Ja(w,V,h.fieldTransforms)}function V0(c,r,a,u,h,g){const w=c.qc(1,r,a),V=[b8(r,u,a)],B=[h];if(g.length%2!=0)throw new st(Ge.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<g.length;Ze+=2)V.push(b8(r,g[Ze])),B.push(g[Ze+1]);const X=[],oe=hr.empty();for(let Ze=V.length-1;Ze>=0;--Ze)if(!Ku(X,V[Ze])){const Ke=V[Ze];let gt=B[Ze];gt=(0,Be.m9)(gt);const Gt=w.Fc(Ke);if(gt instanceof ec)X.push(Ke);else{const _n=aa(gt,Gt);null!=_n&&(X.push(Ke),oe.set(Ke,_n))}}const Ee=new p1(X);return new Ja(oe,Ee,w.fieldTransforms)}function qu(c,r,a,u=!1){return aa(a,c.qc(u?4:3,r))}function aa(c,r){if(C8(c=(0,Be.m9)(c)))return P0("Unsupported field value:",r,c),Zu(c,r);if(c instanceof Qi)return function(a,u){if(!Xa(u.Nc))throw u.Lc(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Lc(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(c,r),null;if(void 0===c&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),c instanceof Array){if(r.settings.$c&&4!==r.Nc)throw r.Lc("Nested arrays are not supported");return function(a,u){const h=[];let g=0;for(const w of a){let V=aa(w,u.Mc(g));null==V&&(V={nullValue:"NULL_VALUE"}),h.push(V),g++}return{arrayValue:{values:h}}}(c,r)}return function(a,u){if(null===(a=(0,Be.m9)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return Go(u.R,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const h=pe.fromDate(a);return{timestampValue:Ko(u.R,h)}}if(a instanceof pe){const h=new pe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Ko(u.R,h)}}if(a instanceof So)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Yi)return{bytesValue:h3(u.R,a._byteString)};if(a instanceof P1){const h=u.databaseId,g=a.firestore._databaseId;if(!g.isEqual(h))throw u.Lc(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Sl(a.firestore._databaseId||u.databaseId,a._key.path)}}throw u.Lc(`Unsupported field value: ${o6(a)}`)}(c,r)}function Zu(c,r){const a={};return pn(c)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):Ot(c,(u,h)=>{const g=aa(h,r.kc(u));null!=g&&(a[u]=g)}),{mapValue:{fields:a}}}function C8(c){return!("object"!=typeof c||null===c||c instanceof Array||c instanceof Date||c instanceof pe||c instanceof So||c instanceof Yi||c instanceof P1||c instanceof Qi)}function P0(c,r,a){if(!C8(a)||"object"!=typeof(u=a)||null===u||Object.getPrototypeOf(u)!==Object.prototype&&null!==Object.getPrototypeOf(u)){const u=o6(a);throw r.Lc("an object"===u?c+" a custom object":c+" "+u)}var u}function b8(c,r,a){if((r=(0,Be.m9)(r))instanceof Ki)return r._internalPath;if("string"==typeof r)return w8(c,r);throw h6("Field path arguments must be of type string or FieldPath.",c,!1,void 0,a)}const v9=new RegExp("[~\\*/\\[\\]]");function w8(c,r,a){if(r.search(v9)>=0)throw h6(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,c,!1,void 0,a);try{return new Ki(...r.split("."))._internalPath}catch(u){throw h6(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,c,!1,void 0,a)}}function h6(c,r,a,u,h){const g=u&&!u.isEmpty(),w=void 0!==h;let V=`Function ${r}() called with invalid data`;a&&(V+=" (via `toFirestore()`)"),V+=". ";let B="";return(g||w)&&(B+=" (found",g&&(B+=` in field ${u}`),w&&(B+=` in document ${h}`),B+=")"),new st(Ge.INVALID_ARGUMENT,V+c+B)}function Ku(c,r){return c.some(a=>a.isEqual(r))}class tc{constructor(r,a,u,h,g){this._firestore=r,this._userDataWriter=a,this._key=u,this._document=h,this._converter=g}get id(){return this._key.path.lastSegment()}get ref(){return new P1(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new yf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const a=this._document.data.field(O0("DocumentSnapshot.get",r));if(null!==a)return this._userDataWriter.convertValue(a)}}}class yf extends tc{data(){return super.data()}}function O0(c,r){return"string"==typeof r?w8(c,r):r instanceof Ki?r._internalPath:r._delegate._internalPath}class nc{constructor(r,a){this.hasPendingWrites=r,this.fromCache=a}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class To extends tc{constructor(r,a,u,h,g,w){super(r,a,u,h,w),this._firestore=r,this._firestoreImpl=r,this.metadata=g}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const a=new rc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,a={}){if(this._document){const u=this._document.data.field(O0("DocumentSnapshot.get",r));if(null!==u)return this._userDataWriter.convertValue(u,a.serverTimestamps)}}}class rc extends To{data(r={}){return super.data(r)}}class e4{constructor(r,a,u,h){this._firestore=r,this._userDataWriter=a,this._snapshot=h,this.metadata=new nc(h.hasPendingWrites,h.fromCache),this.query=u}get docs(){const r=[];return this.forEach(a=>r.push(a)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,a){this._snapshot.docs.forEach(u=>{r.call(a,new rc(this._firestore,this._userDataWriter,u.key,u,new nc(this._snapshot.mutatedKeys.has(u.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const a=!!r.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new st(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let g=0;return u._snapshot.docChanges.map(w=>({type:"added",doc:new rc(u._firestore,u._userDataWriter,w.doc.key,w.doc,new nc(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter),oldIndex:-1,newIndex:g++}))}{let g=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(w=>h||3!==w.type).map(w=>{const V=new rc(u._firestore,u._userDataWriter,w.doc.key,w.doc,new nc(u._snapshot.mutatedKeys.has(w.doc.key),u._snapshot.fromCache),u.query.converter);let B=-1,X=-1;return 0!==w.type&&(B=g.indexOf(w.doc.key),g=g.delete(w.doc.key)),1!==w.type&&(g=g.add(w.doc),X=g.indexOf(w.doc.key)),{type:y9(w.type),doc:V,oldIndex:B,newIndex:X}})}}(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}}function y9(c){switch(c){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt()}}function _f(c,r){return c instanceof To&&r instanceof To?c._firestore===r._firestore&&c._key.isEqual(r._key)&&(null===c._document?null===r._document:c._document.isEqual(r._document))&&c._converter===r._converter:c instanceof e4&&r instanceof e4&&c._firestore===r._firestore&&L0(c.query,r.query)&&c.metadata.isEqual(r.metadata)&&c._snapshot.isEqual(r._snapshot)}function Yu(c){if(Ws(c)&&0===c.explicitOrderBy.length)throw new st(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class k0{}function ca(c,...r){for(const a of r)c=a._apply(c);return c}class Cf extends k0{constructor(r,a,u){super(),this.Qc=r,this.Wc=a,this.Gc=u,this.type="where"}_apply(r){const a=Ji(r.firestore),u=function(h,g,w,V,B,X,oe){let Ee;if(B.isKeyField()){if("array-contains"===X||"array-contains-any"===X)throw new st(Ge.INVALID_ARGUMENT,`Invalid Query. You can't perform '${X}' queries on FieldPath.documentId().`);if("in"===X||"not-in"===X){A8(oe,X);const Ke=[];for(const gt of oe)Ke.push(e5(V,h,gt));Ee={arrayValue:{values:Ke}}}else Ee=e5(V,h,oe)}else"in"!==X&&"not-in"!==X&&"array-contains-any"!==X||A8(oe,X),Ee=qu(w,"where",oe,"in"===X||"not-in"===X);const Ze=Fr.create(B,X,Ee);return function(Ke,gt){if(gt.g()){const _n=M4(Ke);if(null!==_n&&!_n.isEqual(gt.field))throw new st(Ge.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${_n.toString()}' and '${gt.field.toString()}'`);const br=qs(Ke);null!==br&&d6(0,gt.field,br)}const Gt=function(_n,br){for(const Ns of _n.filters)if(br.indexOf(Ns.op)>=0)return Ns.op;return null}(Ke,function(_n){switch(_n){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(gt.op));if(null!==Gt)throw new st(Ge.INVALID_ARGUMENT,Gt===gt.op?`Invalid query. You cannot use more than one '${gt.op.toString()}' filter.`:`Invalid query. You cannot use '${gt.op.toString()}' filters with '${Gt.toString()}' filters.`)}(h,Ze),Ze}(r._query,0,a,r.firestore._databaseId,this.Qc,this.Wc,this.Gc);return new e2(r.firestore,r.converter,function(h,g){const w=h.filters.concat([g]);return new gi(h.path,h.collectionGroup,h.explicitOrderBy.slice(),w,h.limit,h.limitType,h.startAt,h.endAt)}(r._query,u))}}class M8 extends k0{constructor(r,a){super(),this.Qc=r,this.zc=a,this.type="orderBy"}_apply(r){const a=function(u,h,g){if(null!==u.startAt)throw new st(Ge.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==u.endAt)throw new st(Ge.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const w=new js(h,g);return function(V,B){if(null===qs(V)){const X=M4(V);null!==X&&d6(0,X,B.field)}}(u,w),w}(r._query,this.Qc,this.zc);return new e2(r.firestore,r.converter,function(u,h){const g=u.explicitOrderBy.concat([h]);return new gi(u.path,u.collectionGroup,g,u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(r._query,a))}}class wf extends k0{constructor(r,a,u){super(),this.type=r,this.Hc=a,this.Jc=u}_apply(r){return new e2(r.firestore,r.converter,Al(r._query,this.Hc,this.Jc))}}class Qu extends k0{constructor(r,a,u){super(),this.type=r,this.Yc=a,this.Xc=u}_apply(r){const a=I8(r,this.type,this.Yc,this.Xc);return new e2(r.firestore,r.converter,(h=a,new gi((u=r._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,h,u.endAt)));var u,h}}class Xu extends k0{constructor(r,a,u){super(),this.type=r,this.Yc=a,this.Xc=u}_apply(r){const a=I8(r,this.type,this.Yc,this.Xc);return new e2(r.firestore,r.converter,(h=a,new gi((u=r._query).path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,h)));var u,h}}function I8(c,r,a,u){if(a[0]=(0,Be.m9)(a[0]),a[0]instanceof tc)return function(h,g,w,V,B){if(!V)throw new st(Ge.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${w}().`);const X=[];for(const oe of jo(h))if(oe.field.isKeyField())X.push(ms(g,V.key));else{const Ee=V.data.field(oe.field);if(V6(Ee))throw new st(Ge.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===Ee){const Ze=oe.field.canonicalString();throw new st(Ge.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ze}' (used as the orderBy) does not exist.`)}X.push(Ee)}return new Ma(X,B)}(c._query,c.firestore._databaseId,r,a[0]._document,u);{const h=Ji(c.firestore);return function(g,w,V,B,X,oe){const Ee=g.explicitOrderBy;if(X.length>Ee.length)throw new st(Ge.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ze=[];for(let Ke=0;Ke<X.length;Ke++){const gt=X[Ke];if(Ee[Ke].field.isKeyField()){if("string"!=typeof gt)throw new st(Ge.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof gt}`);if(!B6(g)&&-1!==gt.indexOf("/"))throw new st(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${B}() must be a plain document ID, but '${gt}' contains a slash.`);const Gt=g.path.child(Dt.fromString(gt));if(!Ft.isDocumentKey(Gt))throw new st(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${B}() must result in a valid document path, but '${Gt}' is not because it contains an odd number of segments.`);const _n=new Ft(Gt);Ze.push(ms(w,_n))}else{const Gt=qu(V,B,gt);Ze.push(Gt)}}return new Ma(Ze,oe)}(c._query,c.firestore._databaseId,h,r,a,u)}}function e5(c,r,a){if("string"==typeof(a=(0,Be.m9)(a))){if(""===a)throw new st(Ge.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!B6(r)&&-1!==a.indexOf("/"))throw new st(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${a}' contains a '/' character.`);const u=r.path.child(Dt.fromString(a));if(!Ft.isDocumentKey(u))throw new st(Ge.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${u}' is not because it has an odd number of segments (${u.length}).`);return ms(c,new Ft(u))}if(a instanceof P1)return ms(c,a._key);throw new st(Ge.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${o6(a)}.`)}function A8(c,r){if(!Array.isArray(c)||0===c.length)throw new st(Ge.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${r.toString()}' filters.`);if(c.length>10)throw new st(Ge.INVALID_ARGUMENT,`Invalid Query. '${r.toString()}' filters support a maximum of 10 elements in the value array.`)}function d6(c,r,a){if(!a.isEqual(r))throw new st(Ge.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${r.toString()}' and so you must also use '${r.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${a.toString()}' instead.`)}class S8{convertValue(r,a="none"){switch(Bs(r)){case 0:return null;case 1:return r.booleanValue;case 2:return f1(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,a);case 5:return r.stringValue;case 6:return this.convertBytes(J2(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,a);case 10:return this.convertObject(r.mapValue,a);default:throw zt()}}convertObject(r,a){const u={};return Ot(r.fields,(h,g)=>{u[h]=this.convertValue(g,a)}),u}convertGeoPoint(r){return new So(f1(r.latitude),f1(r.longitude))}convertArray(r,a){return(r.values||[]).map(u=>this.convertValue(u,a))}convertServerTimestamp(r,a){switch(a){case"previous":const u=s3(r);return null==u?null:this.convertValue(u,a);case"estimate":return this.convertTimestamp(ba(r));default:return null}}convertTimestamp(r){const a=Z1(r);return new pe(a.seconds,a.nanos)}convertDocumentKey(r,a){const u=Dt.fromString(r);A(f2(u));const h=new s6(u.get(1),u.get(3)),g=new Ft(u.popFirst(5));return h.isEqual(a)||z1(`Document ${g} contains a document reference within a different database (${h.projectId}/${h.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),g}}function p6(c,r,a){let u;return u=c?a&&(a.merge||a.mergeFields)?c.toFirestore(r,a):c.toFirestore(r):r,u}class Mf extends S8{constructor(r){super(),this.firestore=r}convertBytes(r){return new Yi(r)}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return new P1(this.firestore,null,a)}}class t5{constructor(r,a){this._firestore=r,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=Ji(r)}set(r,a,u){this._verifyNotCommitted();const h=la(r,this._firestore),g=p6(h.converter,a,u),w=f6(this._dataReader,"WriteBatch.set",h._key,g,null!==h.converter,u);return this._mutations.push(w.toMutation(h._key,m1.none())),this}update(r,a,u,...h){this._verifyNotCommitted();const g=la(r,this._firestore);let w;return w="string"==typeof(a=(0,Be.m9)(a))||a instanceof Ki?V0(this._dataReader,"WriteBatch.update",g._key,a,u,h):R0(this._dataReader,"WriteBatch.update",g._key,a),this._mutations.push(w.toMutation(g._key,m1.exists(!0))),this}delete(r){this._verifyNotCommitted();const a=la(r,this._firestore);return this._mutations=this._mutations.concat(new vo(a._key,m1.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new st(Ge.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function la(c,r){if((c=(0,Be.m9)(c)).firestore!==r)throw new st(Ge.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return c}class t4 extends S8{constructor(r){super(),this.firestore=r}convertBytes(r){return new Yi(r)}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return new P1(this.firestore,null,a)}}function H0(c,r,a,...u){c=Wn(c,P1);const h=Wn(c.firestore,sr),g=Ji(h);let w;return w="string"==typeof(r=(0,Be.m9)(r))||r instanceof Ki?V0(g,"updateDoc",c._key,r,a,u):R0(g,"updateDoc",c._key,r),ua(h,[w.toMutation(c._key,m1.exists(!0))])}function sc(c,...r){var a,u,h;c=(0,Be.m9)(c);let g={includeMetadataChanges:!1},w=0;"object"!=typeof r[w]||a6(r[w])||(g=r[w],w++);const V={includeMetadataChanges:g.includeMetadataChanges};if(a6(r[w])){const Ee=r[w];r[w]=null===(a=Ee.next)||void 0===a?void 0:a.bind(Ee),r[w+1]=null===(u=Ee.error)||void 0===u?void 0:u.bind(Ee),r[w+2]=null===(h=Ee.complete)||void 0===h?void 0:h.bind(Ee)}let B,X,oe;if(c instanceof P1)X=Wn(c.firestore,sr),oe=fo(c._key.path),B={next:Ee=>{r[w]&&r[w](m6(X,c,Ee))},error:r[w+1],complete:r[w+2]};else{const Ee=Wn(c,e2);X=Wn(Ee.firestore,sr),oe=Ee._query;const Ze=new t4(X);B={next:Ke=>{r[w]&&r[w](new e4(X,Ze,Ee,Ke))},error:r[w+1],complete:r[w+2]},Yu(c._query)}return function(Ee,Ze,Ke,gt){const Gt=new A0(gt),_n=new Z3(Ze,Gt,Ke);return Ee.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return H2(yield Qa(Ee),_n)})),()=>{Gt.Wo(),Ee.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return q3(yield Qa(Ee),_n)}))}}(Rr(X),oe,V,B)}function ua(c,r){return function(a,u){const h=new h2;return a.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(c,r,a){return Mu.apply(this,arguments)}(yield x0(a),u,h)})),h.promise}(Rr(c),r)}function m6(c,r,a){const u=a.docs.get(r._key),h=new t4(c);return new To(c,h,r._key,u,new nc(a.hasPendingWrites,a.fromCache),r.converter)}class Tf extends class{constructor(r,a){this._firestore=r,this._transaction=a,this._dataReader=Ji(r)}get(r){const a=la(r,this._firestore),u=new Mf(this._firestore);return this._transaction.lookup([a._key]).then(h=>{if(!h||1!==h.length)return zt();const g=h[0];if(g.isFoundDocument())return new tc(this._firestore,u,g.key,g,a.converter);if(g.isNoDocument())return new tc(this._firestore,u,a._key,null,a.converter);throw zt()})}set(r,a,u){const h=la(r,this._firestore),g=p6(h.converter,a,u),w=f6(this._dataReader,"Transaction.set",h._key,g,null!==h.converter,u);return this._transaction.set(h._key,w),this}update(r,a,u,...h){const g=la(r,this._firestore);let w;return w="string"==typeof(a=(0,Be.m9)(a))||a instanceof Ki?V0(this._dataReader,"Transaction.update",g._key,a,u,h):R0(this._dataReader,"Transaction.update",g._key,a),this._transaction.update(g._key,w),this}delete(r){const a=la(r,this._firestore);return this._transaction.delete(a._key),this}}{constructor(r,a){super(r,a),this._firestore=r}get(r){const a=la(r,this._firestore),u=new t4(this._firestore);return super.get(r).then(h=>new To(this._firestore,u,a._key,h._document,new nc(!1,!1),a.converter))}}(function(c){Q2=c})(mt.SDK_VERSION),(0,mt._registerComponent)(new ot.wA("firestore-exp",(c,{options:r})=>{const a=c.getProvider("app-exp").getImmediate(),u=new sr(a,c.getProvider("auth-internal"));return r=Object.assign({useFetchStreams:!0},r),u._setSettings(r),u},"PUBLIC")),(0,mt.registerVersion)("@firebase/firestore","0.0.900-exp.8b4d7550f",void 0);const N8="(default)";class g6{constructor(r,a){this.projectId=r,this.database=a||N8}get isDefaultDatabase(){return this.database===N8}isEqual(r){return r instanceof g6&&r.projectId===this.projectId&&r.database===this.database}}let oc="8.8.1";const v6=new Yt.Yd("@firebase/firestore");function R8(c){if("string"==typeof c)return c;try{return function(c){return JSON.stringify(c)}(c)}catch(r){return c}}function V8(c="Unexpected state"){const r=`FIRESTORE (${oc}) INTERNAL ASSERTION FAILED: `+c;throw function(c,...r){if(v6.logLevel<=Yt.in.ERROR){const a=[].map(R8);v6.error(`Firestore (${oc}): ${c}`,...a)}}(r),new Error(r)}class g2 extends Error{constructor(r,a){super(a),this.code=r,this.message=a,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}const P8="__name__";class n4{constructor(r,a,u){void 0===a?a=0:a>r.length&&V8(),void 0===u?u=r.length-a:u>r.length-a&&V8(),this.segments=r,this.offset=a,this.len=u}get length(){return this.len}isEqual(r){return 0===n4.comparator(this,r)}child(r){const a=this.segments.slice(this.offset,this.limit());return r instanceof n4?r.forEach(u=>{a.push(u)}):a.push(r),this.construct(a)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==r.get(a))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==r.get(a))return!1;return!0}forEach(r){for(let a=this.offset,u=this.limit();a<u;a++)r(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,a){const u=Math.min(r.length,a.length);for(let h=0;h<u;h++){const g=r.get(h),w=a.get(h);if(g<w)return-1;if(g>w)return 1}return r.length<a.length?-1:r.length>a.length?1:0}}class to extends n4{construct(r,a,u){return new to(r,a,u)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const a=[];for(const u of r){if(u.indexOf("//")>=0)throw new g2("invalid-argument",`Invalid segment (${u}). Paths must not contain // in them.`);a.push(...u.split("/").filter(h=>h.length>0))}return new to(a)}static emptyPath(){return new to([])}}const f5=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class fa extends n4{construct(r,a,u){return new fa(r,a,u)}static isValidIdentifier(r){return f5.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),fa.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===P8}static keyField(){return new fa([P8])}static fromServerFormat(r){const a=[];let u="",h=0;const g=()=>{if(0===u.length)throw new g2("invalid-argument",`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(u),u=""};let w=!1;for(;h<r.length;){const V=r[h];if("\\"===V){if(h+1===r.length)throw new g2("invalid-argument","Path has trailing escape character: "+r);const B=r[h+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new g2("invalid-argument","Path has invalid escape sequence: "+r);u+=B,h+=2}else"`"===V?(w=!w,h++):"."!==V||w?(u+=V,h++):(g(),h++)}if(g(),w)throw new g2("invalid-argument","Unterminated ` in path: "+r);return new fa(a)}static emptyPath(){return new fa([])}}class ac{constructor(r){this.path=r}static fromPath(r){return new ac(to.fromString(r))}static fromName(r){return new ac(to.fromString(r).popFirst(5))}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}isEqual(r){return null!==r&&0===to.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,a){return to.comparator(r.path,a.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new ac(new to(r.slice()))}}function F0(c,r){if(void 0===r)return{merge:!1};if(void 0!==r.mergeFields&&void 0!==r.merge)throw new g2("invalid-argument",`Invalid options passed to function ${c}(): You cannot specify both "merge" and "mergeFields".`);return r}function m5(){if("undefined"==typeof Uint8Array)throw new g2("unimplemented","Uint8Arrays are not available in this environment.")}function O8(){if("undefined"==typeof atob)throw new g2("unimplemented","Blobs are unavailable in Firestore in this environment.")}class y6{constructor(r){this._delegate=r}static fromBase64String(r){return O8(),new y6(Yi.fromBase64String(r))}static fromUint8Array(r){return m5(),new y6(Yi.fromUint8Array(r))}toBase64(){return O8(),this._delegate.toBase64()}toUint8Array(){return m5(),this._delegate.toUint8Array()}isEqual(r){return this._delegate.isEqual(r._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pr(c){return function(c,r){if("object"!=typeof c||null===c)return!1;const a=c;for(const u of["next","error","complete"])if(u in a&&"function"==typeof a[u])return!0;return!1}(c)}class Rf{enableIndexedDbPersistence(r,a){return function(c,r){oa(c=Wn(c,sr));const a=Rr(c),u=c._freezeSettings(),h=new u8;return Zi(a,h,new l8(h,u.cacheSizeBytes,null==r?void 0:r.forceOwnership))}(r._delegate,{forceOwnership:a})}enableMultiTabIndexedDbPersistence(r){return function(c){oa(c=Wn(c,sr));const r=Rr(c),a=c._freezeSettings(),u=new u8;return Zi(r,u,new Q7(u,a.cacheSizeBytes))}(r._delegate)}clearIndexedDbPersistence(r){return function(c){if(c._initialized&&!c._terminated)throw new st(Ge.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const r=new h2;return c._queue.enqueueAndForgetEvenWhileRestricted((0,Ie.Z)(function*(){try{yield(a=(0,Ie.Z)(function*(u){if(!bs.gt())return Promise.resolve();const h=u+"main";yield bs.delete(h)}),function(u){return a.apply(this,arguments)})(r0(c._databaseId,c._persistenceKey)),r.resolve()}catch(a){r.reject(a)}var a})),r.promise}(r._delegate)}}class k8{constructor(r,a,u){this._delegate=a,this._persistenceProvider=u,this.INTERNAL={delete:()=>this.terminate()},r instanceof g6||(this._appCompat=r)}get _databaseId(){return this._delegate._databaseId}settings(r){const a=this._delegate._getSettings();!r.merge&&a.host!==r.host&&function(c,...r){if(v6.logLevel<=Yt.in.WARN){const a=[].map(R8);v6.warn(`Firestore (${oc}): ${c}`,...a)}}("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),r.merge&&delete(r=Object.assign(Object.assign({},a),r)).merge,this._delegate._setSettings(r)}useEmulator(r,a,u={}){!function(c,r,a,u={}){const h=(c=Wn(c,N0))._getSettings();if("firestore.googleapis.com"!==h.host&&h.host!==r&&Hi("Host has been set in both settings() and useEmulator(), emulator host will be used"),c._setSettings(Object.assign(Object.assign({},h),{host:`${r}:${a}`,ssl:!1})),u.mockUserToken){const g=(0,Be.Sg)(u.mockUserToken),w=u.mockUserToken.sub||u.mockUserToken.user_id;if(!w)throw new st(Ge.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c._credentials=new Fu(new p8(g,new d2(w)))}}(this._delegate,r,a,u)}enableNetwork(){return function(c){return function(c){return c.asyncQueue.enqueue((0,Ie.Z)(function*(){const r=yield tf(c),a=yield Ru(c);return r.setNetworkEnabled(!0),function(u){const h=C(u);return h.Fr.delete(0),d0(h)}(a)}))}(Rr(c=Wn(c,sr)))}(this._delegate)}disableNetwork(){return function(c){return function(c){return c.asyncQueue.enqueue((0,Ie.Z)(function*(){const r=yield tf(c),a=yield Ru(c);return r.setNetworkEnabled(!1),(u=(0,Ie.Z)(function*(h){const g=C(h);g.Fr.add(0),yield Gc(g),g.Br.set("Offline")}),function(h){return u.apply(this,arguments)})(a);var u}))}(Rr(c=Wn(c,sr)))}(this._delegate)}enablePersistence(r){let a=!1,u=!1;return r&&(a=!!r.synchronizeTabs,u=!!r.experimentalForceOwningTab,function(c,r,a,u){if(!0===r&&!0===u)throw new g2("invalid-argument","synchronizeTabs and experimentalForceOwningTab cannot be used together.")}(0,a,0,u)),a?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,u)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore"),this._appCompat._removeServiceInstance("firestore-exp")),this._delegate._delete()}waitForPendingWrites(){return function(c){return function(r){const a=new h2;return r.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return function(c,r){return Xc.apply(this,arguments)}(yield x0(r),a)})),a.promise}(Rr(c=Wn(c,sr)))}(this._delegate)}onSnapshotsInSync(r){return function(c,r){return function(c,r){const a=new A0(r);return c.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return u=yield Qa(c),h=a,C(u).Gr.add(h),void h.next();var u,h})),()=>{a.Wo(),c.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return u=yield Qa(c),h=a,void C(u).Gr.delete(h);var u,h}))}}(Rr(c=Wn(c,sr)),a6(r)?r:{next:r})}(this._delegate,r)}get app(){if(!this._appCompat)throw new g2("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(r){try{return new lc(this,m8(this._delegate,r))}catch(a){throw F2(a,"collection()","Firestore.collection()")}}doc(r){try{return new es(this,g8(this._delegate,r))}catch(a){throw F2(a,"doc()","Firestore.doc()")}}collectionGroup(r){try{return new v2(this,function(c,r){if(c=Wn(c,N0),Uu("collectionGroup","collection id",r),r.indexOf("/")>=0)throw new st(Ge.INVALID_ARGUMENT,`Invalid collection ID '${r}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new e2(c,null,(a=r,new gi(Dt.emptyPath(),a)));var a}(this._delegate,r))}catch(a){throw F2(a,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(r){return function(c,r){return function(c,r){const a=new h2;return c.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){const u=yield(h=c,Z4(h).then(g=>g.datastore));var h;new ef(c.asyncQueue,u,r,a).run()})),a.promise}(Rr(c),a=>r(new Tf(c,a)))}(this._delegate,a=>r(new H8(this,a)))}batch(){return Rr(this._delegate),new F8(new t5(this._delegate,r=>ua(this._delegate,r)))}loadBundle(r){throw new g2("failed-precondition",'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')}namedQuery(r){throw new g2("failed-precondition",'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')}}class _6 extends S8{constructor(r){super(),this.firestore=r}convertBytes(r){return new y6(new Yi(r))}convertReference(r){const a=this.convertDocumentKey(r,this.firestore._databaseId);return es.forKey(a,this.firestore,null)}}class H8{constructor(r,a){this._firestore=r,this._delegate=a,this._userDataWriter=new _6(r)}get(r){const a=r4(r);return this._delegate.get(a).then(u=>new cc(this._firestore,new To(this._firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,a.converter)))}set(r,a,u){const h=r4(r);return u?(F0("Transaction.set",u),this._delegate.set(h,a,u)):this._delegate.set(h,a),this}update(r,a,u,...h){const g=r4(r);return 2===arguments.length?this._delegate.update(g,a):this._delegate.update(g,a,u,...h),this}delete(r){const a=r4(r);return this._delegate.delete(a),this}}class F8{constructor(r){this._delegate=r}set(r,a,u){const h=r4(r);return u?(F0("WriteBatch.set",u),this._delegate.set(h,a,u)):this._delegate.set(h,a),this}update(r,a,u,...h){const g=r4(r);return 2===arguments.length?this._delegate.update(g,a):this._delegate.update(g,a,u,...h),this}delete(r){const a=r4(r);return this._delegate.delete(a),this}commit(){return this._delegate.commit()}}class Xi{constructor(r,a,u){this._firestore=r,this._userDataWriter=a,this._delegate=u}fromFirestore(r,a){const u=new rc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,null);return this._delegate.fromFirestore(new U0(this._firestore,u),null!=a?a:{})}toFirestore(r,a){return a?this._delegate.toFirestore(r,a):this._delegate.toFirestore(r)}static getInstance(r,a){const u=Xi.INSTANCES;let h=u.get(r);h||(h=new WeakMap,u.set(r,h));let g=h.get(a);return g||(g=new Xi(r,new _6(r),a),h.set(a,g)),g}}Xi.INSTANCES=new WeakMap;class es{constructor(r,a){this.firestore=r,this._delegate=a,this._userDataWriter=new _6(r)}static forPath(r,a,u){if(r.length%2!=0)throw new g2("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${r.canonicalString()} has ${r.length}`);return new es(a,new P1(a._delegate,u,new ac(r)))}static forKey(r,a,u){return new es(a,new P1(a._delegate,u,r))}get id(){return this._delegate.id}get parent(){return new lc(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(r){try{return new lc(this.firestore,m8(this._delegate,r))}catch(a){throw F2(a,"collection()","DocumentReference.collection()")}}isEqual(r){return(r=(0,Be.m9)(r))instanceof P1&&v8(this._delegate,r)}set(r,a){a=F0("DocumentReference.set",a);try{return function(c,r,a){c=Wn(c,P1);const u=Wn(c.firestore,sr),h=p6(c.converter,r,a);return ua(u,[f6(Ji(u),"setDoc",c._key,h,null!==c.converter,a).toMutation(c._key,m1.none())])}(this._delegate,r,a)}catch(u){throw F2(u,"setDoc()","DocumentReference.set()")}}update(r,a,...u){try{return 1===arguments.length?H0(this._delegate,r):H0(this._delegate,r,a,...u)}catch(h){throw F2(h,"updateDoc()","DocumentReference.update()")}}delete(){return function(c){return ua(Wn(c.firestore,sr),[new vo(c._key,m1.none())])}(this._delegate)}onSnapshot(...r){const a=U8(r),u=v5(r,h=>new cc(this.firestore,new To(this.firestore._delegate,this._userDataWriter,h._key,h._document,h.metadata,this._delegate.converter)));return sc(this._delegate,a,u)}get(r){let a;return a="cache"===(null==r?void 0:r.source)?function(c){c=Wn(c,P1);const r=Wn(c.firestore,sr),a=Rr(r),u=new t4(r);return function(c,r){const a=new h2;return c.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(u=(0,Ie.Z)(function*(h,g,w){try{const V=yield function(B,X){const oe=C(B);return oe.persistence.runTransaction("read document","readonly",Ee=>oe.Mn.mn(Ee,X))}(h,g);V.isFoundDocument()?w.resolve(V):V.isNoDocument()?w.resolve(null):w.reject(new st(Ge.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(V){const B=Ga(V,`Failed to get document '${g} from cache`);w.reject(B)}}),function(h,g,w){return u.apply(this,arguments)})(yield f8(c),r,a);var u})),a.promise}(a,c._key).then(h=>new To(r,u,c._key,h,new nc(null!==h&&h.hasLocalMutations,!0),c.converter))}(this._delegate):"server"===(null==r?void 0:r.source)?function(c){c=Wn(c,P1);const r=Wn(c.firestore,sr);return K4(Rr(r),c._key,{source:"server"}).then(a=>m6(r,c,a))}(this._delegate):function(c){c=Wn(c,P1);const r=Wn(c.firestore,sr);return K4(Rr(r),c._key).then(a=>m6(r,c,a))}(this._delegate),a.then(u=>new cc(this.firestore,new To(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)))}withConverter(r){return new es(this.firestore,this._delegate.withConverter(r?Xi.getInstance(this.firestore,r):null))}}function F2(c,r,a){return c.message=c.message.replace(r,a),c}function U8(c){for(const r of c)if("object"==typeof r&&!pr(r))return r;return{}}function v5(c,r){var a,u;let h;return h=pr(c[0])?c[0]:pr(c[1])?c[1]:"function"==typeof c[0]?{next:c[0],error:c[1],complete:c[2]}:{next:c[1],error:c[2],complete:c[3]},{next:g=>{h.next&&h.next(r(g))},error:null===(a=h.error)||void 0===a?void 0:a.bind(h),complete:null===(u=h.complete)||void 0===u?void 0:u.bind(h)}}class cc{constructor(r,a){this._firestore=r,this._delegate=a}get ref(){return new es(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(r){return this._delegate.data(r)}get(r,a){return this._delegate.get(r,a)}isEqual(r){return _f(this._delegate,r._delegate)}}class U0 extends cc{data(r){return this._delegate.data(r)}}class v2{constructor(r,a){this.firestore=r,this._delegate=a,this._userDataWriter=new _6(r)}where(r,a,u){try{return new v2(this.firestore,ca(this._delegate,function(c,r,a){const u=r,h=O0("where",c);return new Cf(h,u,a)}(r,a,u)))}catch(h){throw F2(h,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(r,a){try{return new v2(this.firestore,ca(this._delegate,function(c,r="asc"){const a=r,u=O0("orderBy",c);return new M8(u,a)}(r,a)))}catch(u){throw F2(u,/(orderBy|where)\(\)/,"Query.$1()")}}limit(r){try{return new v2(this.firestore,ca(this._delegate,function(c){return ff("limit",c),new wf("limit",c,"F")}(r)))}catch(a){throw F2(a,"limit()","Query.limit()")}}limitToLast(r){try{return new v2(this.firestore,ca(this._delegate,function(c){return ff("limitToLast",c),new wf("limitToLast",c,"L")}(r)))}catch(a){throw F2(a,"limitToLast()","Query.limitToLast()")}}startAt(...r){try{return new v2(this.firestore,ca(this._delegate,function(...c){return new Qu("startAt",c,!0)}(...r)))}catch(a){throw F2(a,"startAt()","Query.startAt()")}}startAfter(...r){try{return new v2(this.firestore,ca(this._delegate,function(...c){return new Qu("startAfter",c,!1)}(...r)))}catch(a){throw F2(a,"startAfter()","Query.startAfter()")}}endBefore(...r){try{return new v2(this.firestore,ca(this._delegate,function(...c){return new Xu("endBefore",c,!0)}(...r)))}catch(a){throw F2(a,"endBefore()","Query.endBefore()")}}endAt(...r){try{return new v2(this.firestore,ca(this._delegate,function(...c){return new Xu("endAt",c,!1)}(...r)))}catch(a){throw F2(a,"endAt()","Query.endAt()")}}isEqual(r){return L0(this._delegate,r._delegate)}get(r){let a;return a="cache"===(null==r?void 0:r.source)?function(c){c=Wn(c,e2);const r=Wn(c.firestore,sr),a=Rr(r),u=new t4(r);return function(c,r){const a=new h2;return c.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){return(u=(0,Ie.Z)(function*(h,g,w){try{const V=yield o0(h,g,!0),B=new bu(g,V.Bn),X=B._o(V.documents),oe=B.applyChanges(X,!1);w.resolve(oe.snapshot)}catch(V){const B=Ga(V,`Failed to execute query '${g} against cache`);w.reject(B)}}),function(h,g,w){return u.apply(this,arguments)})(yield f8(c),r,a);var u})),a.promise}(a,c._query).then(h=>new e4(r,u,c,h))}(this._delegate):"server"===(null==r?void 0:r.source)?function(c){c=Wn(c,e2);const r=Wn(c.firestore,sr),a=Rr(r),u=new t4(r);return d8(a,c._query,{source:"server"}).then(h=>new e4(r,u,c,h))}(this._delegate):function(c){c=Wn(c,e2);const r=Wn(c.firestore,sr),a=Rr(r),u=new t4(r);return Yu(c._query),d8(a,c._query).then(h=>new e4(r,u,c,h))}(this._delegate),a.then(u=>new ts(this.firestore,new e4(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)))}onSnapshot(...r){const a=U8(r),u=v5(r,h=>new ts(this.firestore,new e4(this.firestore._delegate,this._userDataWriter,this._delegate,h._snapshot)));return sc(this._delegate,a,u)}withConverter(r){return new v2(this.firestore,this._delegate.withConverter(r?Xi.getInstance(this.firestore,r):null))}}class B8{constructor(r,a){this._firestore=r,this._delegate=a}get type(){return this._delegate.type}get doc(){return new U0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ts{constructor(r,a){this._firestore=r,this._delegate=a}get query(){return new v2(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(r=>new U0(this._firestore,r))}docChanges(r){return this._delegate.docChanges(r).map(a=>new B8(this._firestore,a))}forEach(r,a){this._delegate.forEach(u=>{r.call(a,new U0(this._firestore,u))})}isEqual(r){return _f(this._delegate,r._delegate)}}class lc extends v2{constructor(r,a){super(r,a),this.firestore=r,this._delegate=a}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const r=this._delegate.parent;return r?new es(this.firestore,r):null}doc(r){try{return new es(this.firestore,void 0===r?g8(this._delegate):g8(this._delegate,r))}catch(a){throw F2(a,"doc()","CollectionReference.doc()")}}add(r){return function(c,r){const a=Wn(c.firestore,sr),u=g8(c),h=p6(c.converter,r);return ua(a,[f6(Ji(c.firestore),"addDoc",u._key,h,null!==c.converter,{}).toMutation(u._key,m1.exists(!1))]).then(()=>u)}(this._delegate,r).then(a=>new es(this.firestore,a))}isEqual(r){return v8(this._delegate,r._delegate)}withConverter(r){return new lc(this.firestore,this._delegate.withConverter(r?Xi.getInstance(this.firestore,r):null))}}function r4(c){return function(c,r){if("_delegate"in c&&(c=c._delegate),!(c instanceof r)){if(r.name===c.constructor.name)throw new g2("invalid-argument","Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=function(c){if(void 0===c)return"undefined";if(null===c)return"null";if("string"==typeof c)return c.length>20&&(c=`${c.substring(0,20)}...`),JSON.stringify(c);if("number"==typeof c||"boolean"==typeof c)return""+c;if("object"==typeof c){if(c instanceof Array)return"an array";{const r=function(c){if(c.constructor){const a=/function\s+([^\s(]+)\s*\(/.exec(c.constructor.toString());if(a&&a.length>1)return a[1]}return null}(c);return r?`a custom ${r} object`:"an object"}}return"function"==typeof c?"a function":V8()}(c);throw new g2("invalid-argument",`Expected type '${r.name}', but it was: ${a}`)}}return c}(c,P1)}function no(c){return function(c,r){const a=Rr(c=Wn(c,sr)),u=new pf;return function(c,r,a,u){const h=function(g,w){let V;return V="string"==typeof g?(new TextEncoder).encode(g):g,B=function(B,X){if(B instanceof Uint8Array)return Ya(B,X);if(B instanceof ArrayBuffer)return Ya(new Uint8Array(B),X);if(B instanceof ReadableStream)return B.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(V),new J7(B,w);var B}(a,F4(r));c.asyncQueue.enqueueAndForget((0,Ie.Z)(function*(){!function(c,r,a){const u=C(c);var h;(h=(0,Ie.Z)(function*(g,w,V){try{const B=yield w.getMetadata();if(yield function(Ze,Ke){const gt=C(Ze),Gt=Qr(Ke.createTime);return gt.persistence.runTransaction("hasNewerBundle","readonly",_n=>gt.Ke.getBundleMetadata(_n,Ke.id)).then(_n=>!!_n&&_n.createTime.compareTo(Gt)>=0)}(g.localStore,B))return yield w.close(),void V._completeWith((Ze=B,{taskState:"Success",documentsLoaded:Ze.totalDocuments,bytesLoaded:Ze.totalBytes,totalDocuments:Ze.totalDocuments,totalBytes:Ze.totalBytes}));V._updateProgress(_u(B));const X=new U7(B,g.localStore,w.R);let oe=yield w.Lo();for(;oe;){const Ze=yield X.oo(oe);Ze&&V._updateProgress(Ze),oe=yield w.Lo()}const Ee=yield X.complete();yield eo(g,Ee.wn,void 0),yield function(Ze,Ke){const gt=C(Ze);return gt.persistence.runTransaction("Save bundle","readwrite",Gt=>gt.Ke.saveBundleMetadata(Gt,Ke))}(g.localStore,B),V._completeWith(Ee.progress)}catch(B){Hi("SyncEngine",`Loading bundle failed with ${B}`),V._failWith(B)}var Ze}),function(g,w,V){return h.apply(this,arguments)})(u,r,a).then(()=>{u.sharedClientState.notifyBundleLoaded()})}(yield x0(c),h,u)}))}(a,c._databaseId,r,u),u}(this._delegate,c)}function Ts(c){return function(c,r){return function(c,r){return c.asyncQueue.enqueue((0,Ie.Z)(function*(){return function(a,u){const h=C(a);return h.persistence.runTransaction("Get named query","readonly",g=>h.Ke.getNamedQuery(g,u))}(yield f8(c),r)}))}(Rr(c=Wn(c,sr)),r).then(a=>a?new e2(c,null,a.query):null)}(this._delegate,c).then(r=>r?new v2(this,r):null)}class B0{constructor(...r){this._delegate=new Ki(...r)}static documentId(){return new B0(fa.keyField().canonicalString())}isEqual(r){return(r=(0,Be.m9)(r))instanceof Ki&&this._delegate._internalPath.isEqual(r._internalPath)}}class ha{constructor(r){this._delegate=r}static serverTimestamp(){const r=new z0("serverTimestamp");return r._methodName="FieldValue.serverTimestamp",new ha(r)}static delete(){const r=new ec("deleteField");return r._methodName="FieldValue.delete",new ha(r)}static arrayUnion(...r){const a=function(...c){return new $u("arrayUnion",c)}(...r);return a._methodName="FieldValue.arrayUnion",new ha(a)}static arrayRemove(...r){const a=function(...c){return new Gu("arrayRemove",c)}(...r);return a._methodName="FieldValue.arrayRemove",new ha(a)}static increment(r){const a=function(c){return new Wu("increment",c)}(r);return a._methodName="FieldValue.increment",new ha(a)}isEqual(r){return this._delegate.isEqual(r._delegate)}}const Pf={Firestore:k8,GeoPoint:So,Timestamp:pe,Blob:y6,Transaction:H8,WriteBatch:F8,DocumentReference:es,DocumentSnapshot:cc,Query:v2,QueryDocumentSnapshot:U0,QuerySnapshot:ts,CollectionReference:lc,FieldPath:B0,FieldValue:ha,setLogLevel:function(c){!function(c){v6.setLogLevel(c)}(c)},CACHE_SIZE_UNLIMITED:-1};function y5(c,r){return function(c,r=T.z){return new Le.y(a=>{let u;return null!=r?r.schedule(()=>{u=c.onSnapshot({includeMetadataChanges:!0},a)}):u=c.onSnapshot({includeMetadataChanges:!0},a),()=>{null!=u&&u()}})}(c,r)}function $8(c,r){return y5(c,r).pipe((0,ce.U)(a=>({payload:a,type:"query"})))}function b6(c,r){return $8(c,r).pipe((0,J.O)(void 0),me(),(0,ce.U)(([a,u])=>{const h=u.payload.docChanges(),g=h.map(w=>({type:w.type,payload:w}));return a&&JSON.stringify(a.payload.metadata)!==JSON.stringify(u.payload.metadata)&&u.payload.docs.forEach((w,V)=>{const B=h.find(oe=>oe.doc.ref.isEqual(w.ref)),X=null==a?void 0:a.payload.docs.find(oe=>oe.ref.isEqual(w.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(w.metadata)||!B&&X&&JSON.stringify(X.metadata)===JSON.stringify(w.metadata)||g.push({type:"modified",payload:{oldIndex:V,newIndex:V,type:"modified",doc:w}})}),g}))}function G8(c,r,a){return b6(c,a).pipe((0,ee.R)((u,h)=>function(c,r,a){return r.forEach(u=>{a.indexOf(u.type)>-1&&(c=function(c,r){switch(r.type){case"added":if(!c[r.newIndex]||!c[r.newIndex].doc.ref.isEqual(r.doc.ref))return W8(c,r.newIndex,0,r);break;case"modified":if(null==c[r.oldIndex]||c[r.oldIndex].doc.ref.isEqual(r.doc.ref)){if(r.oldIndex!==r.newIndex){const a=c.slice();return a.splice(r.oldIndex,1),a.splice(r.newIndex,0,r),a}return W8(c,r.newIndex,1,r)}break;case"removed":if(c[r.oldIndex]&&c[r.oldIndex].doc.ref.isEqual(r.doc.ref))return W8(c,r.oldIndex,1)}return c}(c,u))}),c}(u,h.map(g=>g.payload),r),[]),(0,_e.x)(),(0,ce.U)(u=>u.map(h=>({type:h.type,payload:h}))))}function W8(c,r,a,...u){const h=c.slice();return h.splice(r,a,...u),h}function q8(c){return(!c||0===c.length)&&(c=["added","removed","modified"]),c}(function(c){(function(c){oc=c})(c.SDK_VERSION),function(c,r){c.INTERNAL.registerComponent(new ot.wA("firestore-compat",a=>((r,a)=>new k8(r,a,new Rf))(a.getProvider("app-compat").getImmediate(),a.getProvider("firestore-exp").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Pf)))}(c),c.registerVersion("@firebase/firestore-compat","0.0.900-exp.8b4d7550f")})(Xe.Z),function(c){c.prototype.loadBundle=no,c.prototype.namedQuery=Ts}(k8);class $0{constructor(r,a,u){this.ref=r,this.query=a,this.afs=u}stateChanges(r){let a=b6(this.query,this.afs.schedulers.outsideAngular);return r&&r.length>0&&(a=a.pipe((0,ce.U)(u=>u.filter(h=>r.indexOf(h.type)>-1)))),a.pipe((0,J.O)(void 0),me(),(0,je.h)(([u,h])=>h.length>0||!u),(0,ce.U)(([u,h])=>h),le.iC)}auditTrail(r){return this.stateChanges(r).pipe((0,ee.R)((a,u)=>[...a,...u],[]))}snapshotChanges(r){const a=q8(r);return G8(this.query,a,this.afs.schedulers.outsideAngular).pipe(le.iC)}valueChanges(r={}){return $8(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(a=>a.payload.docs.map(u=>r.idField?Object.assign(Object.assign({},u.data()),{[r.idField]:u.id}):u.data())),le.iC)}get(r){return(0,re.D)(this.query.get(r)).pipe(le.f6)}add(r){return this.ref.add(r)}doc(r){return new w6(this.ref.doc(r),this.afs)}}class w6{constructor(r,a){this.ref=r,this.afs=a}set(r,a){return this.ref.set(r,a)}update(r){return this.ref.update(r)}delete(){return this.ref.delete()}collection(r,a){const u=this.ref.collection(r),{ref:h,query:g}=Y8(u,a);return new $0(h,g,this.afs)}snapshotChanges(){return function(c,r){return y5(c,r).pipe((0,J.O)(void 0),me(),(0,ce.U)(([a,u])=>u.exists?(null==a?void 0:a.exists)?{payload:u,type:"modified"}:{payload:u,type:"added"}:{payload:u,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(le.iC)}valueChanges(r={}){return this.snapshotChanges().pipe((0,ce.U)(({payload:a})=>r.idField?Object.assign(Object.assign({},a.data()),{[r.idField]:a.id}):a.data()))}get(r){return(0,re.D)(this.ref.get(r)).pipe((0,ve.QV)(this.afs.schedulers.insideAngular))}}class b5{constructor(r,a){this.query=r,this.afs=a}stateChanges(r){return r&&0!==r.length?b6(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(a=>a.filter(u=>r.indexOf(u.type)>-1)),(0,je.h)(a=>a.length>0),le.iC):b6(this.query,this.afs.schedulers.outsideAngular).pipe(le.iC)}auditTrail(r){return this.stateChanges(r).pipe((0,ee.R)((a,u)=>[...a,...u],[]))}snapshotChanges(r){const a=q8(r);return G8(this.query,a,this.afs.schedulers.outsideAngular).pipe(le.iC)}valueChanges(r={}){return $8(this.query,this.afs.schedulers.outsideAngular).pipe((0,ce.U)(u=>u.payload.docs.map(h=>r.idField?Object.assign({[r.idField]:h.id},h.data()):h.data())),le.iC)}get(r){return(0,re.D)(this.query.get(r)).pipe(le.f6)}}const Z8=new D.OlP("angularfire2.enableFirestorePersistence"),K8=new D.OlP("angularfire2.firestore.persistenceSettings"),w5=new D.OlP("angularfire2.firestore.settings"),E5=new D.OlP("angularfire2.firestore.use-emulator");function Y8(c,r=(a=>a)){return{query:r(c),ref:c}}let Q8=(()=>{class c{constructor(a,u,h,g,w,V,B,X,oe){this.schedulers=B;const Ee=(0,be.on)(a,V,u),Ze=oe;[this.firestore,this.persistenceEnabled$]=(0,le.cc)(`${Ee.name}.firestore`,"AngularFirestore",Ee.name,()=>{const Ke=V.runOutsideAngular(()=>Ee.firestore());if(g&&Ke.settings(g),Ze&&Ke.useEmulator(...Ze),h&&!(0,Ce.PM)(w)){const gt=()=>{try{return(0,re.D)(Ke.enablePersistence(X||void 0).then(()=>!0,()=>!1))}catch(Gt){return"undefined"!=typeof console&&console.warn(Gt),(0,De.of)(!1)}};return[Ke,V.runOutsideAngular(gt)]}return[Ke,(0,De.of)(!1)]},[g,Ze,h])}collection(a,u){let h;h="string"==typeof a?this.firestore.collection(a):a;const{ref:g,query:w}=Y8(h,u),V=this.schedulers.ngZone.run(()=>g);return new $0(V,w,this)}collectionGroup(a,u){const h=u||(w=>w),g=this.firestore.collectionGroup(a);return new b5(h(g),this)}doc(a){let u;u="string"==typeof a?this.firestore.doc(a):a;const h=this.schedulers.ngZone.run(()=>u);return new w6(h,this)}createId(){return this.firestore.collection("_").doc().id}}return c.\u0275fac=function(a){return new(a||c)(D.LFG(be.Dh),D.LFG(be.xv,8),D.LFG(Z8,8),D.LFG(w5,8),D.LFG(D.Lbi),D.LFG(D.R0b),D.LFG(le.HU),D.LFG(K8,8),D.LFG(E5,8))},c.\u0275prov=D.Yz7({token:c,factory:c.\u0275fac,providedIn:"any"}),c})(),M5=(()=>{class c{static enablePersistence(a){return{ngModule:c,providers:[{provide:Z8,useValue:!0},{provide:K8,useValue:a}]}}}return c.\u0275fac=function(a){return new(a||c)},c.\u0275mod=D.oAB({type:c}),c.\u0275inj=D.cJS({providers:[Q8]}),c})()},6824:(yt,He,U)=>{"use strict";U.d(He,{Q1:()=>yn,TE:()=>zi});var D=U(8891),T=U(5917),Le=U(4402),re=U(7393),De=U(3637);class xe{constructor(z,Z){this.dueTime=z,this.scheduler=Z}call(z,Z){return Z.subscribe(new me(z,this.dueTime,this.scheduler))}}class me extends re.L{constructor(z,Z,ie){super(z),this.dueTime=Z,this.scheduler=ie,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(z){this.clearDebounce(),this.lastValue=z,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ae,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:z}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(z)}}clearDebounce(){const z=this.debouncedSubscription;null!==z&&(this.remove(z),z.unsubscribe(),this.debouncedSubscription=null)}}function ae(H){H.debouncedNext()}var Q=U(8002),J=U(3190),ce=U(7940),ee=U(3018),_e=U(2154),je=U(4486),ve=U(4685),be=U(8239),Ce=U(5452),Xe=U(6034),Be=(()=>{return(H=Be||(Be={}))[H.NO_ERROR=0]="NO_ERROR",H[H.NETWORK_ERROR=1]="NETWORK_ERROR",H[H.ABORT=2]="ABORT",Be;var H})();const Ie="firebasestorage.googleapis.com",mt="storageBucket";class Mt extends ve.ZR{constructor(z,Z){super(Pt(z),`Firebase Storage: ${Z} (${Pt(z)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}_codeEquals(z){return Pt(z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(z){this.customData.serverResponse=z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Pt(H){return"storage/"+H}function ke(){return new Mt("unknown","An unknown error occurred, please check the error payload for server response.")}function _t(){return new Mt("canceled","User canceled the upload/download.")}function tn(){return new Mt("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function At(){return new Mt("no-download-url","The given file does not have any download URLs.")}function Cn(H){return new Mt("invalid-argument",H)}function Ct(){return new Mt("app-deleted","The Firebase app was deleted.")}function zn(H,z){return new Mt("invalid-format","String does not match format '"+H+"': "+z)}function B1(H){throw new Mt("internal-error","Internal error: "+H)}class Xn{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Be.NO_ERROR,this.sendPromise_=new Promise(z=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Be.ABORT,z()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Be.NETWORK_ERROR,z()}),this.xhr_.addEventListener("load",()=>{z()})})}send(z,Z,ie,we){if(this.sent_)throw B1("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(Z,z,!0),void 0!==we)for(const qe in we)we.hasOwnProperty(qe)&&this.xhr_.setRequestHeader(qe,we[qe].toString());return void 0!==ie?this.xhr_.send(ie):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw B1("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw B1("cannot .getStatus() before sending");try{return this.xhr_.status}catch(z){return-1}}getResponseText(){if(!this.sent_)throw B1("cannot .getResponseText() before sending");return this.xhr_.responseText}abort(){this.xhr_.abort()}getResponseHeader(z){return this.xhr_.getResponseHeader(z)}addUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",z)}removeUploadProgressListener(z){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",z)}}class e1{createConnection(){return new Xn}}class wn{constructor(z,Z){this.bucket=z,this.path_=Z}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const z=encodeURIComponent;return"/b/"+z(this.bucket)+"/o/"+z(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(z,Z){let ie;try{ie=wn.makeFromUrl(z,Z)}catch(we){return new wn(z,"")}if(""===ie.path)return ie;throw new Mt("invalid-default-bucket","Invalid default bucket '"+z+"'.")}static makeFromUrl(z,Z){let ie=null;const we="([A-Za-z0-9.\\-_]+)",$t=new RegExp("^gs://"+we+"(/(.*))?$","i");function Tt(l1){l1.path_=decodeURIComponent(l1.path)}const jt=Z.replace(/[.]/g,"\\."),yr=[{regex:$t,indices:{bucket:1,path:3},postModify:function(l1){"/"===l1.path.charAt(l1.path.length-1)&&(l1.path_=l1.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${jt}/v[A-Za-z0-9_]+/b/${we}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:Tt},{regex:new RegExp(`^https?://${Z===Ie?"(?:storage.googleapis.com|storage.cloud.google.com)":Z}/${we}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:Tt}];for(let l1=0;l1<yr.length;l1++){const di=yr[l1],_r=di.regex.exec(z);if(_r){let ls=_r[di.indices.path];ls||(ls=""),ie=new wn(_r[di.indices.bucket],ls),di.postModify(ie);break}}if(null==ie)throw new Mt("invalid-url","Invalid URL '"+z+"'.");return ie}}class Nn{constructor(z){this.promise_=Promise.reject(z)}getPromise(){return this.promise_}cancel(z=!1){}}function h1(H){return"string"==typeof H||H instanceof String}function _2(H){return Rt()&&H instanceof Blob}function Rt(){return"undefined"!=typeof Blob}function et(H,z,Z,ie){if(ie<z)throw Cn(`Invalid value for '${H}'. Expected ${z} or greater.`);if(ie>Z)throw Cn(`Invalid value for '${H}'. Expected ${Z} or less.`)}function vn(H,z){const Z=z.match(/^(\w+):\/\/.+/);let we=z;return null==(null==Z?void 0:Z[1])&&(we=`https://${z}`),`${we}/v0${H}`}function Hn(H){const z=encodeURIComponent;let Z="?";for(const ie in H)H.hasOwnProperty(ie)&&(Z=Z+(z(ie)+"=")+z(H[ie])+"&");return Z=Z.slice(0,-1),Z}class Zn{constructor(z,Z,ie,we,qe,Je,$t,dt,Tt,cn,jt){this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=z,this.method_=Z,this.headers_=ie,this.body_=we,this.successCodes_=qe.slice(),this.additionalRetryCodes_=Je.slice(),this.callback_=$t,this.errorCallback_=dt,this.progressCallback_=cn,this.timeout_=Tt,this.pool_=jt,this.promise_=new Promise((Gn,fr)=>{this.resolve_=Gn,this.reject_=fr,this.start_()})}start_(){const z=this;function ie(we,qe){const Je=z.resolve_,$t=z.reject_,dt=qe.connection;if(qe.wasSuccessCode)try{const Tt=z.callback_(dt,dt.getResponseText());void 0!==Tt?Je(Tt):Je()}catch(Tt){$t(Tt)}else if(null!==dt){const Tt=ke();Tt.serverResponse=dt.getResponseText(),$t(z.errorCallback_?z.errorCallback_(dt,Tt):Tt)}else $t(qe.canceled?z.appDelete_?Ct():_t():new Mt("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?ie(0,new dn(!1,null,!0)):this.backoffId_=function(H,z,Z){let ie=1,we=null,qe=!1,Je=0;function $t(){return 2===Je}let dt=!1;function Tt(...s1){dt||(dt=!0,z.apply(null,s1))}function cn(s1){we=setTimeout(()=>{we=null,H(jt,$t())},s1)}function jt(s1,...Or){if(dt)return;if(s1)return void Tt.call(null,s1,...Or);if($t()||qe)return void Tt.call(null,s1,...Or);let kr;ie<64&&(ie*=2),1===Je?(Je=2,kr=0):kr=1e3*(ie+Math.random()),cn(kr)}let Gn=!1;function fr(s1){Gn||(Gn=!0,!dt&&(null!==we?(s1||(Je=2),clearTimeout(we),cn(0)):s1||(Je=1)))}return cn(0),setTimeout(()=>{qe=!0,fr(!0)},Z),fr}(function(we,qe){if(qe)return void we(!1,new dn(!1,null,!0));const Je=z.pool_.createConnection();function $t(dt){null!==z.progressCallback_&&z.progressCallback_(dt.loaded,dt.lengthComputable?dt.total:-1)}z.pendingConnection_=Je,null!==z.progressCallback_&&Je.addUploadProgressListener($t),Je.send(z.url_,z.method_,z.body_,z.headers_).then(()=>{null!==z.progressCallback_&&Je.removeUploadProgressListener($t),z.pendingConnection_=null;const dt=Je.getErrorCode()===Be.NO_ERROR,Tt=Je.getStatus();if(!dt||z.isRetryStatusCode_(Tt)){const jt=Je.getErrorCode()===Be.ABORT;return void we(!1,new dn(!1,null,jt))}const cn=-1!==z.successCodes_.indexOf(Tt);we(!0,new dn(cn,Je))})},ie,this.timeout_)}getPromise(){return this.promise_}cancel(z){this.canceled_=!0,this.appDelete_=z||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(z){const Z=z>=500&&z<600,we=-1!==[408,429].indexOf(z),qe=-1!==this.additionalRetryCodes_.indexOf(z);return Z||we||qe}}class dn{constructor(z,Z,ie){this.wasSuccessCode=z,this.connection=Z,this.canceled=!!ie}}function o1(...H){const z="undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0;if(void 0!==z){const Z=new z;for(let ie=0;ie<H.length;ie++)Z.append(H[ie]);return Z.getBlob()}if(Rt())return new Blob(H);throw new Mt("unsupported-environment","This browser doesn't seem to support creating Blobs")}class ge{constructor(z,Z){this.data=z,this.contentType=Z||null}}function Te(H){const z=[];for(let Z=0;Z<H.length;Z++){let ie=H.charCodeAt(Z);ie<=127?z.push(ie):ie<=2047?z.push(192|ie>>6,128|63&ie):55296==(64512&ie)?Z<H.length-1&&56320==(64512&H.charCodeAt(Z+1))?(ie=65536|(1023&ie)<<10|1023&H.charCodeAt(++Z),z.push(240|ie>>18,128|ie>>12&63,128|ie>>6&63,128|63&ie)):z.push(239,191,189):56320==(64512&ie)?z.push(239,191,189):z.push(224|ie>>12,128|ie>>6&63,128|63&ie)}return new Uint8Array(z)}function pt(H,z){switch(H){case"base64":{const we=-1!==z.indexOf("-"),qe=-1!==z.indexOf("_");if(we||qe)throw zn(H,"Invalid character '"+(we?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const we=-1!==z.indexOf("+"),qe=-1!==z.indexOf("/");if(we||qe)throw zn(H,"Invalid character '"+(we?"+":"/")+"' found: is it base64 encoded?");z=z.replace(/-/g,"+").replace(/_/g,"/");break}}let Z;try{Z=function(H){return atob(H)}(z)}catch(we){throw zn(H,"Invalid character found")}const ie=new Uint8Array(Z.length);for(let we=0;we<Z.length;we++)ie[we]=Z.charCodeAt(we);return ie}class ln{constructor(z){this.base64=!1,this.contentType=null;const Z=z.match(/^data:([^,]+)?,/);if(null===Z)throw zn("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const ie=Z[1]||null;null!=ie&&(this.base64=function(H,z){return H.length>=z.length&&H.substring(H.length-z.length)===z}(ie,";base64"),this.contentType=this.base64?ie.substring(0,ie.length-";base64".length):ie),this.rest=z.substring(z.indexOf(",")+1)}}class Bn{constructor(z,Z){let ie=0,we="";_2(z)?(this.data_=z,ie=z.size,we=z.type):z instanceof ArrayBuffer?(Z?this.data_=new Uint8Array(z):(this.data_=new Uint8Array(z.byteLength),this.data_.set(new Uint8Array(z))),ie=this.data_.length):z instanceof Uint8Array&&(Z?this.data_=z:(this.data_=new Uint8Array(z.length),this.data_.set(z)),ie=z.length),this.size_=ie,this.type_=we}size(){return this.size_}type(){return this.type_}slice(z,Z){if(_2(this.data_)){const we=function(H,z,Z){return H.webkitSlice?H.webkitSlice(z,Z):H.mozSlice?H.mozSlice(z,Z):H.slice?H.slice(z,Z):null}(this.data_,z,Z);return null===we?null:new Bn(we)}{const ie=new Uint8Array(this.data_.buffer,z,Z-z);return new Bn(ie,!0)}}static getBlob(...z){if(Rt()){const Z=z.map(ie=>ie instanceof Bn?ie.data_:ie);return new Bn(o1.apply(null,Z))}{const Z=z.map(Je=>h1(Je)?function(H,z){switch(H){case"raw":return new ge(Te(z));case"base64":case"base64url":return new ge(pt(H,z));case"data_url":return new ge(function(H){const z=new ln(H);return z.base64?pt("base64",z.rest):function(H){let z;try{z=decodeURIComponent(H)}catch(Z){throw zn("data_url","Malformed data URL.")}return Te(z)}(z.rest)}(z),function(H){return new ln(H).contentType}(z))}throw ke()}("raw",Je).data:Je.data_);let ie=0;Z.forEach(Je=>{ie+=Je.byteLength});const we=new Uint8Array(ie);let qe=0;return Z.forEach(Je=>{for(let $t=0;$t<Je.length;$t++)we[qe++]=Je[$t]}),new Bn(we,!0)}}uploadData(){return this.data_}}function kn(H){let z;try{z=JSON.parse(H)}catch(Z){return null}return function(H){return"object"==typeof H&&!Array.isArray(H)}(z)?z:null}function b2(H){const z=H.lastIndexOf("/",H.length-2);return-1===z?H:H.slice(z+1)}function Ai(H,z){return z}class _1{constructor(z,Z,ie,we){this.server=z,this.local=Z||z,this.writable=!!ie,this.xform=we||Ai}}let $r=null;function Q1(){if($r)return $r;const H=[];H.push(new _1("bucket")),H.push(new _1("generation")),H.push(new _1("metageneration")),H.push(new _1("name","fullPath",!0));const Z=new _1("name");Z.xform=function(qe,Je){return function(H){return!h1(H)||H.length<2?H:b2(H)}(Je)},H.push(Z);const we=new _1("size");return we.xform=function(qe,Je){return void 0!==Je?Number(Je):Je},H.push(we),H.push(new _1("timeCreated")),H.push(new _1("updated")),H.push(new _1("md5Hash",null,!0)),H.push(new _1("cacheControl",null,!0)),H.push(new _1("contentDisposition",null,!0)),H.push(new _1("contentEncoding",null,!0)),H.push(new _1("contentLanguage",null,!0)),H.push(new _1("contentType",null,!0)),H.push(new _1("metadata","customMetadata",!0)),$r=H,$r}function n2(H,z,Z){const ie=kn(z);return null===ie?null:function(H,z,Z){const ie={type:"file"},we=Z.length;for(let qe=0;qe<we;qe++){const Je=Z[qe];ie[Je.local]=Je.xform(ie,z[Je.server])}return function(H,z){Object.defineProperty(H,"ref",{get:function(){const qe=new wn(H.bucket,H.fullPath);return z._makeStorageReference(qe)}})}(ie,H),ie}(H,ie,Z)}function Rn(H,z){const Z={},ie=z.length;for(let we=0;we<ie;we++){const qe=z[we];qe.writable&&(Z[qe.server]=H[qe.local])}return JSON.stringify(Z)}const Ir="prefixes";class jn{constructor(z,Z,ie,we){this.url=z,this.method=Z,this.handler=ie,this.timeout=we,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function ct(H){if(!H)throw ke()}function St(H,z){return function(ie,we){const qe=n2(H,we,z);return ct(null!==qe),qe}}function C1(H){return function(Z,ie){let we;return we=401===Z.getStatus()?Z.getResponseText().includes("Firebase App Check token is invalid")?new Mt("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Mt("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===Z.getStatus()?function(H){return new Mt("quota-exceeded","Quota for bucket '"+H+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(H.bucket):403===Z.getStatus()?function(H){return new Mt("unauthorized","User does not have permission to access '"+H+"'.")}(H.path):ie,we.serverResponse=ie.serverResponse,we}}function $n(H){const z=C1(H);return function(ie,we){let qe=z(ie,we);return 404===ie.getStatus()&&(qe=function(H){return new Mt("object-not-found","Object '"+H+"' does not exist.")}(H.path)),qe.serverResponse=we.serverResponse,qe}}function x1(H,z,Z){const we=vn(z.fullServerUrl(),H.host),Je=H.maxOperationRetryTime,$t=new jn(we,"GET",St(H,Z),Je);return $t.errorHandler=$n(z),$t}function Vn(H,z,Z,ie,we){const qe={};qe.prefix=z.isRoot?"":z.path+"/",Z&&Z.length>0&&(qe.delimiter=Z),ie&&(qe.pageToken=ie),we&&(qe.maxResults=we);const $t=vn(z.bucketOnlyServerUrl(),H.host),Tt=H.maxOperationRetryTime,cn=new jn($t,"GET",function(H,z){return function(ie,we){const qe=function(H,z,Z){const ie=kn(Z);return null===ie?null:function(H,z,Z){const ie={prefixes:[],items:[],nextPageToken:Z.nextPageToken};if(Z[Ir])for(const we of Z[Ir]){const qe=we.replace(/\/$/,""),Je=H._makeStorageReference(new wn(z,qe));ie.prefixes.push(Je)}if(Z.items)for(const we of Z.items){const qe=H._makeStorageReference(new wn(z,we.name));ie.items.push(qe)}return ie}(H,z,ie)}(H,z,we);return ct(null!==qe),qe}}(H,z.bucket),Tt);return cn.urlParams=qe,cn.errorHandler=C1(z),cn}function mr(H,z,Z){const we=vn(z.fullServerUrl(),H.host),Je=H.maxOperationRetryTime,$t=new jn(we,"GET",function(H,z){return function(ie,we){const qe=n2(H,we,z);return ct(null!==qe),function(H,z,Z){const ie=kn(z);if(null===ie||!h1(ie.downloadTokens))return null;const we=ie.downloadTokens;if(0===we.length)return null;const qe=encodeURIComponent;return we.split(",").map(dt=>{const cn=H.fullPath;return vn("/b/"+qe(H.bucket)+"/o/"+qe(cn),Z)+Hn({alt:"media",token:dt})})[0]}(qe,we,H.host)}}(H,Z),Je);return $t.errorHandler=$n(z),$t}function ai(H,z,Z,ie){const qe=vn(z.fullServerUrl(),H.host),$t=Rn(Z,ie),Tt=H.maxOperationRetryTime,cn=new jn(qe,"PATCH",St(H,ie),Tt);return cn.headers={"Content-Type":"application/json; charset=utf-8"},cn.body=$t,cn.errorHandler=$n(z),cn}function en(H,z){const ie=vn(z.fullServerUrl(),H.host),$t=new jn(ie,"DELETE",function(dt,Tt){},H.maxOperationRetryTime);return $t.successCodes=[200,204],$t.errorHandler=$n(z),$t}function xr(H,z,Z){const ie=Object.assign({},Z);return ie.fullPath=H.path,ie.size=z.size(),ie.contentType||(ie.contentType=function(H,z){return z&&z.type()||"application/octet-stream"}(0,z)),ie}class gr{constructor(z,Z,ie,we){this.current=z,this.total=Z,this.finalized=!!ie,this.metadata=we||null}}function O1(H,z){let Z=null;try{Z=H.getResponseHeader("X-Goog-Upload-Status")}catch(we){ct(!1)}return ct(!!Z&&-1!==(z||["active"]).indexOf(Z)),Z}function k1(H){switch(H){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";case"error":default:return"error"}}class cr{constructor(z,Z,ie){if("function"==typeof z||null!=Z||null!=ie)this.next=z,this.error=Z,this.complete=ie;else{const qe=z;this.next=qe.next,this.error=qe.error,this.complete=qe.complete}}}function Tr(H){return(...z)=>{Promise.resolve().then(()=>H(...z))}}class j2{constructor(z,Z,ie=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=z,this._blob=Z,this._metadata=ie,this._mappings=Q1(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=we=>{this._request=void 0,this._chunkMultiplier=1,we._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=we,this._transition("error"))},this._metadataErrorHandler=we=>{this._request=void 0,we._codeEquals("canceled")?this.completeTransitions_():(this._error=we,this._transition("error"))},this._promise=new Promise((we,qe)=>{this._resolve=we,this._reject=qe,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const z=this._transferred;return Z=>this._updateProgress(z+Z)}_shouldDoResumable(z){return z.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(z){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([Z,ie])=>{switch(this._state){case"running":z(Z,ie);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((z,Z)=>{const ie=function(H,z,Z,ie,we){const qe=z.bucketOnlyServerUrl(),Je=xr(z,ie,we),$t={name:Je.fullPath},dt=vn(qe,H.host),cn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ie.size()}`,"X-Goog-Upload-Header-Content-Type":Je.contentType,"Content-Type":"application/json; charset=utf-8"},jt=Rn(Je,Z),s1=new jn(dt,"POST",function(Or){let Zr;O1(Or);try{Zr=Or.getResponseHeader("X-Goog-Upload-URL")}catch(kr){ct(!1)}return ct(h1(Zr)),Zr},H.maxUploadRetryTime);return s1.urlParams=$t,s1.headers=cn,s1.body=jt,s1.errorHandler=C1(z),s1}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),we=this._ref.storage._makeRequest(ie,z,Z);this._request=we,we.getPromise().then(qe=>{this._request=void 0,this._uploadUrl=qe,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const z=this._uploadUrl;this._resolveToken((Z,ie)=>{const we=function(H,z,Z,ie){const dt=new jn(Z,"POST",function(Tt){const cn=O1(Tt,["active","final"]);let jt=null;try{jt=Tt.getResponseHeader("X-Goog-Upload-Size-Received")}catch(fr){ct(!1)}jt||ct(!1);const Gn=Number(jt);return ct(!isNaN(Gn)),new gr(Gn,ie.size(),"final"===cn)},H.maxUploadRetryTime);return dt.headers={"X-Goog-Upload-Command":"query"},dt.errorHandler=C1(z),dt}(this._ref.storage,this._ref._location,z,this._blob),qe=this._ref.storage._makeRequest(we,Z,ie);this._request=qe,qe.getPromise().then(Je=>{Je=Je,this._request=void 0,this._updateProgress(Je.current),this._needToFetchStatus=!1,Je.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const z=262144*this._chunkMultiplier,Z=new gr(this._transferred,this._blob.size()),ie=this._uploadUrl;this._resolveToken((we,qe)=>{let Je;try{Je=function(H,z,Z,ie,we,qe,Je,$t){const dt=new gr(0,0);if(Je?(dt.current=Je.current,dt.total=Je.total):(dt.current=0,dt.total=ie.size()),ie.size()!==dt.total)throw new Mt("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const Tt=dt.total-dt.current;let cn=Tt;we>0&&(cn=Math.min(cn,we));const jt=dt.current,s1={"X-Goog-Upload-Command":cn===Tt?"upload, finalize":"upload","X-Goog-Upload-Offset":`${dt.current}`},Or=ie.slice(jt,jt+cn);if(null===Or)throw tn();const yr=new jn(Z,"POST",function(l1,di){const _r=O1(l1,["active","final"]),Ri=dt.current+cn,ls=ie.size();let Y2;return Y2="final"===_r?St(z,qe)(l1,di):null,new gr(Ri,ls,"final"===_r,Y2)},z.maxUploadRetryTime);return yr.headers=s1,yr.body=Or.uploadData(),yr.progressCallback=$t||null,yr.errorHandler=C1(H),yr}(this._ref._location,this._ref.storage,ie,this._blob,z,this._mappings,Z,this._makeProgressCallback())}catch(dt){return this._error=dt,void this._transition("error")}const $t=this._ref.storage._makeRequest(Je,we,qe);this._request=$t,$t.getPromise().then(dt=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(dt.current),dt.finalized?(this._metadata=dt.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((z,Z)=>{const ie=x1(this._ref.storage,this._ref._location,this._mappings),we=this._ref.storage._makeRequest(ie,z,Z);this._request=we,we.getPromise().then(qe=>{this._request=void 0,this._metadata=qe,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((z,Z)=>{const ie=function(H,z,Z,ie,we){const qe=z.bucketOnlyServerUrl(),Je={"X-Goog-Upload-Protocol":"multipart"},dt=function(){let yr="";for(let l1=0;l1<2;l1++)yr+=Math.random().toString().slice(2);return yr}();Je["Content-Type"]="multipart/related; boundary="+dt;const Tt=xr(z,ie,we),cn=Rn(Tt,Z),fr=Bn.getBlob("--"+dt+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+cn+"\r\n--"+dt+"\r\nContent-Type: "+Tt.contentType+"\r\n\r\n",ie,"\r\n--"+dt+"--");if(null===fr)throw tn();const s1={name:Tt.fullPath},Or=vn(qe,H.host),kr=H.maxUploadRetryTime,Kr=new jn(Or,"POST",St(H,Z),kr);return Kr.urlParams=s1,Kr.headers=Je,Kr.body=fr.uploadData(),Kr.errorHandler=C1(z),Kr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),we=this._ref.storage._makeRequest(ie,z,Z);this._request=we,we.getPromise().then(qe=>{this._request=void 0,this._metadata=qe,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(z){const Z=this._transferred;this._transferred=z,this._transferred!==Z&&this._notifyObservers()}_transition(z){if(this._state!==z)switch(z){case"canceling":case"pausing":this._state=z,void 0!==this._request&&this._request.cancel();break;case"running":const Z="paused"===this._state;this._state=z,Z&&(this._notifyObservers(),this._start());break;case"paused":this._state=z,this._notifyObservers();break;case"canceled":this._error=_t(),this._state=z,this._notifyObservers();break;case"error":case"success":this._state=z,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const z=k1(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:z,metadata:this._metadata,task:this,ref:this._ref}}on(z,Z,ie,we){const qe=new cr(Z,ie,we);return this._addObserver(qe),()=>{this._removeObserver(qe)}}then(z,Z){return this._promise.then(z,Z)}catch(z){return this.then(null,z)}_addObserver(z){this._observers.push(z),this._notifyObserver(z)}_removeObserver(z){const Z=this._observers.indexOf(z);-1!==Z&&this._observers.splice(Z,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(Z=>{this._notifyObserver(Z)})}_finishPromise(){if(void 0!==this._resolve){let z=!0;switch(k1(this._state)){case"success":Tr(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":Tr(this._reject.bind(null,this._error))();break;default:z=!1}z&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(z){switch(k1(this._state)){case"running":case"paused":z.next&&Tr(z.next.bind(z,this.snapshot))();break;case"success":z.complete&&Tr(z.complete.bind(z))();break;case"canceled":case"error":z.error&&Tr(z.error.bind(z,this._error))();break;default:z.error&&Tr(z.error.bind(z,this._error))()}}resume(){const z="paused"===this._state||"pausing"===this._state;return z&&this._transition("running"),z}pause(){const z="running"===this._state;return z&&this._transition("pausing"),z}cancel(){const z="running"===this._state||"pausing"===this._state;return z&&this._transition("canceling"),z}}class Pn{constructor(z,Z){this._service=z,this._location=Z instanceof wn?Z:wn.makeFromUrl(Z,z.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(z,Z){return new Pn(z,Z)}get root(){const z=new wn(this._location.bucket,"");return this._newRef(this._service,z)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return b2(this._location.path)}get storage(){return this._service}get parent(){const z=function(H){if(0===H.length)return null;const z=H.lastIndexOf("/");return-1===z?"":H.slice(0,z)}(this._location.path);if(null===z)return null;const Z=new wn(this._location.bucket,z);return new Pn(this._service,Z)}_throwIfRoot(z){if(""===this._location.path)throw new Mt("invalid-root-operation","The operation '"+z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}function Kn(H,z,Z){return X1.apply(this,arguments)}function X1(){return(X1=(0,be.Z)(function*(H,z,Z){const we=yield s2(H,{pageToken:Z});z.prefixes.push(...we.prefixes),z.items.push(...we.items),null!=we.nextPageToken&&(yield Kn(H,z,we.nextPageToken))})).apply(this,arguments)}function s2(H,z){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,be.Z)(function*(H,z){null!=z&&"number"==typeof z.maxResults&&et("options.maxResults",1,1e3,z.maxResults);const Z=z||{},ie=Vn(H.storage,H._location,"/",Z.pageToken,Z.maxResults);return(yield H.storage.makeRequestWithTokens(ie)).getPromise()})).apply(this,arguments)}function D1(){return(D1=(0,be.Z)(function*(H){H._throwIfRoot("getMetadata");const z=x1(H.storage,H._location,Q1());return(yield H.storage.makeRequestWithTokens(z)).getPromise()})).apply(this,arguments)}function N1(){return(N1=(0,be.Z)(function*(H,z){H._throwIfRoot("updateMetadata");const Z=ai(H.storage,H._location,z,Q1());return(yield H.storage.makeRequestWithTokens(Z)).getPromise()})).apply(this,arguments)}function li(){return(li=(0,be.Z)(function*(H){H._throwIfRoot("getDownloadURL");const z=mr(H.storage,H._location,Q1());return(yield H.storage.makeRequestWithTokens(z)).getPromise().then(Z=>{if(null===Z)throw At();return Z})})).apply(this,arguments)}function tr(){return(tr=(0,be.Z)(function*(H){H._throwIfRoot("deleteObject");const z=en(H.storage,H._location);return(yield H.storage.makeRequestWithTokens(z)).getPromise()})).apply(this,arguments)}function Pr(H,z){const Z=function(H,z){const Z=z.split("/").filter(ie=>ie.length>0).join("/");return 0===H.length?Z:H+"/"+Z}(H._location.path,z),ie=new wn(H._location.bucket,Z);return new Pn(H.storage,ie)}function ui(H,z){if(H instanceof fi){const Z=H;if(null==Z._bucket)throw new Mt("no-default-bucket","No default bucket found. Did you set the '"+mt+"' property when initializing the app?");const ie=new Pn(Z,Z._bucket);return null!=z?ui(ie,z):ie}if(void 0!==z){if(z.includes(".."))throw Cn('`path` param cannot contain ".."');return Pr(H,z)}return H}function xi(H,z){if(z&&function(H){return/^[A-Za-z]+:\/\//.test(H)}(z)){if(H instanceof fi)return function(H,z){return new Pn(H,z)}(H,z);throw Cn("To use ref(service, url), the first argument must be a Storage instance.")}return ui(H,z)}function Ti(H,z){const Z=null==z?void 0:z[mt];return null==Z?null:wn.makeFromBucketSpec(Z,H)}class fi{constructor(z,Z,ie,we,qe,Je){this.app=z,this._authProvider=Z,this._appCheckProvider=ie,this._pool=we,this._url=qe,this._firebaseVersion=Je,this._bucket=null,this._host=Ie,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=qe?wn.makeFromBucketSpec(qe,this._host):Ti(this._host,this.app.options)}get host(){return this._host}set host(z){this._host=z,this._bucket=null!=this._url?wn.makeFromBucketSpec(this._url,z):Ti(z,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(z){et("time",0,Number.POSITIVE_INFINITY,z),this._maxUploadRetryTime=z}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(z){et("time",0,Number.POSITIVE_INFINITY,z),this._maxOperationRetryTime=z}_getAuthToken(){var z=this;return(0,be.Z)(function*(){const Z=z._authProvider.getImmediate({optional:!0});if(Z){const ie=yield Z.getToken();if(null!==ie)return ie.accessToken}return null})()}_getAppCheckToken(){var z=this;return(0,be.Z)(function*(){const Z=z._appCheckProvider.getImmediate({optional:!0});return Z?(yield Z.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(z=>z.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(z){return new Pn(this,z)}_makeRequest(z,Z,ie){if(this._deleted)return new Nn(Ct());{const we=function(H,z,Z,ie,we,qe){const Je=Hn(H.urlParams),$t=H.url+Je,dt=Object.assign({},H.headers);return function(H,z){z&&(H["X-Firebase-GMPID"]=z)}(dt,z),function(H,z){null!==z&&z.length>0&&(H.Authorization="Firebase "+z)}(dt,Z),function(H,z){H["X-Firebase-Storage-Version"]="webjs/"+(null!=z?z:"AppManager")}(dt,qe),function(H,z){null!==z&&(H["X-Firebase-AppCheck"]=z)}(dt,ie),new Zn($t,H.method,dt,H.body,H.successCodes,H.additionalRetryCodes,H.handler,H.errorHandler,H.timeout,H.progressCallback,we)}(z,this._appId,Z,ie,this._pool,this._firebaseVersion);return this._requests.add(we),we.getPromise().then(()=>this._requests.delete(we),()=>this._requests.delete(we)),we}}makeRequestWithTokens(z){var Z=this;return(0,be.Z)(function*(){const[ie,we]=yield Promise.all([Z._getAuthToken(),Z._getAppCheckToken()]);return Z._makeRequest(z,ie,we)})()}}function lr(H,z){return xi(H=(0,ve.m9)(H),z)}(0,Ce._registerComponent)(new Xe.wA("storage-exp",function(H,{instanceIdentifier:z}){const Z=H.getProvider("app-exp").getImmediate(),ie=H.getProvider("auth-internal"),we=H.getProvider("app-check-internal");return new fi(Z,ie,we,new e1,z,Ce.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Ce.registerVersion)("@firebase/storage","0.0.900-exp.8b4d7550f");class ur extends ve.ZR{constructor(z,Z){super(a1(z),`Firebase Storage: ${Z} (${a1(z)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ur.prototype)}_codeEquals(z){return a1(z)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(z){this.customData.serverResponse=z,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function a1(H){return"storage/"+H}function P(H){return new ur("invalid-argument",H)}function O(H,z){return new ur("invalid-format","String does not match format '"+H+"': "+z)}const fe={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class ze{constructor(z,Z){this.data=z,this.contentType=Z||null}}function xt(H){const z=[];for(let Z=0;Z<H.length;Z++){let ie=H.charCodeAt(Z);ie<=127?z.push(ie):ie<=2047?z.push(192|ie>>6,128|63&ie):55296==(64512&ie)?Z<H.length-1&&56320==(64512&H.charCodeAt(Z+1))?(ie=65536|(1023&ie)<<10|1023&H.charCodeAt(++Z),z.push(240|ie>>18,128|ie>>12&63,128|ie>>6&63,128|63&ie)):z.push(239,191,189):56320==(64512&ie)?z.push(239,191,189):z.push(224|ie>>12,128|ie>>6&63,128|63&ie)}return new Uint8Array(z)}function Bt(H,z){switch(H){case fe.BASE64:{const we=-1!==z.indexOf("-"),qe=-1!==z.indexOf("_");if(we||qe)throw O(H,"Invalid character '"+(we?"-":"_")+"' found: is it base64url encoded?");break}case fe.BASE64URL:{const we=-1!==z.indexOf("+"),qe=-1!==z.indexOf("/");if(we||qe)throw O(H,"Invalid character '"+(we?"+":"/")+"' found: is it base64 encoded?");z=z.replace(/-/g,"+").replace(/_/g,"/");break}}let Z;try{Z=function(H){return atob(H)}(z)}catch(we){throw O(H,"Invalid character found")}const ie=new Uint8Array(Z.length);for(let we=0;we<Z.length;we++)ie[we]=Z.charCodeAt(we);return ie}class On{constructor(z){this.base64=!1,this.contentType=null;const Z=z.match(/^data:([^,]+)?,/);if(null===Z)throw O(fe.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ie=Z[1]||null;null!=ie&&(this.base64=function(H,z){return H.length>=z.length&&H.substring(H.length-z.length)===z}(ie,";base64"),this.contentType=this.base64?ie.substring(0,ie.length-";base64".length):ie),this.rest=z.substring(z.indexOf(",")+1)}}const c1={STATE_CHANGED:"state_changed"},qr={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};class w1{constructor(z,Z,ie){this._delegate=z,this.task=Z,this.ref=ie}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class i1{constructor(z,Z){this._delegate=z,this._ref=Z,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new w1(this._delegate.snapshot,this,this._ref)}then(z,Z){return this._delegate.then(ie=>{if(z)return z(new w1(ie,this,this._ref))},Z)}on(z,Z,ie,we){let qe;return Z&&(qe="function"==typeof Z?Je=>Z(new w1(Je,this,this._ref)):{next:Z.next?Je=>Z.next(new w1(Je,this,this._ref)):void 0,complete:Z.complete||void 0,error:Z.error||void 0}),this._delegate.on(z,qe,ie||void 0,we||void 0)}}class Lr{constructor(z,Z){this._delegate=z,this._service=Z}get prefixes(){return this._delegate.prefixes.map(z=>new H1(z,this._service))}get items(){return this._delegate.items.map(z=>new H1(z,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class H1{constructor(z,Z){this._delegate=z,this.storage=Z}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(z){const Z=function(H,z){return Pr(H,z)}(this._delegate,z);return new H1(Z,this.storage)}get root(){return new H1(this._delegate.root,this.storage)}get parent(){const z=this._delegate.parent;return null==z?null:new H1(z,this.storage)}put(z,Z){return this._throwIfRoot("put"),new i1(function(H,z,Z){return function(H,z,Z){return H._throwIfRoot("uploadBytesResumable"),new j2(H,new Bn(z),Z)}(H=(0,ve.m9)(H),z,Z)}(this._delegate,z,Z),this)}putString(z,Z="raw",ie){this._throwIfRoot("putString");const we=function(H,z){switch(H){case fe.RAW:return new ze(xt(z));case fe.BASE64:case fe.BASE64URL:return new ze(Bt(H,z));case fe.DATA_URL:return new ze(function(H){const z=new On(H);return z.base64?Bt(fe.BASE64,z.rest):function(H){let z;try{z=decodeURIComponent(H)}catch(Z){throw O(fe.DATA_URL,"Malformed data URL.")}return xt(z)}(z.rest)}(z),function(H){return new On(H).contentType}(z))}throw new ur("unknown","An unknown error occurred, please check the error payload for server response.")}(Z,z),qe=Object.assign({},ie);return null==qe.contentType&&null!=we.contentType&&(qe.contentType=we.contentType),new i1(new j2(this._delegate,new Bn(we.data,!0),qe),this)}listAll(){return(H=this._delegate,function(H){const z={prefixes:[],items:[]};return Kn(H,z).then(()=>z)}(H=(0,ve.m9)(H))).then(z=>new Lr(z,this.storage));var H}list(z){return function(H,z){return s2(H=(0,ve.m9)(H),z)}(this._delegate,z||void 0).then(Z=>new Lr(Z,this.storage))}getMetadata(){return function(H){return D1.apply(this,arguments)}((0,ve.m9)(this._delegate))}updateMetadata(z){return function(H,z){return function(H,z){return N1.apply(this,arguments)}(H=(0,ve.m9)(H),z)}(this._delegate,z)}getDownloadURL(){return function(H){return li.apply(this,arguments)}((0,ve.m9)(this._delegate))}delete(){return this._throwIfRoot("delete"),function(H){return tr.apply(this,arguments)}((0,ve.m9)(this._delegate))}_throwIfRoot(z){if(""===this._delegate._location.path)throw new ur("invalid-root-operation","The operation '"+z+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}}function zr(H){return/^[A-Za-z]+:\/\//.test(H)}class L1{constructor(z,Z){this.app=z,this._delegate=Z}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(z){if(zr(z))throw P("ref() expected a child path but got a URL, use refFromURL instead.");return new H1(lr(this._delegate,z),this)}refFromURL(z){if(!zr(z))throw P("refFromURL() expected a full URL but got a child path, use ref() instead.");try{wn.makeFromUrl(z,this._delegate.host)}catch(Z){throw P("refFromUrl() expected a valid full URL but got an invalid one.")}return new H1(lr(this._delegate,z),this)}setMaxUploadRetryTime(z){this._delegate.maxUploadRetryTime=z}setMaxOperationRetryTime(z){this._delegate.maxOperationRetryTime=z}useEmulator(z,Z){!function(H,z,Z){!function(H,z,Z){H.host=`http://${z}:${Z}`}(H,z,Z)}(this._delegate,z,Z)}}function cs(H,{instanceIdentifier:z}){const Z=H.getProvider("app-compat").getImmediate(),ie=H.getProvider("storage-exp").getImmediate({identifier:z});return new L1(Z,ie)}function Ps(H){const z=function(H){return new D.y(z=>{const Z=Je=>z.next(Je);Z(H.snapshot);const qe=H.on("state_changed",Z);return H.then(Je=>{Z(Je),z.complete()},Je=>{Z(H.snapshot),(Je=>{z.error(Je)})(Je)}),function(){qe()}}).pipe(function(H,z=De.P){return Z=>Z.lift(new xe(H,z))}(0))}(H);return{task:H,then:H.then.bind(H),catch:H.catch.bind(H),pause:H.pause.bind(H),cancel:H.cancel.bind(H),resume:H.resume.bind(H),snapshotChanges:()=>z,percentageChanges:()=>z.pipe((0,Q.U)(Z=>Z.bytesTransferred/Z.totalBytes*100))}}function Z2(H){return{getDownloadURL:()=>(0,T.of)(void 0).pipe(ce.fc,(0,J.w)(()=>H.getDownloadURL()),ce.iC),getMetadata:()=>(0,T.of)(void 0).pipe(ce.fc,(0,J.w)(()=>H.getMetadata()),ce.iC),delete:()=>(0,Le.D)(H.delete()),child:z=>Z2(H.child(z)),updateMetadata:z=>(0,Le.D)(H.updateMetadata(z)),put:(z,Z)=>Ps(H.put(z,Z)),putString:(z,Z,ie)=>Ps(H.putString(z,Z,ie)),listAll:()=>(0,Le.D)(H.listAll())}}!function(H){const z={TaskState:qr,TaskEvent:c1,StringFormat:fe,Storage:L1,Reference:H1};H.INTERNAL.registerComponent(new Xe.wA("storage",cs,"PUBLIC").setServiceProps(z).setMultipleInstances(!0)),H.registerVersion("@firebase/storage-compat","0.0.900-exp.8b4d7550f")}(je.Z);const Os=new ee.OlP("angularfire2.storageBucket"),Ro=new ee.OlP("angularfire2.storage.maxUploadRetryTime"),Qe=new ee.OlP("angularfire2.storage.maxOperationRetryTime");let yn=(()=>{class H{constructor(Z,ie,we,qe,Je,$t,dt,Tt){const cn=(0,_e.on)(Z,Je,ie);this.storage=(0,ce.cc)(`${cn.name}.storage.${we}`,"AngularFireStorage",cn.name,()=>{const jt=Je.runOutsideAngular(()=>cn.storage(we||void 0));return dt&&jt.setMaxUploadRetryTime(dt),Tt&&jt.setMaxOperationRetryTime(Tt),jt},[dt,Tt])}ref(Z){return Z2(this.storage.ref(Z))}refFromURL(Z){return Z2(this.storage.refFromURL(Z))}upload(Z,ie,we){return Z2(this.storage.ref(Z)).put(ie,we)}}return H.\u0275fac=function(Z){return new(Z||H)(ee.LFG(_e.Dh),ee.LFG(_e.xv,8),ee.LFG(Os,8),ee.LFG(ee.Lbi),ee.LFG(ee.R0b),ee.LFG(ce.HU),ee.LFG(Ro,8),ee.LFG(Qe,8))},H.\u0275prov=ee.Yz7({token:H,factory:H.\u0275fac,providedIn:"any"}),H})(),E1=(()=>{class H{}return H.\u0275fac=function(Z){return new(Z||H)},H.\u0275mod=ee.oAB({type:H}),H.\u0275inj=ee.cJS({}),H})(),zi=(()=>{class H{}return H.\u0275fac=function(Z){return new(Z||H)},H.\u0275mod=ee.oAB({type:H}),H.\u0275inj=ee.cJS({providers:[yn],imports:[E1]}),H})()},2154:(yt,He,U)=>{"use strict";U.d(He,{hO:()=>je,xv:()=>J,Dh:()=>Q,GT:()=>me,on:()=>ce,pX:()=>xe});var D=U(3018),T=U(4486);T.Z.registerVersion("firebase-exp","9.0.0-beta.8","app-compat");var De=U(7940);yt=U.hmd(yt);const le=["ngOnDestroy"],xe=(ve,be,Ce,Xe={})=>new Proxy(ve,{get:(Be,Ie)=>Ce.runOutsideAngular(()=>{var mt;if(ve[Ie])return(null===(mt=null==Xe?void 0:Xe.spy)||void 0===mt?void 0:mt.get)&&Xe.spy.get(Ie,ve[Ie]),ve[Ie];if(le.indexOf(Ie)>-1)return()=>{};const ot=be.toPromise().then(Yt=>{const Mt=Yt&&Yt[Ie];return"function"==typeof Mt?Mt.bind(Yt):Mt&&Mt.then?Mt.then(Pt=>Ce.run(()=>Pt)):Ce.run(()=>Mt)});return new Proxy(()=>{},{get:(Yt,Mt)=>ot[Mt],apply:(Yt,Mt,Pt)=>ot.then(ke=>{var Fe;const ye=ke&&ke(...Pt);return(null===(Fe=null==Xe?void 0:Xe.spy)||void 0===Fe?void 0:Fe.apply)&&Xe.spy.apply(Ie,Pt,ye),ye})})})}),me=(ve,be)=>{be.forEach(Ce=>{Object.getOwnPropertyNames(Ce.prototype||Ce).forEach(Xe=>{Object.defineProperty(ve.prototype,Xe,Object.getOwnPropertyDescriptor(Ce.prototype||Ce,Xe))})})};class ae{constructor(be){return be}}const Q=new D.OlP("angularfire2.app.options"),J=new D.OlP("angularfire2.app.name");function ce(ve,be,Ce){const Be="object"==typeof Ce&&Ce||{};Be.name=Be.name||"string"==typeof Ce&&Ce||"[DEFAULT]";const mt=T.Z.apps.filter(ot=>ot&&ot.name===Be.name)[0]||be.runOutsideAngular(()=>T.Z.initializeApp(ve,Be));try{JSON.stringify(ve)!==JSON.stringify(mt.options)&&ee("error",`${mt.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(ot){}return new ae(mt)}const ee=(ve,...be)=>{(0,D.X6Q)()&&"undefined"!=typeof console&&console[ve](...be)},_e={provide:ae,useFactory:ce,deps:[Q,D.R0b,[new D.FiY,J]]};let je=(()=>{class ve{constructor(Ce){T.Z.registerVersion("angularfire",De.q4.full,`compat-${Ce.toString()}`),T.Z.registerVersion("angular",D.q4F.full)}static initializeApp(Ce,Xe){return{ngModule:ve,providers:[{provide:Q,useValue:Ce},{provide:J,useValue:Xe}]}}}return ve.\u0275fac=function(Ce){return new(Ce||ve)(D.LFG(D.Lbi))},ve.\u0275mod=D.oAB({type:ve}),ve.\u0275inj=D.cJS({providers:[_e]}),ve})()},7940:(yt,He,U)=>{"use strict";U.d(He,{q4:()=>Q,iC:()=>ke,f6:()=>Pt,fc:()=>Mt,HU:()=>Ie,cc:()=>ee});var D=U(3018);(0,U(5452).registerVersion)("firebase-exp","9.0.0-beta.8","app");var De=U(7771),le=U(3637),xe=U(3342),me=U(309),ae=U(3101);yt=U.hmd(yt);const Q=new D.GfV("7.0.0-rc.0"),J=!!yt.hot;function ee(Ae,Ne,lt,_t,vt){const[,at,kt]=globalThis.\u0275AngularfireInstanceCache.find(tn=>tn[0]===Ae)||[];if(at)return vt!==kt&&((Ae,...Ne)=>{(0,D.X6Q)()&&"undefined"!=typeof console&&console[Ae](...Ne)})("error",`${Ne} was already initialized on the ${lt} Firebase App with different settings.${J?" You may need to reload as Firebase is not HMR aware.":""}`),at;{const tn=_t();return globalThis.\u0275AngularfireInstanceCache.push([Ae,tn,vt]),tn}}function Ce(){}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[]);class Xe{constructor(Ne,lt=De.N){this.zone=Ne,this.delegate=lt}now(){return this.delegate.now()}schedule(Ne,lt,_t){const vt=this.zone;return this.delegate.schedule(function(kt){vt.runGuarded(()=>{Ne.apply(this,[kt])})},lt,_t)}}class Be{constructor(Ne){this.zone=Ne,this.task=null}call(Ne,lt){const _t=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ce,{},Ce,Ce)),lt.pipe((0,xe.b)({next:_t,complete:_t,error:_t})).subscribe(Ne).add(_t)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ie=(()=>{class Ae{constructor(lt){this.ngZone=lt,this.outsideAngular=lt.runOutsideAngular(()=>new Xe(Zone.current)),this.insideAngular=lt.run(()=>new Xe(Zone.current,le.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return Ae.\u0275fac=function(lt){return new(lt||Ae)(D.LFG(D.R0b))},Ae.\u0275prov=D.Yz7({token:Ae,factory:Ae.\u0275fac,providedIn:"root"}),Ae})();function mt(){const Ae=globalThis.\u0275AngularFireScheduler;if(!Ae)throw new Error("AngularFireModule has not been provided");return Ae}function Mt(Ae){return Ae.pipe((0,me.QV)(mt().outsideAngular))}function Pt(Ae){return Ae.pipe((0,me.QV)(mt().insideAngular))}function ke(Ae){return mt(),function(Ae){return function(lt){return(lt=lt.lift(new Be(Ae.ngZone))).pipe((0,ae.R)(Ae.outsideAngular),(0,me.QV)(Ae.insideAngular))}}(mt())(Ae)}},174:(yt,He,U)=>{"use strict";U.d(He,{F0:()=>W1,Bz:()=>Ca,lC:()=>q1});var D=U(8583),T=U(3018),Le=U(4869),re=U(9796),De=U(5197),le=U(509),xe=U(6693);const me={};class Q{constructor(C){this.resultSelector=C}call(C,b){return b.subscribe(new J(C,this.resultSelector))}}class J extends De.L{constructor(C,b){super(C),this.resultSelector=b,this.active=0,this.values=[],this.observables=[]}_next(C){this.values.push(me),this.observables.push(C)}_complete(){const C=this.observables,b=C.length;if(0===b)this.destination.complete();else{this.active=b,this.toRespond=b;for(let R=0;R<b;R++)this.add((0,le.D)(this,C[R],void 0,R))}}notifyComplete(C){0==(this.active-=1)&&this.destination.complete()}notifyNext(C,b,R){const k=this.values,se=this.toRespond?k[R]===me?--this.toRespond:this.toRespond:0;k[R]=b,0===se&&(this.resultSelector?this._tryResultSelector(k):this.destination.next(k.slice()))}_tryResultSelector(C){let b;try{b=this.resultSelector.apply(this,C)}catch(R){return void this.destination.error(R)}this.destination.next(b)}}var ce=U(8891),ee=U(4402),_e=U(9193);function je(A){return new ce.y(C=>{let b;try{b=A()}catch(k){return void C.error(k)}return(b?(0,ee.D)(b):(0,_e.c)()).subscribe(C)})}var ve=U(5917),be=U(6215),Ce=U(3410),Xe=U(8071),Be=U(2441),Ie=U(9765),mt=U(5345);function ot(A){return function(b){const R=new Yt(A),k=b.lift(R);return R.caught=k}}class Yt{constructor(C){this.selector=C}call(C,b){return b.subscribe(new Mt(C,this.selector,this.caught))}}class Mt extends mt.Ds{constructor(C,b,R){super(C),this.selector=b,this.caught=R}error(C){if(!this.isStopped){let b;try{b=this.selector(C,this.caught)}catch(W){return void super.error(W)}this._unsubscribeAndRecycle();const R=new mt.IY(this);this.add(R);const k=(0,mt.ft)(b,R);k!==R&&this.add(k)}}}var Pt=U(9773);function ke(A,C){return(0,Pt.zg)(A,C,1)}var Fe=U(5435),ye=U(7393),Ue=U(7108);function Ae(A){return function(b){return 0===A?(0,_e.c)():b.lift(new Ne(A))}}class Ne{constructor(C){if(this.total=C,this.total<0)throw new Ue.W}call(C,b){return b.subscribe(new lt(C,this.total))}}class lt extends ye.L{constructor(C,b){super(C),this.total=b,this.ring=new Array,this.count=0}_next(C){const b=this.ring,R=this.total,k=this.count++;b.length<R?b.push(C):b[k%R]=C}_complete(){const C=this.destination;let b=this.count;if(b>0){const R=this.count>=this.total?this.total:this.count,k=this.ring;for(let W=0;W<R;W++){const se=b++%R;C.next(k[se])}}C.complete()}}var _t=U(4635),vt=U(5242),at=U(4487),tn=U(5319);class At{constructor(C){this.callback=C}call(C,b){return b.subscribe(new Cn(C,this.callback))}}class Cn extends ye.L{constructor(C,b){super(C),this.add(new tn.w(b))}}var Ct=U(8002),Ut=U(3190),zn=U(5257),B1=U(9761),Xn=U(2145),Mn=U(8049),e1=U(3342),wn=U(1307),Nn=U(3282);class Ln{constructor(C,b){this.id=C,this.url=b}}class v1 extends Ln{constructor(C,b,R="imperative",k=null){super(C,b),this.navigationTrigger=R,this.restoredState=k}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Qt extends Ln{constructor(C,b,R){super(C,b),this.urlAfterRedirects=R}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Qn extends Ln{constructor(C,b,R){super(C,b),this.reason=R}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Xt extends Ln{constructor(C,b,R){super(C,b),this.error=R}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class h1 extends Ln{constructor(C,b,R,k){super(C,b),this.urlAfterRedirects=R,this.state=k}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _2 extends Ln{constructor(C,b,R,k){super(C,b),this.urlAfterRedirects=R,this.state=k}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Rt extends Ln{constructor(C,b,R,k,W){super(C,b),this.urlAfterRedirects=R,this.state=k,this.shouldActivate=W}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class et extends Ln{constructor(C,b,R,k){super(C,b),this.urlAfterRedirects=R,this.state=k}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vn extends Ln{constructor(C,b,R,k){super(C,b),this.urlAfterRedirects=R,this.state=k}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hn{constructor(C){this.route=C}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zn{constructor(C){this.route=C}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class dn{constructor(C){this.snapshot=C}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Nt{constructor(C){this.snapshot=C}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Et{constructor(C){this.snapshot=C}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class y1{constructor(C){this.snapshot=C}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class C2{constructor(C,b,R){this.routerEvent=C,this.position=b,this.anchor=R}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Jt="primary";class r1{constructor(C){this.params=C||{}}has(C){return Object.prototype.hasOwnProperty.call(this.params,C)}get(C){if(this.has(C)){const b=this.params[C];return Array.isArray(b)?b[0]:b}return null}getAll(C){if(this.has(C)){const b=this.params[C];return Array.isArray(b)?b:[b]}return[]}get keys(){return Object.keys(this.params)}}function o1(A){return new r1(A)}const Mr="ngNavigationCancelingError";function ue(A){const C=Error("NavigationCancelingError: "+A);return C[Mr]=!0,C}function ge(A,C,b){const R=b.path.split("/");if(R.length>A.length||"full"===b.pathMatch&&(C.hasChildren()||R.length<A.length))return null;const k={};for(let W=0;W<R.length;W++){const se=R[W],pe=A[W];if(se.startsWith(":"))k[se.substring(1)]=pe;else if(se!==pe.path)return null}return{consumed:A.slice(0,R.length),posParams:k}}function Te(A,C){const b=A?Object.keys(A):void 0,R=C?Object.keys(C):void 0;if(!b||!R||b.length!=R.length)return!1;let k;for(let W=0;W<b.length;W++)if(k=b[W],!ut(A[k],C[k]))return!1;return!0}function ut(A,C){if(Array.isArray(A)&&Array.isArray(C)){if(A.length!==C.length)return!1;const b=[...A].sort(),R=[...C].sort();return b.every((k,W)=>R[W]===k)}return A===C}function pt(A){return Array.prototype.concat.apply([],A)}function ln(A){return A.length>0?A[A.length-1]:null}function wt(A,C){for(const b in A)A.hasOwnProperty(b)&&C(A[b],b)}function An(A){return(0,T.CqO)(A)?A:(0,T.QGY)(A)?(0,ee.D)(Promise.resolve(A)):(0,ve.of)(A)}const kn={exact:function Ai(A,C,b){if(!Rn(A.segments,C.segments)||!Q1(A.segments,C.segments,b)||A.numberOfChildren!==C.numberOfChildren)return!1;for(const R in C.children)if(!A.children[R]||!Ai(A.children[R],C.children[R],b))return!1;return!0},subset:$r},ar={exact:function(A,C){return Te(A,C)},subset:function(A,C){return Object.keys(C).length<=Object.keys(A).length&&Object.keys(C).every(b=>ut(A[b],C[b]))},ignored:()=>!0};function t2(A,C,b){return kn[b.paths](A.root,C.root,b.matrixParams)&&ar[b.queryParams](A.queryParams,C.queryParams)&&!("exact"===b.fragment&&A.fragment!==C.fragment)}function $r(A,C,b){return Si(A,C,C.segments,b)}function Si(A,C,b,R){if(A.segments.length>b.length){const k=A.segments.slice(0,b.length);return!(!Rn(k,b)||C.hasChildren()||!Q1(k,b,R))}if(A.segments.length===b.length){if(!Rn(A.segments,b)||!Q1(A.segments,b,R))return!1;for(const k in C.children)if(!A.children[k]||!$r(A.children[k],C.children[k],R))return!1;return!0}{const k=b.slice(0,A.segments.length),W=b.slice(A.segments.length);return!!(Rn(A.segments,k)&&Q1(A.segments,k,R)&&A.children[Jt])&&Si(A.children[Jt],C,W,R)}}function Q1(A,C,b){return C.every((R,k)=>ar[b](A[k].parameters,R.parameters))}class d1{constructor(C,b,R){this.root=C,this.queryParams=b,this.fragment=R}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=o1(this.queryParams)),this._queryParamMap}toString(){return r2.serialize(this)}}class Lt{constructor(C,b){this.segments=C,this.children=b,this.parent=null,wt(b,(R,k)=>R.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return jn(this)}}class n2{constructor(C,b){this.path=C,this.parameters=b}get parameterMap(){return this._parameterMap||(this._parameterMap=o1(this.parameters)),this._parameterMap}toString(){return Vn(this)}}function Rn(A,C){return A.length===C.length&&A.every((b,R)=>b.path===C[R].path)}class Ar{}class J1{parse(C){const b=new Gr(C);return new d1(b.parseRootSegment(),b.parseQueryParams(),b.parseFragment())}serialize(C){var A;return`${`/${ct(C.root,!0)}`}${function(A){const C=Object.keys(A).map(b=>{const R=A[b];return Array.isArray(R)?R.map(k=>`${nn(b)}=${nn(k)}`).join("&"):`${nn(b)}=${nn(R)}`}).filter(b=>!!b);return C.length?`?${C.join("&")}`:""}(C.queryParams)}${"string"==typeof C.fragment?`#${A=C.fragment,encodeURI(A)}`:""}`}}const r2=new J1;function jn(A){return A.segments.map(C=>Vn(C)).join("/")}function ct(A,C){if(!A.hasChildren())return jn(A);if(C){const b=A.children[Jt]?ct(A.children[Jt],!1):"",R=[];return wt(A.children,(k,W)=>{W!==Jt&&R.push(`${W}:${ct(k,!1)}`)}),R.length>0?`${b}(${R.join("//")})`:b}{const b=function(A,C){let b=[];return wt(A.children,(R,k)=>{k===Jt&&(b=b.concat(C(R,k)))}),wt(A.children,(R,k)=>{k!==Jt&&(b=b.concat(C(R,k)))}),b}(A,(R,k)=>k===Jt?[ct(A.children[Jt],!1)]:[`${k}:${ct(R,!1)}`]);return 1===Object.keys(A.children).length&&null!=A.children[Jt]?`${jn(A)}/${b[0]}`:`${jn(A)}/(${b.join("//")})`}}function St(A){return encodeURIComponent(A).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function nn(A){return St(A).replace(/%3B/gi,";")}function C1(A){return St(A).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function $n(A){return decodeURIComponent(A)}function x1(A){return $n(A.replace(/\+/g,"%20"))}function Vn(A){return`${C1(A.path)}${function(A){return Object.keys(A).map(C=>`;${C1(C)}=${C1(A[C])}`).join("")}(A.parameters)}`}const en=/^[^\/()?;=#]+/;function Sr(A){const C=A.match(en);return C?C[0]:""}const xr=/^[^=?&#]+/,gr=/^[^?&#]+/;class Gr{constructor(C){this.url=C,this.remaining=C}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lt([],{}):new Lt([],this.parseChildren())}parseQueryParams(){const C={};if(this.consumeOptional("?"))do{this.parseQueryParam(C)}while(this.consumeOptional("&"));return C}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const C=[];for(this.peekStartsWith("(")||C.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),C.push(this.parseSegment());let b={};this.peekStartsWith("/(")&&(this.capture("/"),b=this.parseParens(!0));let R={};return this.peekStartsWith("(")&&(R=this.parseParens(!1)),(C.length>0||Object.keys(b).length>0)&&(R[Jt]=new Lt(C,b)),R}parseSegment(){const C=Sr(this.remaining);if(""===C&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(C),new n2($n(C),this.parseMatrixParams())}parseMatrixParams(){const C={};for(;this.consumeOptional(";");)this.parseParam(C);return C}parseParam(C){const b=Sr(this.remaining);if(!b)return;this.capture(b);let R="";if(this.consumeOptional("=")){const k=Sr(this.remaining);k&&(R=k,this.capture(R))}C[$n(b)]=$n(R)}parseQueryParam(C){const b=function(A){const C=A.match(xr);return C?C[0]:""}(this.remaining);if(!b)return;this.capture(b);let R="";if(this.consumeOptional("=")){const se=function(A){const C=A.match(gr);return C?C[0]:""}(this.remaining);se&&(R=se,this.capture(R))}const k=x1(b),W=x1(R);if(C.hasOwnProperty(k)){let se=C[k];Array.isArray(se)||(se=[se],C[k]=se),se.push(W)}else C[k]=W}parseParens(C){const b={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const R=Sr(this.remaining),k=this.remaining[R.length];if("/"!==k&&")"!==k&&";"!==k)throw new Error(`Cannot parse url '${this.url}'`);let W;R.indexOf(":")>-1?(W=R.substr(0,R.indexOf(":")),this.capture(W),this.capture(":")):C&&(W=Jt);const se=this.parseChildren();b[W]=1===Object.keys(se).length?se[Jt]:new Lt([],se),this.consumeOptional("//")}return b}peekStartsWith(C){return this.remaining.startsWith(C)}consumeOptional(C){return!!this.peekStartsWith(C)&&(this.remaining=this.remaining.substring(C.length),!0)}capture(C){if(!this.consumeOptional(C))throw new Error(`Expected "${C}".`)}}class Vr{constructor(C){this._root=C}get root(){return this._root.value}parent(C){const b=this.pathFromRoot(C);return b.length>1?b[b.length-2]:null}children(C){const b=T1(C,this._root);return b?b.children.map(R=>R.value):[]}firstChild(C){const b=T1(C,this._root);return b&&b.children.length>0?b.children[0].value:null}siblings(C){const b=xn(C,this._root);return b.length<2?[]:b[b.length-2].children.map(k=>k.value).filter(k=>k!==C)}pathFromRoot(C){return xn(C,this._root).map(b=>b.value)}}function T1(A,C){if(A===C.value)return C;for(const b of C.children){const R=T1(A,b);if(R)return R}return null}function xn(A,C){if(A===C.value)return[C];for(const b of C.children){const R=xn(A,b);if(R.length)return R.unshift(C),R}return[]}class Fn{constructor(C,b){this.value=C,this.children=b}toString(){return`TreeNode(${this.value})`}}function k1(A){const C={};return A&&A.children.forEach(b=>C[b.value.outlet]=b),C}class cr extends Vr{constructor(C,b){super(C),this.snapshot=b,Kn(this,C)}toString(){return this.snapshot.toString()}}function Tr(A,C){const b=function(A,C){const se=new Wr([],{},{},"",{},Jt,C,null,A.root,-1,{});return new vr("",new Fn(se,[]))}(A,C),R=new be.X([new n2("",{})]),k=new be.X({}),W=new be.X({}),se=new be.X({}),pe=new be.X(""),Re=new Pn(R,k,se,pe,W,Jt,C,b.root);return Re.snapshot=b.root,new cr(new Fn(Re,[]),b)}class Pn{constructor(C,b,R,k,W,se,pe,Re){this.url=C,this.params=b,this.queryParams=R,this.fragment=k,this.data=W,this.outlet=se,this.component=pe,this._futureSnapshot=Re}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ct.U)(C=>o1(C)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ct.U)(C=>o1(C)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function i2(A,C="emptyOnly"){const b=A.pathFromRoot;let R=0;if("always"!==C)for(R=b.length-1;R>=1;){const k=b[R],W=b[R-1];if(k.routeConfig&&""===k.routeConfig.path)R--;else{if(W.component)break;R--}}return function(A){return A.reduce((C,b)=>({params:Object.assign(Object.assign({},C.params),b.params),data:Object.assign(Object.assign({},C.data),b.data),resolve:Object.assign(Object.assign({},C.resolve),b._resolvedData)}),{params:{},data:{},resolve:{}})}(b.slice(R))}class Wr{constructor(C,b,R,k,W,se,pe,Re,bt,Ot,pn){this.url=C,this.params=b,this.queryParams=R,this.fragment=k,this.data=W,this.outlet=se,this.component=pe,this.routeConfig=Re,this._urlSegment=bt,this._lastPathIndex=Ot,this._resolve=pn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=o1(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=o1(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(R=>R.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vr extends Vr{constructor(C,b){super(b),this.url=C,Kn(this,b)}toString(){return X1(this._root)}}function Kn(A,C){C.value._routerState=A,C.children.forEach(b=>Kn(A,b))}function X1(A){const C=A.children.length>0?` { ${A.children.map(X1).join(", ")} } `:"";return`${A.value}${C}`}function s2(A){if(A.snapshot){const C=A.snapshot,b=A._futureSnapshot;A.snapshot=b,Te(C.queryParams,b.queryParams)||A.queryParams.next(b.queryParams),C.fragment!==b.fragment&&A.fragment.next(b.fragment),Te(C.params,b.params)||A.params.next(b.params),function(A,C){if(A.length!==C.length)return!1;for(let b=0;b<A.length;++b)if(!Te(A[b],C[b]))return!1;return!0}(C.url,b.url)||A.url.next(b.url),Te(C.data,b.data)||A.data.next(b.data)}else A.snapshot=A._futureSnapshot,A.data.next(A._futureSnapshot.data)}function Dr(A,C){return Te(A.params,C.params)&&function(A,C){return Rn(A,C)&&A.every((b,R)=>Te(b.parameters,C[R].parameters))}(A.url,C.url)&&!(!A.parent!=!C.parent)&&(!A.parent||Dr(A.parent,C.parent))}function D1(A,C,b){if(b&&A.shouldReuseRoute(C.value,b.value.snapshot)){const R=b.value;R._futureSnapshot=C.value;const k=function(A,C,b){return C.children.map(R=>{for(const k of b.children)if(A.shouldReuseRoute(R.value,k.value.snapshot))return D1(A,R,k);return D1(A,R)})}(A,C,b);return new Fn(R,k)}{if(A.shouldAttach(C.value)){const W=A.retrieve(C.value);if(null!==W){const se=W.route;return zs(C,se),se}}const R=function(A){return new Pn(new be.X(A.url),new be.X(A.params),new be.X(A.queryParams),new be.X(A.fragment),new be.X(A.data),A.outlet,A.component,A)}(C.value),k=C.children.map(W=>D1(A,W));return new Fn(R,k)}}function zs(A,C){if(A.value.routeConfig!==C.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(A.children.length!==C.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");C.value._futureSnapshot=A.value;for(let b=0;b<A.children.length;++b)zs(A.children[b],C.children[b])}function o2(A){return"object"==typeof A&&null!=A&&!A.outlets&&!A.segmentPath}function tr(A){return"object"==typeof A&&null!=A&&A.outlets}function Pr(A,C,b,R,k){let W={};return R&&wt(R,(se,pe)=>{W[pe]=Array.isArray(se)?se.map(Re=>`${Re}`):`${se}`}),new d1(b.root===A?C:G2(b.root,A,C),W,k)}function G2(A,C,b){const R={};return wt(A.children,(k,W)=>{R[W]=k===C?b:G2(k,C,b)}),new Lt(A.segments,R)}class Rs{constructor(C,b,R){if(this.isAbsolute=C,this.numberOfDoubleDots=b,this.commands=R,C&&R.length>0&&o2(R[0]))throw new Error("Root segment cannot have matrix parameters");const k=R.find(tr);if(k&&k!==ln(R))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class xi{constructor(C,b,R){this.segmentGroup=C,this.processChildren=b,this.index=R}}function E2(A,C,b){if(A||(A=new Lt([],{})),0===A.segments.length&&A.hasChildren())return W2(A,C,b);const R=function(A,C,b){let R=0,k=C;const W={match:!1,pathIndex:0,commandIndex:0};for(;k<A.segments.length;){if(R>=b.length)return W;const se=A.segments[k],pe=b[R];if(tr(pe))break;const Re=`${pe}`,bt=R<b.length-1?b[R+1]:null;if(k>0&&void 0===Re)break;if(Re&&bt&&"object"==typeof bt&&void 0===bt.outlets){if(!is(Re,bt,se))return W;R+=2}else{if(!is(Re,{},se))return W;R++}k++}return{match:!0,pathIndex:k,commandIndex:R}}(A,C,b),k=b.slice(R.commandIndex);if(R.match&&R.pathIndex<A.segments.length){const W=new Lt(A.segments.slice(0,R.pathIndex),{});return W.children[Jt]=new Lt(A.segments.slice(R.pathIndex),A.children),W2(W,0,k)}return R.match&&0===k.length?new Lt(A.segments,{}):R.match&&!A.hasChildren()?M2(A,C,b):R.match?W2(A,0,k):M2(A,C,b)}function W2(A,C,b){if(0===b.length)return new Lt(A.segments,{});{const R=function(A){return tr(A[0])?A[0].outlets:{[Jt]:A}}(b),k={};return wt(R,(W,se)=>{"string"==typeof W&&(W=[W]),null!==W&&(k[se]=E2(A.children[se],C,W))}),wt(A.children,(W,se)=>{void 0===R[se]&&(k[se]=W)}),new Lt(A.segments,k)}}function M2(A,C,b){const R=A.segments.slice(0,C);let k=0;for(;k<b.length;){const W=b[k];if(tr(W)){const Re=$1(W.outlets);return new Lt(R,Re)}if(0===k&&o2(b[0])){R.push(new n2(A.segments[C].path,Ni(b[0]))),k++;continue}const se=tr(W)?W.outlets[Jt]:`${W}`,pe=k<b.length-1?b[k+1]:null;se&&pe&&o2(pe)?(R.push(new n2(se,Ni(pe))),k+=2):(R.push(new n2(se,{})),k++)}return new Lt(R,{})}function $1(A){const C={};return wt(A,(b,R)=>{"string"==typeof b&&(b=[b]),null!==b&&(C[R]=M2(new Lt([],{}),0,b))}),C}function Ni(A){const C={};return wt(A,(b,R)=>C[R]=`${b}`),C}function is(A,C,b){return A==b.path&&Te(C,b.parameters)}class Nr{constructor(C,b,R,k){this.routeReuseStrategy=C,this.futureState=b,this.currState=R,this.forwardEvent=k}activate(C){const b=this.futureState._root,R=this.currState?this.currState._root:null;this.deactivateChildRoutes(b,R,C),s2(this.futureState.root),this.activateChildRoutes(b,R,C)}deactivateChildRoutes(C,b,R){const k=k1(b);C.children.forEach(W=>{const se=W.value.outlet;this.deactivateRoutes(W,k[se],R),delete k[se]}),wt(k,(W,se)=>{this.deactivateRouteAndItsChildren(W,R)})}deactivateRoutes(C,b,R){const k=C.value,W=b?b.value:null;if(k===W)if(k.component){const se=R.getContext(k.outlet);se&&this.deactivateChildRoutes(C,b,se.children)}else this.deactivateChildRoutes(C,b,R);else W&&this.deactivateRouteAndItsChildren(b,R)}deactivateRouteAndItsChildren(C,b){this.routeReuseStrategy.shouldDetach(C.value.snapshot)?this.detachAndStoreRouteSubtree(C,b):this.deactivateRouteAndOutlet(C,b)}detachAndStoreRouteSubtree(C,b){const R=b.getContext(C.value.outlet);if(R&&R.outlet){const k=R.outlet.detach(),W=R.children.onOutletDeactivated();this.routeReuseStrategy.store(C.value.snapshot,{componentRef:k,route:C,contexts:W})}}deactivateRouteAndOutlet(C,b){const R=b.getContext(C.value.outlet),k=R&&C.value.component?R.children:b,W=k1(C);for(const se of Object.keys(W))this.deactivateRouteAndItsChildren(W[se],k);R&&R.outlet&&(R.outlet.deactivate(),R.children.onOutletDeactivated(),R.attachRef=null,R.resolver=null,R.route=null)}activateChildRoutes(C,b,R){const k=k1(b);C.children.forEach(W=>{this.activateRoutes(W,k[W.value.outlet],R),this.forwardEvent(new y1(W.value.snapshot))}),C.children.length&&this.forwardEvent(new Nt(C.value.snapshot))}activateRoutes(C,b,R){const k=C.value,W=b?b.value:null;if(s2(k),k===W)if(k.component){const se=R.getOrCreateContext(k.outlet);this.activateChildRoutes(C,b,se.children)}else this.activateChildRoutes(C,b,R);else if(k.component){const se=R.getOrCreateContext(k.outlet);if(this.routeReuseStrategy.shouldAttach(k.snapshot)){const pe=this.routeReuseStrategy.retrieve(k.snapshot);this.routeReuseStrategy.store(k.snapshot,null),se.children.onOutletReAttached(pe.contexts),se.attachRef=pe.componentRef,se.route=pe.route.value,se.outlet&&se.outlet.attach(pe.componentRef,pe.route.value),Li(pe.route)}else{const pe=function(A){for(let C=A.parent;C;C=C.parent){const b=C.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig;if(b&&b.component)return null}return null}(k.snapshot),Re=pe?pe.module.componentFactoryResolver:null;se.attachRef=null,se.route=k,se.resolver=Re,se.outlet&&se.outlet.activateWith(k,Re),this.activateChildRoutes(C,null,se.children)}}else this.activateChildRoutes(C,null,R)}}function Li(A){s2(A.value),A.children.forEach(Li)}class hi{constructor(C,b){this.routes=C,this.module=b}}function lr(A){return"function"==typeof A}function nr(A){return A instanceof d1}const a1=Symbol("INITIAL_VALUE");function rr(){return(0,Ut.w)(A=>function(...A){let C,b;return(0,Le.K)(A[A.length-1])&&(b=A.pop()),"function"==typeof A[A.length-1]&&(C=A.pop()),1===A.length&&(0,re.k)(A[0])&&(A=A[0]),(0,xe.n)(A,b).lift(new Q(C))}(A.map(C=>C.pipe((0,zn.q)(1),(0,B1.O)(a1)))).pipe((0,Xn.R)((C,b)=>{let R=!1;return b.reduce((k,W,se)=>k!==a1?k:(W===a1&&(R=!0),R||!1!==W&&se!==b.length-1&&!nr(W)?k:W),C)},a1),(0,Fe.h)(C=>C!==a1),(0,Ct.U)(C=>nr(C)?C:!0===C),(0,zn.q)(1)))}let P=(()=>{class A{}return A.\u0275fac=function(b){return new(b||A)},A.\u0275cmp=T.Xpm({type:A,selectors:[["ng-component"]],decls:1,vars:0,template:function(b,R){1&b&&T._UZ(0,"router-outlet")},directives:function(){return[q1]},encapsulation:2}),A})();function G(A,C=""){for(let b=0;b<A.length;b++){const R=A[b];O(R,q(C,R))}}function O(A,C){A.children&&G(A.children,C)}function q(A,C){return C?A||C.path?A&&!C.path?`${A}/`:!A&&C.path?C.path:`${A}/${C.path}`:"":A}function fe(A){const C=A.children&&A.children.map(fe),b=C?Object.assign(Object.assign({},A),{children:C}):Object.assign({},A);return!b.component&&(C||b.loadChildren)&&b.outlet&&b.outlet!==Jt&&(b.component=P),b}function ze(A){return A.outlet||Jt}function nt(A,C){const b=A.filter(R=>ze(R)===C);return b.push(...A.filter(R=>ze(R)!==C)),b}const xt={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ht(A,C,b){var R;if(""===C.path)return"full"===C.pathMatch&&(A.hasChildren()||b.length>0)?Object.assign({},xt):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const W=(C.matcher||ge)(b,A,C);if(!W)return Object.assign({},xt);const se={};wt(W.posParams,(Re,bt)=>{se[bt]=Re.path});const pe=W.consumed.length>0?Object.assign(Object.assign({},se),W.consumed[W.consumed.length-1].parameters):se;return{matched:!0,consumedSegments:W.consumed,lastChild:W.consumed.length,parameters:pe,positionalParamSegments:null!==(R=W.posParams)&&void 0!==R?R:{}}}function Bt(A,C,b,R,k="corrected"){if(b.length>0&&function(A,C,b){return b.some(R=>c1(A,C,R)&&ze(R)!==Jt)}(A,b,R)){const se=new Lt(C,function(A,C,b,R){const k={};k[Jt]=R,R._sourceSegment=A,R._segmentIndexShift=C.length;for(const W of b)if(""===W.path&&ze(W)!==Jt){const se=new Lt([],{});se._sourceSegment=A,se._segmentIndexShift=C.length,k[ze(W)]=se}return k}(A,C,R,new Lt(b,A.children)));return se._sourceSegment=A,se._segmentIndexShift=C.length,{segmentGroup:se,slicedSegments:[]}}if(0===b.length&&function(A,C,b){return b.some(R=>c1(A,C,R))}(A,b,R)){const se=new Lt(A.segments,function(A,C,b,R,k,W){const se={};for(const pe of R)if(c1(A,b,pe)&&!k[ze(pe)]){const Re=new Lt([],{});Re._sourceSegment=A,Re._segmentIndexShift="legacy"===W?A.segments.length:C.length,se[ze(pe)]=Re}return Object.assign(Object.assign({},k),se)}(A,C,b,R,A.children,k));return se._sourceSegment=A,se._segmentIndexShift=C.length,{segmentGroup:se,slicedSegments:b}}const W=new Lt(A.segments,A.children);return W._sourceSegment=A,W._segmentIndexShift=C.length,{segmentGroup:W,slicedSegments:b}}function c1(A,C,b){return(!(A.hasChildren()||C.length>0)||"full"!==b.pathMatch)&&""===b.path}function qr(A,C,b,R){return!!(ze(A)===R||R!==Jt&&c1(C,b,A))&&("**"===A.path||Ht(C,A,b).matched)}function w1(A,C,b){return 0===C.length&&!A.children[b]}class i1{constructor(C){this.segmentGroup=C||null}}class Lr{constructor(C){this.urlTree=C}}function H1(A){return new ce.y(C=>C.error(new i1(A)))}function zr(A){return new ce.y(C=>C.error(new Lr(A)))}function L1(A){return new ce.y(C=>C.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${A}'`)))}class qt{constructor(C,b,R,k,W){this.configLoader=b,this.urlSerializer=R,this.urlTree=k,this.config=W,this.allowRedirects=!0,this.ngModule=C.get(T.h0i)}apply(){const C=Bt(this.urlTree.root,[],[],this.config).segmentGroup,b=new Lt(C.segments,C.children);return this.expandSegmentGroup(this.ngModule,this.config,b,Jt).pipe((0,Ct.U)(W=>this.createUrlTree(oo(W),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ot(W=>{if(W instanceof Lr)return this.allowRedirects=!1,this.match(W.urlTree);throw W instanceof i1?this.noMatchError(W):W}))}match(C){return this.expandSegmentGroup(this.ngModule,this.config,C.root,Jt).pipe((0,Ct.U)(k=>this.createUrlTree(oo(k),C.queryParams,C.fragment))).pipe(ot(k=>{throw k instanceof i1?this.noMatchError(k):k}))}noMatchError(C){return new Error(`Cannot match any routes. URL Segment: '${C.segmentGroup}'`)}createUrlTree(C,b,R){const k=C.segments.length>0?new Lt([],{[Jt]:C}):C;return new d1(k,b,R)}expandSegmentGroup(C,b,R,k){return 0===R.segments.length&&R.hasChildren()?this.expandChildren(C,b,R).pipe((0,Ct.U)(W=>new Lt([],W))):this.expandSegment(C,R,b,R.segments,k,!0)}expandChildren(C,b,R){const k=[];for(const W of Object.keys(R.children))"primary"===W?k.unshift(W):k.push(W);return(0,ee.D)(k).pipe(ke(W=>{const se=R.children[W],pe=nt(b,W);return this.expandSegmentGroup(C,pe,se,W).pipe((0,Ct.U)(Re=>({segment:Re,outlet:W})))}),(0,Xn.R)((W,se)=>(W[se.outlet]=se.segment,W),{}),function(A,C){const b=arguments.length>=2;return R=>R.pipe(A?(0,Fe.h)((k,W)=>A(k,W,R)):at.y,Ae(1),b?(0,vt.d)(C):(0,_t.T)(()=>new Ce.K))}())}expandSegment(C,b,R,k,W,se){return(0,ee.D)(R).pipe(ke(pe=>this.expandSegmentAgainstRoute(C,b,R,pe,k,W,se).pipe(ot(bt=>{if(bt instanceof i1)return(0,ve.of)(null);throw bt}))),(0,Mn.P)(pe=>!!pe),ot((pe,Re)=>{if(pe instanceof Ce.K||"EmptyError"===pe.name){if(w1(b,k,W))return(0,ve.of)(new Lt([],{}));throw new i1(b)}throw pe}))}expandSegmentAgainstRoute(C,b,R,k,W,se,pe){return qr(k,b,W,se)?void 0===k.redirectTo?this.matchSegmentAgainstRoute(C,b,k,W,se):pe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(C,b,R,k,W,se):H1(b):H1(b)}expandSegmentAgainstRouteUsingRedirect(C,b,R,k,W,se){return"**"===k.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(C,R,k,se):this.expandRegularSegmentAgainstRouteUsingRedirect(C,b,R,k,W,se)}expandWildCardWithParamsAgainstRouteUsingRedirect(C,b,R,k){const W=this.applyRedirectCommands([],R.redirectTo,{});return R.redirectTo.startsWith("/")?zr(W):this.lineralizeSegments(R,W).pipe((0,Pt.zg)(se=>{const pe=new Lt(se,{});return this.expandSegment(C,pe,b,se,k,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(C,b,R,k,W,se){const{matched:pe,consumedSegments:Re,lastChild:bt,positionalParamSegments:Ot}=Ht(b,k,W);if(!pe)return H1(b);const pn=this.applyRedirectCommands(Re,k.redirectTo,Ot);return k.redirectTo.startsWith("/")?zr(pn):this.lineralizeSegments(k,pn).pipe((0,Pt.zg)(Tn=>this.expandSegment(C,b,R,Tn.concat(W.slice(bt)),se,!1)))}matchSegmentAgainstRoute(C,b,R,k,W){if("**"===R.path)return R.loadChildren?(R._loadedConfig?(0,ve.of)(R._loadedConfig):this.configLoader.load(C.injector,R)).pipe((0,Ct.U)(Tn=>(R._loadedConfig=Tn,new Lt(k,{})))):(0,ve.of)(new Lt(k,{}));const{matched:se,consumedSegments:pe,lastChild:Re}=Ht(b,R,k);if(!se)return H1(b);const bt=k.slice(Re);return this.getChildConfig(C,R,k).pipe((0,Pt.zg)(pn=>{const Tn=pn.module,Dt=pn.routes,{segmentGroup:z2,slicedSegments:t1}=Bt(b,pe,bt,Dt),p1=new Lt(z2.segments,z2.children);if(0===t1.length&&p1.hasChildren())return this.expandChildren(Tn,Dt,p1).pipe((0,Ct.U)(f1=>new Lt(pe,f1)));if(0===Dt.length&&0===t1.length)return(0,ve.of)(new Lt(pe,{}));const Jn=ze(R)===W;return this.expandSegment(Tn,p1,Dt,t1,Jn?Jt:W,!0).pipe((0,Ct.U)(Z1=>new Lt(pe.concat(Z1.segments),Z1.children)))}))}getChildConfig(C,b,R){return b.children?(0,ve.of)(new hi(b.children,C)):b.loadChildren?void 0!==b._loadedConfig?(0,ve.of)(b._loadedConfig):this.runCanLoadGuards(C.injector,b,R).pipe((0,Pt.zg)(k=>{return k?this.configLoader.load(C.injector,b).pipe((0,Ct.U)(W=>(b._loadedConfig=W,W))):(A=b,new ce.y(C=>C.error(ue(`Cannot load children because the guard of the route "path: '${A.path}'" returned false`))));var A})):(0,ve.of)(new hi([],C))}runCanLoadGuards(C,b,R){const k=b.canLoad;if(!k||0===k.length)return(0,ve.of)(!0);const W=k.map(se=>{const pe=C.get(se);let Re;if((A=pe)&&lr(A.canLoad))Re=pe.canLoad(b,R);else{if(!lr(pe))throw new Error("Invalid CanLoad guard");Re=pe(b,R)}var A;return An(Re)});return(0,ve.of)(W).pipe(rr(),(0,e1.b)(se=>{if(!nr(se))return;const pe=ue(`Redirecting to "${this.urlSerializer.serialize(se)}"`);throw pe.url=se,pe}),(0,Ct.U)(se=>!0===se))}lineralizeSegments(C,b){let R=[],k=b.root;for(;;){if(R=R.concat(k.segments),0===k.numberOfChildren)return(0,ve.of)(R);if(k.numberOfChildren>1||!k.children[Jt])return L1(C.redirectTo);k=k.children[Jt]}}applyRedirectCommands(C,b,R){return this.applyRedirectCreatreUrlTree(b,this.urlSerializer.parse(b),C,R)}applyRedirectCreatreUrlTree(C,b,R,k){const W=this.createSegmentGroup(C,b.root,R,k);return new d1(W,this.createQueryParams(b.queryParams,this.urlTree.queryParams),b.fragment)}createQueryParams(C,b){const R={};return wt(C,(k,W)=>{if("string"==typeof k&&k.startsWith(":")){const pe=k.substring(1);R[W]=b[pe]}else R[W]=k}),R}createSegmentGroup(C,b,R,k){const W=this.createSegments(C,b.segments,R,k);let se={};return wt(b.children,(pe,Re)=>{se[Re]=this.createSegmentGroup(C,pe,R,k)}),new Lt(W,se)}createSegments(C,b,R,k){return b.map(W=>W.path.startsWith(":")?this.findPosParam(C,W,k):this.findOrReturn(W,R))}findPosParam(C,b,R){const k=R[b.path.substring(1)];if(!k)throw new Error(`Cannot redirect to '${C}'. Cannot find '${b.path}'.`);return k}findOrReturn(C,b){let R=0;for(const k of b){if(k.path===C.path)return b.splice(R),k;R++}return C}}function oo(A){const C={};for(const R of Object.keys(A.children)){const W=oo(A.children[R]);(W.segments.length>0||W.hasChildren())&&(C[R]=W)}return function(A){if(1===A.numberOfChildren&&A.children[Jt]){const C=A.children[Jt];return new Lt(A.segments.concat(C.segments),C.children)}return A}(new Lt(A.segments,C))}class Ps{constructor(C){this.path=C,this.route=this.path[this.path.length-1]}}class Z2{constructor(C,b){this.component=C,this.route=b}}function Os(A,C,b){const R=A._root;return K2(R,C?C._root:null,b,[R.value])}function Qe(A,C,b){const R=function(A){if(!A)return null;for(let C=A.parent;C;C=C.parent){const b=C.routeConfig;if(b&&b._loadedConfig)return b._loadedConfig}return null}(C);return(R?R.module.injector:b).get(A)}function K2(A,C,b,R,k={canDeactivateChecks:[],canActivateChecks:[]}){const W=k1(C);return A.children.forEach(se=>{(function(A,C,b,R,k={canDeactivateChecks:[],canActivateChecks:[]}){const W=A.value,se=C?C.value:null,pe=b?b.getContext(A.value.outlet):null;if(se&&W.routeConfig===se.routeConfig){const Re=function(A,C,b){if("function"==typeof b)return b(A,C);switch(b){case"pathParamsChange":return!Rn(A.url,C.url);case"pathParamsOrQueryParamsChange":return!Rn(A.url,C.url)||!Te(A.queryParams,C.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Dr(A,C)||!Te(A.queryParams,C.queryParams);case"paramsChange":default:return!Dr(A,C)}}(se,W,W.routeConfig.runGuardsAndResolvers);Re?k.canActivateChecks.push(new Ps(R)):(W.data=se.data,W._resolvedData=se._resolvedData),K2(A,C,W.component?pe?pe.children:null:b,R,k),Re&&pe&&pe.outlet&&pe.outlet.isActivated&&k.canDeactivateChecks.push(new Z2(pe.outlet.component,se))}else se&&H(C,pe,k),k.canActivateChecks.push(new Ps(R)),K2(A,null,W.component?pe?pe.children:null:b,R,k)})(se,W[se.value.outlet],b,R.concat([se.value]),k),delete W[se.value.outlet]}),wt(W,(se,pe)=>H(se,b.getContext(pe),k)),k}function H(A,C,b){const R=k1(A),k=A.value;wt(R,(W,se)=>{H(W,k.component?C?C.children.getContext(se):null:C,b)}),b.canDeactivateChecks.push(new Z2(k.component&&C&&C.outlet&&C.outlet.isActivated?C.outlet.component:null,k))}class Tt{}function cn(A){return new ce.y(C=>C.error(A))}class Gn{constructor(C,b,R,k,W,se){this.rootComponentType=C,this.config=b,this.urlTree=R,this.url=k,this.paramsInheritanceStrategy=W,this.relativeLinkResolution=se}recognize(){const C=Bt(this.urlTree.root,[],[],this.config.filter(se=>void 0===se.redirectTo),this.relativeLinkResolution).segmentGroup,b=this.processSegmentGroup(this.config,C,Jt);if(null===b)return null;const R=new Wr([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Jt,this.rootComponentType,null,this.urlTree.root,-1,{}),k=new Fn(R,b),W=new vr(this.url,k);return this.inheritParamsAndData(W._root),W}inheritParamsAndData(C){const b=C.value,R=i2(b,this.paramsInheritanceStrategy);b.params=Object.freeze(R.params),b.data=Object.freeze(R.data),C.children.forEach(k=>this.inheritParamsAndData(k))}processSegmentGroup(C,b,R){return 0===b.segments.length&&b.hasChildren()?this.processChildren(C,b):this.processSegment(C,b,b.segments,R)}processChildren(C,b){const R=[];for(const W of Object.keys(b.children)){const se=b.children[W],pe=nt(C,W),Re=this.processSegmentGroup(pe,se,W);if(null===Re)return null;R.push(...Re)}const k=Zr(R);return k.sort((C,b)=>C.value.outlet===Jt?-1:b.value.outlet===Jt?1:C.value.outlet.localeCompare(b.value.outlet)),k}processSegment(C,b,R,k){for(const W of C){const se=this.processSegmentAgainstRoute(W,b,R,k);if(null!==se)return se}return w1(b,R,k)?[]:null}processSegmentAgainstRoute(C,b,R,k){if(C.redirectTo||!qr(C,b,R,k))return null;let W,se=[],pe=[];if("**"===C.path){const Dt=R.length>0?ln(R).parameters:{};W=new Wr(R,Dt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,l1(C),ze(C),C.component,C,Kr(b),yr(b)+R.length,di(C))}else{const Dt=Ht(b,C,R);if(!Dt.matched)return null;se=Dt.consumedSegments,pe=R.slice(Dt.lastChild),W=new Wr(se,Dt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,l1(C),ze(C),C.component,C,Kr(b),yr(b)+se.length,di(C))}const Re=(A=C).children?A.children:A.loadChildren?A._loadedConfig.routes:[],{segmentGroup:bt,slicedSegments:Ot}=Bt(b,se,pe,Re.filter(Dt=>void 0===Dt.redirectTo),this.relativeLinkResolution);var A;if(0===Ot.length&&bt.hasChildren()){const Dt=this.processChildren(Re,bt);return null===Dt?null:[new Fn(W,Dt)]}if(0===Re.length&&0===Ot.length)return[new Fn(W,[])];const pn=ze(C)===k,Tn=this.processSegment(Re,bt,Ot,pn?Jt:k);return null===Tn?null:[new Fn(W,Tn)]}}function Or(A){const C=A.value.routeConfig;return C&&""===C.path&&void 0===C.redirectTo}function Zr(A){const C=[],b=new Set;for(const R of A){if(!Or(R)){C.push(R);continue}const k=C.find(W=>R.value.routeConfig===W.value.routeConfig);void 0!==k?(k.children.push(...R.children),b.add(k)):C.push(R)}for(const R of b){const k=Zr(R.children);C.push(new Fn(R.value,k))}return C.filter(R=>!b.has(R))}function Kr(A){let C=A;for(;C._sourceSegment;)C=C._sourceSegment;return C}function yr(A){let C=A,b=C._segmentIndexShift?C._segmentIndexShift:0;for(;C._sourceSegment;)C=C._sourceSegment,b+=C._segmentIndexShift?C._segmentIndexShift:0;return b-1}function l1(A){return A.data||{}}function di(A){return A.resolve||{}}function us(A){return(0,Ut.w)(C=>{const b=A(C);return b?(0,ee.D)(b).pipe((0,Ct.U)(()=>C)):(0,ve.of)(C)})}class p4 extends class{shouldDetach(C){return!1}store(C,b){}shouldAttach(C){return!1}retrieve(C){return null}shouldReuseRoute(C,b){return C.routeConfig===b.routeConfig}}{}const G1=new T.OlP("ROUTES");class Hr{constructor(C,b,R,k){this.loader=C,this.compiler=b,this.onLoadStartListener=R,this.onLoadEndListener=k}load(C,b){if(b._loader$)return b._loader$;this.onLoadStartListener&&this.onLoadStartListener(b);const k=this.loadModuleFactory(b.loadChildren).pipe((0,Ct.U)(W=>{this.onLoadEndListener&&this.onLoadEndListener(b);const se=W.create(C);return new hi(pt(se.injector.get(G1,void 0,T.XFs.Self|T.XFs.Optional)).map(fe),se)}),ot(W=>{throw b._loader$=void 0,W}));return b._loader$=new Be.c(k,()=>new Ie.xQ).pipe((0,wn.x)()),b._loader$}loadModuleFactory(C){return"string"==typeof C?(0,ee.D)(this.loader.load(C)):An(C()).pipe((0,Pt.zg)(b=>b instanceof T.YKP?(0,ve.of)(b):(0,ee.D)(this.compiler.compileModuleAsync(b))))}}class u1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new fs,this.attachRef=null}}class fs{constructor(){this.contexts=new Map}onChildOutletCreated(C,b){const R=this.getOrCreateContext(C);R.outlet=b,this.contexts.set(C,R)}onChildOutletDestroyed(C){const b=this.getContext(C);b&&(b.outlet=null)}onOutletDeactivated(){const C=this.contexts;return this.contexts=new Map,C}onOutletReAttached(C){this.contexts=C}getOrCreateContext(C){let b=this.getContext(C);return b||(b=new u1,this.contexts.set(C,b)),b}getContext(C){return this.contexts.get(C)||null}}class m4{shouldProcessUrl(C){return!0}extract(C){return C}merge(C,b){return C}}function g4(A){throw A}function va(A,C,b){return C.parse("/")}function Po(A,C){return(0,ve.of)(null)}const Vi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Pi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let W1=(()=>{class A{constructor(b,R,k,W,se,pe,Re,bt){this.rootComponentType=b,this.urlSerializer=R,this.rootContexts=k,this.location=W,this.config=bt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ie.xQ,this.errorHandler=g4,this.malformedUriErrorHandler=va,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Po,afterPreactivation:Po},this.urlHandlingStrategy=new m4,this.routeReuseStrategy=new p4,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=se.get(T.h0i),this.console=se.get(T.c2e);const Tn=se.get(T.R0b);this.isNgZoneEnabled=Tn instanceof T.R0b&&T.R0b.isInAngularZone(),this.resetConfig(bt),this.currentUrlTree=new d1(new Lt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Hr(pe,Re,Dt=>this.triggerEvent(new Hn(Dt)),Dt=>this.triggerEvent(new Zn(Dt))),this.routerState=Tr(this.currentUrlTree,this.rootComponentType),this.transitions=new be.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var b;return null===(b=this.location.getState())||void 0===b?void 0:b.\u0275routerPageId}setupNavigations(b){const R=this.events;return b.pipe((0,Fe.h)(k=>0!==k.id),(0,Ct.U)(k=>Object.assign(Object.assign({},k),{extractedUrl:this.urlHandlingStrategy.extract(k.rawUrl)})),(0,Ut.w)(k=>{let W=!1,se=!1;return(0,ve.of)(k).pipe((0,e1.b)(pe=>{this.currentNavigation={id:pe.id,initialUrl:pe.currentRawUrl,extractedUrl:pe.extractedUrl,trigger:pe.source,extras:pe.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ut.w)(pe=>{const Re=!this.navigated||pe.extractedUrl.toString()!==this.browserUrlTree.toString(),bt=("reload"===this.onSameUrlNavigation||Re)&&this.urlHandlingStrategy.shouldProcessUrl(pe.rawUrl);if(x2(pe.source)&&(this.browserUrlTree=pe.rawUrl),bt)return(0,ve.of)(pe).pipe((0,Ut.w)(Ot=>{const pn=this.transitions.getValue();return R.next(new v1(Ot.id,this.serializeUrl(Ot.extractedUrl),Ot.source,Ot.restoredState)),pn!==this.transitions.getValue()?_e.E:Promise.resolve(Ot)}),function(A,C,b,R){return(0,Ut.w)(k=>function(A,C,b,R,k){return new qt(A,C,b,R,k).apply()}(A,C,b,k.extractedUrl,R).pipe((0,Ct.U)(W=>Object.assign(Object.assign({},k),{urlAfterRedirects:W}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,e1.b)(Ot=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ot.urlAfterRedirects})}),function(A,C,b,R,k){return(0,Pt.zg)(W=>function(A,C,b,R,k="emptyOnly",W="legacy"){try{const se=new Gn(A,C,b,R,k,W).recognize();return null===se?cn(new Tt):(0,ve.of)(se)}catch(se){return cn(se)}}(A,C,W.urlAfterRedirects,b(W.urlAfterRedirects),R,k).pipe((0,Ct.U)(se=>Object.assign(Object.assign({},W),{targetSnapshot:se}))))}(this.rootComponentType,this.config,Ot=>this.serializeUrl(Ot),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,e1.b)(Ot=>{"eager"===this.urlUpdateStrategy&&(Ot.extras.skipLocationChange||this.setBrowserUrl(Ot.urlAfterRedirects,Ot),this.browserUrlTree=Ot.urlAfterRedirects);const pn=new h1(Ot.id,this.serializeUrl(Ot.extractedUrl),this.serializeUrl(Ot.urlAfterRedirects),Ot.targetSnapshot);R.next(pn)}));if(Re&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:pn,extractedUrl:Tn,source:Dt,restoredState:z2,extras:t1}=pe,p1=new v1(pn,this.serializeUrl(Tn),Dt,z2);R.next(p1);const Jn=Tr(Tn,this.rootComponentType).snapshot;return(0,ve.of)(Object.assign(Object.assign({},pe),{targetSnapshot:Jn,urlAfterRedirects:Tn,extras:Object.assign(Object.assign({},t1),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=pe.rawUrl,this.browserUrlTree=pe.urlAfterRedirects,pe.resolve(null),_e.E}),us(pe=>{const{targetSnapshot:Re,id:bt,extractedUrl:Ot,rawUrl:pn,extras:{skipLocationChange:Tn,replaceUrl:Dt}}=pe;return this.hooks.beforePreactivation(Re,{navigationId:bt,appliedUrlTree:Ot,rawUrlTree:pn,skipLocationChange:!!Tn,replaceUrl:!!Dt})}),(0,e1.b)(pe=>{const Re=new _2(pe.id,this.serializeUrl(pe.extractedUrl),this.serializeUrl(pe.urlAfterRedirects),pe.targetSnapshot);this.triggerEvent(Re)}),(0,Ct.U)(pe=>Object.assign(Object.assign({},pe),{guards:Os(pe.targetSnapshot,pe.currentSnapshot,this.rootContexts)})),function(A,C){return(0,Pt.zg)(b=>{const{targetSnapshot:R,currentSnapshot:k,guards:{canActivateChecks:W,canDeactivateChecks:se}}=b;return 0===se.length&&0===W.length?(0,ve.of)(Object.assign(Object.assign({},b),{guardsResult:!0})):function(A,C,b,R){return(0,ee.D)(A).pipe((0,Pt.zg)(k=>function(A,C,b,R,k){const W=C&&C.routeConfig?C.routeConfig.canDeactivate:null;if(!W||0===W.length)return(0,ve.of)(!0);const se=W.map(pe=>{const Re=Qe(pe,C,k);let bt;if(function(A){return A&&lr(A.canDeactivate)}(Re))bt=An(Re.canDeactivate(A,C,b,R));else{if(!lr(Re))throw new Error("Invalid CanDeactivate guard");bt=An(Re(A,C,b,R))}return bt.pipe((0,Mn.P)())});return(0,ve.of)(se).pipe(rr())}(k.component,k.route,b,C,R)),(0,Mn.P)(k=>!0!==k,!0))}(se,R,k,A).pipe((0,Pt.zg)(pe=>pe&&function(A){return"boolean"==typeof A}(pe)?function(A,C,b,R){return(0,ee.D)(C).pipe(ke(k=>(0,Xe.z)(function(A,C){return null!==A&&C&&C(new dn(A)),(0,ve.of)(!0)}(k.route.parent,R),function(A,C){return null!==A&&C&&C(new Et(A)),(0,ve.of)(!0)}(k.route,R),function(A,C,b){const R=C[C.length-1],W=C.slice(0,C.length-1).reverse().map(se=>function(A){const C=A.routeConfig?A.routeConfig.canActivateChild:null;return C&&0!==C.length?{node:A,guards:C}:null}(se)).filter(se=>null!==se).map(se=>je(()=>{const pe=se.guards.map(Re=>{const bt=Qe(Re,se.node,b);let Ot;if(function(A){return A&&lr(A.canActivateChild)}(bt))Ot=An(bt.canActivateChild(R,A));else{if(!lr(bt))throw new Error("Invalid CanActivateChild guard");Ot=An(bt(R,A))}return Ot.pipe((0,Mn.P)())});return(0,ve.of)(pe).pipe(rr())}));return(0,ve.of)(W).pipe(rr())}(A,k.path,b),function(A,C,b){const R=C.routeConfig?C.routeConfig.canActivate:null;if(!R||0===R.length)return(0,ve.of)(!0);const k=R.map(W=>je(()=>{const se=Qe(W,C,b);let pe;if(function(A){return A&&lr(A.canActivate)}(se))pe=An(se.canActivate(C,A));else{if(!lr(se))throw new Error("Invalid CanActivate guard");pe=An(se(C,A))}return pe.pipe((0,Mn.P)())}));return(0,ve.of)(k).pipe(rr())}(A,k.route,b))),(0,Mn.P)(k=>!0!==k,!0))}(R,W,A,C):(0,ve.of)(pe)),(0,Ct.U)(pe=>Object.assign(Object.assign({},b),{guardsResult:pe})))})}(this.ngModule.injector,pe=>this.triggerEvent(pe)),(0,e1.b)(pe=>{if(nr(pe.guardsResult)){const bt=ue(`Redirecting to "${this.serializeUrl(pe.guardsResult)}"`);throw bt.url=pe.guardsResult,bt}const Re=new Rt(pe.id,this.serializeUrl(pe.extractedUrl),this.serializeUrl(pe.urlAfterRedirects),pe.targetSnapshot,!!pe.guardsResult);this.triggerEvent(Re)}),(0,Fe.h)(pe=>!!pe.guardsResult||(this.restoreHistory(pe),this.cancelNavigationTransition(pe,""),!1)),us(pe=>{if(pe.guards.canActivateChecks.length)return(0,ve.of)(pe).pipe((0,e1.b)(Re=>{const bt=new et(Re.id,this.serializeUrl(Re.extractedUrl),this.serializeUrl(Re.urlAfterRedirects),Re.targetSnapshot);this.triggerEvent(bt)}),(0,Ut.w)(Re=>{let bt=!1;return(0,ve.of)(Re).pipe(function(A,C){return(0,Pt.zg)(b=>{const{targetSnapshot:R,guards:{canActivateChecks:k}}=b;if(!k.length)return(0,ve.of)(b);let W=0;return(0,ee.D)(k).pipe(ke(se=>function(A,C,b,R){return function(A,C,b,R){const k=Object.keys(A);if(0===k.length)return(0,ve.of)({});const W={};return(0,ee.D)(k).pipe((0,Pt.zg)(se=>function(A,C,b,R){const k=Qe(A,C,R);return An(k.resolve?k.resolve(C,b):k(C,b))}(A[se],C,b,R).pipe((0,e1.b)(pe=>{W[se]=pe}))),Ae(1),(0,Pt.zg)(()=>Object.keys(W).length===k.length?(0,ve.of)(W):_e.E))}(A._resolve,A,C,R).pipe((0,Ct.U)(W=>(A._resolvedData=W,A.data=Object.assign(Object.assign({},A.data),i2(A,b).resolve),null)))}(se.route,R,A,C)),(0,e1.b)(()=>W++),Ae(1),(0,Pt.zg)(se=>W===k.length?(0,ve.of)(b):_e.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,e1.b)({next:()=>bt=!0,complete:()=>{bt||(this.restoreHistory(Re),this.cancelNavigationTransition(Re,"At least one route resolver didn't emit any value."))}}))}),(0,e1.b)(Re=>{const bt=new vn(Re.id,this.serializeUrl(Re.extractedUrl),this.serializeUrl(Re.urlAfterRedirects),Re.targetSnapshot);this.triggerEvent(bt)}))}),us(pe=>{const{targetSnapshot:Re,id:bt,extractedUrl:Ot,rawUrl:pn,extras:{skipLocationChange:Tn,replaceUrl:Dt}}=pe;return this.hooks.afterPreactivation(Re,{navigationId:bt,appliedUrlTree:Ot,rawUrlTree:pn,skipLocationChange:!!Tn,replaceUrl:!!Dt})}),(0,Ct.U)(pe=>{const Re=function(A,C,b){const R=D1(A,C._root,b?b._root:void 0);return new cr(R,C)}(this.routeReuseStrategy,pe.targetSnapshot,pe.currentRouterState);return Object.assign(Object.assign({},pe),{targetRouterState:Re})}),(0,e1.b)(pe=>{this.currentUrlTree=pe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,pe.rawUrl),this.routerState=pe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(pe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,pe),this.browserUrlTree=pe.urlAfterRedirects)}),((A,C,b)=>(0,Ct.U)(R=>(new Nr(C,R.targetRouterState,R.currentRouterState,b).activate(A),R)))(this.rootContexts,this.routeReuseStrategy,pe=>this.triggerEvent(pe)),(0,e1.b)({next(){W=!0},complete(){W=!0}}),function(A){return C=>C.lift(new At(A))}(()=>{if(!W&&!se){const pe=`Navigation ID ${k.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(k),this.cancelNavigationTransition(k,pe)):this.cancelNavigationTransition(k,pe)}this.currentNavigation=null}),ot(pe=>{if(se=!0,function(A){return A&&A[Mr]}(pe)){const Re=nr(pe.url);Re||(this.navigated=!0,this.restoreHistory(k,!0));const bt=new Qn(k.id,this.serializeUrl(k.extractedUrl),pe.message);R.next(bt),Re?setTimeout(()=>{const Ot=this.urlHandlingStrategy.merge(pe.url,this.rawUrlTree),pn={skipLocationChange:k.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||x2(k.source)};this.scheduleNavigation(Ot,"imperative",null,pn,{resolve:k.resolve,reject:k.reject,promise:k.promise})},0):k.resolve(!1)}else{this.restoreHistory(k,!0);const Re=new Xt(k.id,this.serializeUrl(k.extractedUrl),pe);R.next(Re);try{k.resolve(this.errorHandler(pe))}catch(bt){k.reject(bt)}}return _e.E}))}))}resetRootComponentType(b){this.rootComponentType=b,this.routerState.root.component=this.rootComponentType}getTransition(){const b=this.transitions.value;return b.urlAfterRedirects=this.browserUrlTree,b}setTransition(b){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),b))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(b=>{const R=this.extractLocationChangeInfoFromEvent(b);this.shouldScheduleNavigation(this.lastLocationChangeInfo,R)&&setTimeout(()=>{const{source:k,state:W,urlTree:se}=R,pe={replaceUrl:!0};if(W){const Re=Object.assign({},W);delete Re.navigationId,delete Re.\u0275routerPageId,0!==Object.keys(Re).length&&(pe.state=Re)}this.scheduleNavigation(se,k,W,pe)},0),this.lastLocationChangeInfo=R}))}extractLocationChangeInfoFromEvent(b){var R;return{source:"popstate"===b.type?"popstate":"hashchange",urlTree:this.parseUrl(b.url),state:(null===(R=b.state)||void 0===R?void 0:R.navigationId)?b.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(b,R){if(!b)return!0;const k=R.urlTree.toString()===b.urlTree.toString();return R.transitionId!==b.transitionId||!k||!("hashchange"===R.source&&"popstate"===b.source||"popstate"===R.source&&"hashchange"===b.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(b){this.events.next(b)}resetConfig(b){G(b),this.config=b.map(fe),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(b,R={}){const{relativeTo:k,queryParams:W,fragment:se,queryParamsHandling:pe,preserveFragment:Re}=R,bt=k||this.routerState.root,Ot=Re?this.currentUrlTree.fragment:se;let pn=null;switch(pe){case"merge":pn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),W);break;case"preserve":pn=this.currentUrlTree.queryParams;break;default:pn=W||null}return null!==pn&&(pn=this.removeEmptyProps(pn)),function(A,C,b,R,k){if(0===b.length)return Pr(C.root,C.root,C,R,k);const W=function(A){if("string"==typeof A[0]&&1===A.length&&"/"===A[0])return new Rs(!0,0,A);let C=0,b=!1;const R=A.reduce((k,W,se)=>{if("object"==typeof W&&null!=W){if(W.outlets){const pe={};return wt(W.outlets,(Re,bt)=>{pe[bt]="string"==typeof Re?Re.split("/"):Re}),[...k,{outlets:pe}]}if(W.segmentPath)return[...k,W.segmentPath]}return"string"!=typeof W?[...k,W]:0===se?(W.split("/").forEach((pe,Re)=>{0==Re&&"."===pe||(0==Re&&""===pe?b=!0:".."===pe?C++:""!=pe&&k.push(pe))}),k):[...k,W]},[]);return new Rs(b,C,R)}(b);if(W.toRoot())return Pr(C.root,new Lt([],{}),C,R,k);const se=function(A,C,b){if(A.isAbsolute)return new xi(C.root,!0,0);if(-1===b.snapshot._lastPathIndex){const W=b.snapshot._urlSegment;return new xi(W,W===C.root,0)}const R=o2(A.commands[0])?0:1;return function(A,C,b){let R=A,k=C,W=b;for(;W>k;){if(W-=k,R=R.parent,!R)throw new Error("Invalid number of '../'");k=R.segments.length}return new xi(R,!1,k-W)}(b.snapshot._urlSegment,b.snapshot._lastPathIndex+R,A.numberOfDoubleDots)}(W,C,A),pe=se.processChildren?W2(se.segmentGroup,se.index,W.commands):E2(se.segmentGroup,se.index,W.commands);return Pr(se.segmentGroup,pe,C,R,k)}(bt,this.currentUrlTree,b,pn,null!=Ot?Ot:null)}navigateByUrl(b,R={skipLocationChange:!1}){const k=nr(b)?b:this.parseUrl(b),W=this.urlHandlingStrategy.merge(k,this.rawUrlTree);return this.scheduleNavigation(W,"imperative",null,R)}navigate(b,R={skipLocationChange:!1}){return function(A){for(let C=0;C<A.length;C++){const b=A[C];if(null==b)throw new Error(`The requested path contains ${b} segment at index ${C}`)}}(b),this.navigateByUrl(this.createUrlTree(b,R),R)}serializeUrl(b){return this.urlSerializer.serialize(b)}parseUrl(b){let R;try{R=this.urlSerializer.parse(b)}catch(k){R=this.malformedUriErrorHandler(k,this.urlSerializer,b)}return R}isActive(b,R){let k;if(k=!0===R?Object.assign({},Vi):!1===R?Object.assign({},Pi):R,nr(b))return t2(this.currentUrlTree,b,k);const W=this.parseUrl(b);return t2(this.currentUrlTree,W,k)}removeEmptyProps(b){return Object.keys(b).reduce((R,k)=>{const W=b[k];return null!=W&&(R[k]=W),R},{})}processNavigations(){this.navigations.subscribe(b=>{this.navigated=!0,this.lastSuccessfulId=b.id,this.currentPageId=b.targetPageId,this.events.next(new Qt(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,b.resolve(!0)},b=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(b,R,k,W,se){var pe,Re;if(this.disposed)return Promise.resolve(!1);const bt=this.getTransition(),Ot=x2(R)&&bt&&!x2(bt.source),Dt=(this.lastSuccessfulId===bt.id||this.currentNavigation?bt.rawUrl:bt.urlAfterRedirects).toString()===b.toString();if(Ot&&Dt)return Promise.resolve(!0);let z2,t1,p1;se?(z2=se.resolve,t1=se.reject,p1=se.promise):p1=new Promise((Z1,f1)=>{z2=Z1,t1=f1});const Jn=++this.navigationId;let R2;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(k=this.location.getState()),R2=k&&k.\u0275routerPageId?k.\u0275routerPageId:W.replaceUrl||W.skipLocationChange?null!==(pe=this.browserPageId)&&void 0!==pe?pe:0:(null!==(Re=this.browserPageId)&&void 0!==Re?Re:0)+1):R2=0,this.setTransition({id:Jn,targetPageId:R2,source:R,restoredState:k,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:b,extras:W,resolve:z2,reject:t1,promise:p1,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p1.catch(Z1=>Promise.reject(Z1))}setBrowserUrl(b,R){const k=this.urlSerializer.serialize(b),W=Object.assign(Object.assign({},R.extras.state),this.generateNgRouterState(R.id,R.targetPageId));this.location.isCurrentPathEqualTo(k)||R.extras.replaceUrl?this.location.replaceState(k,"",W):this.location.go(k,"",W)}restoreHistory(b,R=!1){var k,W;if("computed"===this.canceledNavigationResolution){const se=this.currentPageId-b.targetPageId;"popstate"!==b.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(k=this.currentNavigation)||void 0===k?void 0:k.finalUrl)||0===se?this.currentUrlTree===(null===(W=this.currentNavigation)||void 0===W?void 0:W.finalUrl)&&0===se&&(this.resetState(b),this.browserUrlTree=b.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(se)}else"replace"===this.canceledNavigationResolution&&(R&&this.resetState(b),this.resetUrlToCurrentUrlTree())}resetState(b){this.routerState=b.currentRouterState,this.currentUrlTree=b.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(b,R){const k=new Qn(b.id,this.serializeUrl(b.extractedUrl),R);this.triggerEvent(k),b.resolve(!1)}generateNgRouterState(b,R){return"computed"===this.canceledNavigationResolution?{navigationId:b,\u0275routerPageId:R}:{navigationId:b}}}return A.\u0275fac=function(b){return new(b||A)(T.LFG(T.DyG),T.LFG(Ar),T.LFG(fs),T.LFG(D.Ye),T.LFG(T.zs3),T.LFG(T.v3s),T.LFG(T.Sil),T.LFG(void 0))},A.\u0275prov=T.Yz7({token:A,factory:A.\u0275fac}),A})();function x2(A){return"imperative"!==A}let q1=(()=>{class A{constructor(b,R,k,W,se){this.parentContexts=b,this.location=R,this.resolver=k,this.changeDetector=se,this.activated=null,this._activatedRoute=null,this.activateEvents=new T.vpe,this.deactivateEvents=new T.vpe,this.name=W||Jt,b.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const b=this.parentContexts.getContext(this.name);b&&b.route&&(b.attachRef?this.attach(b.attachRef,b.route):this.activateWith(b.route,b.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const b=this.activated;return this.activated=null,this._activatedRoute=null,b}attach(b,R){this.activated=b,this._activatedRoute=R,this.location.insert(b.hostView)}deactivate(){if(this.activated){const b=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(b)}}activateWith(b,R){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=b;const se=(R=R||this.resolver).resolveComponentFactory(b._futureSnapshot.routeConfig.component),pe=this.parentContexts.getOrCreateContext(this.name).children,Re=new M1(b,pe,this.location.injector);this.activated=this.location.createComponent(se,this.location.length,Re),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return A.\u0275fac=function(b){return new(b||A)(T.Y36(fs),T.Y36(T.s_b),T.Y36(T._Vd),T.$8M("name"),T.Y36(T.sBO))},A.\u0275dir=T.lG2({type:A,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),A})();class M1{constructor(C,b,R){this.route=C,this.childContexts=b,this.parent=R}get(C,b){return C===Pn?this.route:C===fs?this.childContexts:this.parent.get(C,b)}}class _a{}class y4{preload(C,b){return(0,ve.of)(null)}}let ko=(()=>{class A{constructor(b,R,k,W,se){this.router=b,this.injector=W,this.preloadingStrategy=se,this.loader=new Hr(R,k,bt=>b.triggerEvent(new Hn(bt)),bt=>b.triggerEvent(new Zn(bt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Fe.h)(b=>b instanceof Qt),ke(()=>this.preload())).subscribe(()=>{})}preload(){const b=this.injector.get(T.h0i);return this.processRoutes(b,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(b,R){const k=[];for(const W of R)if(W.loadChildren&&!W.canLoad&&W._loadedConfig){const se=W._loadedConfig;k.push(this.processRoutes(se.module,se.routes))}else W.loadChildren&&!W.canLoad?k.push(this.preloadConfig(b,W)):W.children&&k.push(this.processRoutes(b,W.children));return(0,ee.D)(k).pipe((0,Nn.J)(),(0,Ct.U)(W=>{}))}preloadConfig(b,R){return this.preloadingStrategy.preload(R,()=>(R._loadedConfig?(0,ve.of)(R._loadedConfig):this.loader.load(b.injector,R)).pipe((0,Pt.zg)(W=>(R._loadedConfig=W,this.processRoutes(W.module,W.routes)))))}}return A.\u0275fac=function(b){return new(b||A)(T.LFG(W1),T.LFG(T.v3s),T.LFG(T.Sil),T.LFG(T.zs3),T.LFG(_a))},A.\u0275prov=T.Yz7({token:A,factory:A.\u0275fac}),A})(),pi=(()=>{class A{constructor(b,R,k={}){this.router=b,this.viewportScroller=R,this.options=k,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},k.scrollPositionRestoration=k.scrollPositionRestoration||"disabled",k.anchorScrolling=k.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(b=>{b instanceof v1?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=b.navigationTrigger,this.restoredId=b.restoredState?b.restoredState.navigationId:0):b instanceof Qt&&(this.lastId=b.id,this.scheduleScrollEvent(b,this.router.parseUrl(b.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(b=>{b instanceof C2&&(b.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(b.position):b.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(b.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(b,R){this.router.triggerEvent(new C2(b,"popstate"===this.lastSource?this.store[this.restoredId]:null,R))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return A.\u0275fac=function(b){return new(b||A)(T.LFG(W1),T.LFG(D.EM),T.LFG(void 0))},A.\u0275prov=T.Yz7({token:A,factory:A.\u0275fac}),A})();const D2=new T.OlP("ROUTER_CONFIGURATION"),hs=new T.OlP("ROUTER_FORROOT_GUARD"),ds=[D.Ye,{provide:Ar,useClass:J1},{provide:W1,useFactory:function(A,C,b,R,k,W,se,pe={},Re,bt){const Ot=new W1(null,A,C,b,R,k,W,pt(se));return Re&&(Ot.urlHandlingStrategy=Re),bt&&(Ot.routeReuseStrategy=bt),function(A,C){A.errorHandler&&(C.errorHandler=A.errorHandler),A.malformedUriErrorHandler&&(C.malformedUriErrorHandler=A.malformedUriErrorHandler),A.onSameUrlNavigation&&(C.onSameUrlNavigation=A.onSameUrlNavigation),A.paramsInheritanceStrategy&&(C.paramsInheritanceStrategy=A.paramsInheritanceStrategy),A.relativeLinkResolution&&(C.relativeLinkResolution=A.relativeLinkResolution),A.urlUpdateStrategy&&(C.urlUpdateStrategy=A.urlUpdateStrategy)}(pe,Ot),pe.enableTracing&&Ot.events.subscribe(pn=>{var Tn,Dt;null===(Tn=console.group)||void 0===Tn||Tn.call(console,`Router Event: ${pn.constructor.name}`),console.log(pn.toString()),console.log(pn),null===(Dt=console.groupEnd)||void 0===Dt||Dt.call(console)}),Ot},deps:[Ar,fs,D.Ye,T.zs3,T.v3s,T.Sil,G1,D2,[class{},new T.FiY],[class{},new T.FiY]]},fs,{provide:Pn,useFactory:function(A){return A.routerState.root},deps:[W1]},{provide:T.v3s,useClass:T.EAV},ko,y4,class{preload(C,b){return b().pipe(ot(()=>(0,ve.of)(null)))}},{provide:D2,useValue:{enableTracing:!1}}];function N2(){return new T.PXZ("Router",W1)}let Ca=(()=>{class A{constructor(b,R){}static forRoot(b,R){return{ngModule:A,providers:[ds,Ge(b),{provide:hs,useFactory:Cr,deps:[[W1,new T.FiY,new T.tp0]]},{provide:D2,useValue:R||{}},{provide:D.S$,useFactory:Q2,deps:[D.lw,[new T.tBr(D.mr),new T.FiY],D2]},{provide:pi,useFactory:lo,deps:[W1,D.EM,D2]},{provide:_a,useExisting:R&&R.preloadingStrategy?R.preloadingStrategy:y4},{provide:T.PXZ,multi:!0,useFactory:N2},[C4,{provide:T.ip1,multi:!0,useFactory:ft,deps:[C4]},{provide:Hi,useFactory:z1,deps:[C4]},{provide:T.tb,multi:!0,useExisting:Hi}]]}}static forChild(b){return{ngModule:A,providers:[Ge(b)]}}}return A.\u0275fac=function(b){return new(b||A)(T.LFG(hs,8),T.LFG(W1,8))},A.\u0275mod=T.oAB({type:A}),A.\u0275inj=T.cJS({}),A})();function lo(A,C,b){return b.scrollOffset&&C.setOffset(b.scrollOffset),new pi(A,C,b)}function Q2(A,C,b={}){return b.useHash?new D.Do(A,C):new D.b0(A,C)}function Cr(A){return"guarded"}function Ge(A){return[{provide:T.deG,multi:!0,useValue:A},{provide:G1,multi:!0,useValue:A}]}let C4=(()=>{class A{constructor(b){this.injector=b,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ie.xQ}appInitializer(){return this.injector.get(D.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let R=null;const k=new Promise(pe=>R=pe),W=this.injector.get(W1),se=this.injector.get(D2);return"disabled"===se.initialNavigation?(W.setUpLocationChangeListener(),R(!0)):"enabled"===se.initialNavigation||"enabledBlocking"===se.initialNavigation?(W.hooks.afterPreactivation=()=>this.initNavigation?(0,ve.of)(null):(this.initNavigation=!0,R(!0),this.resultOfPreactivationDone),W.initialNavigation()):R(!0),k})}bootstrapListener(b){const R=this.injector.get(D2),k=this.injector.get(ko),W=this.injector.get(pi),se=this.injector.get(W1),pe=this.injector.get(T.z2F);b===pe.components[0]&&(("enabledNonBlocking"===R.initialNavigation||void 0===R.initialNavigation)&&se.initialNavigation(),k.setUpPreloading(),W.init(),se.resetRootComponentType(pe.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return A.\u0275fac=function(b){return new(b||A)(T.LFG(T.zs3))},A.\u0275prov=T.Yz7({token:A,factory:A.\u0275fac}),A})();function ft(A){return A.appInitializer.bind(A)}function z1(A){return A.bootstrapListener.bind(A)}const Hi=new T.OlP("Router Initializer")},4486:(yt,He,U)=>{"use strict";U.d(He,{Z:()=>ve});var D=U(4685),T=U(6034),Le=U(5452),re=U(300);class De{constructor(Ce,Xe){this._delegate=Ce,this.firebase=Xe,(0,Le._addComponent)(Ce,new T.wA("app-compat",()=>this,"PUBLIC")),this.container=Ce.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ce){this._delegate.automaticDataCollectionEnabled=Ce}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ce=>{this._delegate.checkDestroyed(),Ce()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Le.deleteApp)(this._delegate)))}_getService(Ce,Xe=Le._DEFAULT_ENTRY_NAME){var Be;this._delegate.checkDestroyed();const Ie=this._delegate.container.getProvider(Ce);return!Ie.isInitialized()&&"EXPLICIT"===(null===(Be=Ie.getComponent())||void 0===Be?void 0:Be.instantiationMode)&&Ie.initialize(),Ie.getImmediate({identifier:Xe})}_removeServiceInstance(Ce,Xe=Le._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ce).clearInstance(Xe)}_addComponent(Ce){(0,Le._addComponent)(this._delegate,Ce)}_addOrOverwriteComponent(Ce){(0,Le._addOrOverwriteComponent)(this._delegate,Ce)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new D.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Q=function ae(){const be=function(be){const Ce={},Xe={__esModule:!0,initializeApp:function(Pt,ke={}){const Fe=Le.initializeApp(Pt,ke);if((0,D.r3)(Ce,Fe.name))return Ce[Fe.name];const ye=new be(Fe,Xe);return Ce[Fe.name]=ye,ye},app:Ie,registerVersion:Le.registerVersion,setLogLevel:Le.setLogLevel,onLog:Le.onLog,apps:null,SDK_VERSION:Le.SDK_VERSION,INTERNAL:{registerComponent:function(Pt){const ke=Pt.name,Fe=ke.replace("-compat","");if(Le._registerComponent(Pt)&&"PUBLIC"===Pt.type){const ye=(Ue=Ie())=>{if("function"!=typeof Ue[Fe])throw xe.create("invalid-app-argument",{appName:ke});return Ue[Fe]()};void 0!==Pt.serviceProps&&(0,D.ZB)(ye,Pt.serviceProps),Xe[Fe]=ye,be.prototype[Fe]=function(...Ue){return this._getService.bind(this,ke).apply(this,Pt.multipleInstances?Ue:[])}}return"PUBLIC"===Pt.type?Xe[Fe]:null},removeApp:function(Pt){delete Ce[Pt]},useAsService:function(Pt,ke){return"serverAuth"===ke?null:ke},modularAPIs:Le}};function Ie(Pt){if(!(0,D.r3)(Ce,Pt=Pt||Le._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:Pt});return Ce[Pt]}return Xe.default=Xe,Object.defineProperty(Xe,"apps",{get:function(){return Object.keys(Ce).map(Pt=>Ce[Pt])}}),Ie.App=be,Xe}(De);return be.INTERNAL=Object.assign(Object.assign({},be.INTERNAL),{createFirebaseNamespace:ae,extendNamespace:function(Xe){(0,D.ZB)(be,Xe)},createSubscribe:D.ne,ErrorFactory:D.LL,deepExtend:D.ZB}),be}(),J=new re.Yd("@firebase/app-compat");if((0,D.jU)()&&void 0!==self.firebase){J.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const be=self.firebase.SDK_VERSION;be&&be.indexOf("LITE")>=0&&J.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const je=Q;(0,Le.registerVersion)("@firebase/app-compat","0.0.900-exp.8b4d7550f",undefined);const ve=je},5452:(yt,He,U)=>{"use strict";U.r(He),U.d(He,{SDK_VERSION:()=>e1,_DEFAULT_ENTRY_NAME:()=>vt,_addComponent:()=>sn,_addOrOverwriteComponent:()=>At,_apps:()=>kt,_clearComponents:()=>zn,_components:()=>tn,_getProvider:()=>Ct,_registerComponent:()=>Cn,_removeServiceInstance:()=>Ut,deleteApp:()=>v1,getApp:()=>Nn,getApps:()=>Ln,initializeApp:()=>wn,onLog:()=>Xt,registerVersion:()=>Qn,setLogLevel:()=>h1});var D=U(8239),T=U(6034),Le=U(300),re=U(4685);class De{constructor(et){this.container=et}getPlatformInfoString(){return this.container.getProviders().map(vn=>{if(function(Rt){const et=Rt.getComponent();return"VERSION"===(null==et?void 0:et.type)}(vn)){const Hn=vn.getImmediate();return`${Hn.library}/${Hn.version}`}return null}).filter(vn=>vn).join(" ")}}const xe="@firebase/app-exp",ae=new Le.Yd("@firebase/app"),vt="[DEFAULT]",at={[xe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics-exp":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check-exp":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth-exp":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions-exp":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations-exp":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging-exp":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance-exp":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config-exp":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js","firebase-exp":"fire-js-all"},kt=new Map,tn=new Map;function sn(Rt,et){try{Rt.container.addComponent(et)}catch(vn){ae.debug(`Component ${et.name} failed to register with FirebaseApp ${Rt.name}`,vn)}}function At(Rt,et){Rt.container.addOrOverwriteComponent(et)}function Cn(Rt){const et=Rt.name;if(tn.has(et))return ae.debug(`There were multiple attempts to register component ${et}.`),!1;tn.set(et,Rt);for(const vn of kt.values())sn(vn,Rt);return!0}function Ct(Rt,et){return Rt.container.getProvider(et)}function Ut(Rt,et,vn=vt){Ct(Rt,et).clearInstance(vn)}function zn(){tn.clear()}const Xn=new re.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class Mn{constructor(et,vn,Hn){this._isDeleted=!1,this._options=Object.assign({},et),this._config=Object.assign({},vn),this._name=vn.name,this._automaticDataCollectionEnabled=vn.automaticDataCollectionEnabled,this._container=Hn,this.container.addComponent(new T.wA("app-exp",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this.checkDestroyed(),this._automaticDataCollectionEnabled=et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(et){this._isDeleted=et}checkDestroyed(){if(this.isDeleted)throw Xn.create("app-deleted",{appName:this._name})}}const e1="9.0.0-beta.8";function wn(Rt,et={}){"object"!=typeof et&&(et={name:et});const vn=Object.assign({name:vt,automaticDataCollectionEnabled:!1},et),Hn=vn.name;if("string"!=typeof Hn||!Hn)throw Xn.create("bad-app-name",{appName:String(Hn)});const Zn=kt.get(Hn);if(Zn){if((0,re.vZ)(Rt,Zn.options)&&(0,re.vZ)(vn,Zn.config))return Zn;throw Xn.create("duplicate-app",{appName:Hn})}const dn=new T.H0(Hn);for(const Et of tn.values())dn.addComponent(Et);const Nt=new Mn(Rt,vn,dn);return kt.set(Hn,Nt),Nt}function Nn(Rt=vt){const et=kt.get(Rt);if(!et)throw Xn.create("no-app",{appName:Rt});return et}function Ln(){return Array.from(kt.values())}function v1(Rt){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,D.Z)(function*(Rt){const et=Rt.name;kt.has(et)&&(kt.delete(et),yield Promise.all(Rt.container.getProviders().map(vn=>vn.delete())),Rt.isDeleted=!0)})).apply(this,arguments)}function Qn(Rt,et,vn){var Hn;let Zn=null!==(Hn=at[Rt])&&void 0!==Hn?Hn:Rt;vn&&(Zn+=`-${vn}`);const dn=Zn.match(/\s|\//),Nt=et.match(/\s|\//);if(dn||Nt){const Et=[`Unable to register library "${Zn}" with version "${et}":`];return dn&&Et.push(`library name "${Zn}" contains illegal characters (whitespace or "/")`),dn&&Nt&&Et.push("and"),Nt&&Et.push(`version name "${et}" contains illegal characters (whitespace or "/")`),void ae.warn(Et.join(" "))}Cn(new T.wA(`${Zn}-version`,()=>({library:Zn,version:et}),"VERSION"))}function Xt(Rt,et){if(null!==Rt&&"function"!=typeof Rt)throw Xn.create("invalid-log-argument");(0,Le.Am)(Rt,et)}function h1(Rt){(0,Le.Ub)(Rt)}Cn(new T.wA("platform-logger",et=>new De(et),"PRIVATE")),Qn(xe,"0.0.900-exp.8b4d7550f",undefined),Qn("fire-js","")},8397:(yt,He,U)=>{"use strict";U.d(He,{$:()=>ae,A:()=>zt,B:()=>m1,C:()=>x4,D:()=>f3,E:()=>Da,G:()=>Ec,H:()=>go,I:()=>a3,J:()=>Uo,K:()=>U6,L:()=>Ma,M:()=>M4,N:()=>Mc,P:()=>jo,R:()=>S4,S:()=>w2,_:()=>b2,a:()=>t2,a3:()=>oi,a4:()=>r2,a6:()=>Pn,a8:()=>$e,a9:()=>o2,aA:()=>we,aB:()=>Je,aC:()=>$t,aF:()=>hi,aG:()=>kr,aI:()=>ks,aJ:()=>fs,aa:()=>Rs,ab:()=>ui,ac:()=>xi,ad:()=>G2,af:()=>W2,ag:()=>is,ah:()=>P,ai:()=>O,aj:()=>fe,ak:()=>Ht,al:()=>an,am:()=>qr,an:()=>i1,ao:()=>H1,ap:()=>L1,aq:()=>Vs,ar:()=>cs,as:()=>oo,at:()=>Ps,au:()=>Z2,av:()=>yn,aw:()=>E1,ax:()=>H,b:()=>Bn,c:()=>je,d:()=>Be,e:()=>fo,f:()=>R,g:()=>ve,h:()=>Ce,i:()=>mt,j:()=>c2,k:()=>Te,l:()=>I1,m:()=>js,n:()=>mi,o:()=>Lt,r:()=>Oi,w:()=>ho,x:()=>Hi,y:()=>Ta,z:()=>u3});var D=U(8239),T=U(5452),Le=U(6034),re=U(4685),De=U(300),le=U(4762);const ae=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"Auth can only be initialized once per app."}},J=new re.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ee=new De.Yd("@firebase/auth-exp");function _e(E,...m){ee.logLevel<=De.in.ERROR&&ee.error(`Auth (${T.SDK_VERSION}): ${E}`,...m)}function je(E,...m){throw be(E,...m)}function ve(E,...m){return be(E,...m)}function be(E,...m){if("string"!=typeof E){const v=m[0],x=[...m.slice(1)];return x[0]&&(x[0].appName=E.name),E._errorFactory.create(v,...x)}return J.create(E,...m)}function Ce(E,m,...v){if(!E)throw be(m,...v)}function Xe(E){const m="INTERNAL ASSERTION FAILED: "+E;throw _e(m),new Error(m)}function Be(E,m){E||Xe(m)}const Ie=new Map;function mt(E){Be(E instanceof Function,"Expected a class definition");let m=Ie.get(E);return m?(Be(m instanceof E,"Instance stored in cache mismatched with class"),m):(m=new E,Ie.set(E,m),m)}function Mt(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function Pt(){return"http:"===ke()||"https:"===ke()}function ke(){var E;return"undefined"!=typeof self&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Ue{constructor(m,v){this.shortDelay=m,this.longDelay=v,Be(v>m,"Short delay should be less than long delay!"),this.isMobile=(0,re.uI)()||(0,re.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Pt()||(0,re.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ae(E,m){Be(E.emulator,"Emulator should always be set here");const{url:v}=E.emulator;return m?`${v}${m.startsWith("/")?m.slice(1):m}`:v}class Ne{static initialize(m,v,x){this.fetchImpl=m,v&&(this.headersImpl=v),x&&(this.responseImpl=x)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Xe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Xe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Xe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const lt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded"},_t=new Ue(3e4,6e4);function vt(E,m){return E.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:E.tenantId}):m}function at(E,m,v,x){return kt.apply(this,arguments)}function kt(){return(kt=(0,D.Z)(function*(E,m,v,x,$={}){return tn(E,$,()=>{let te={},Pe={};x&&("GET"===m?Pe=x:te={body:JSON.stringify(x)});const tt=(0,re.xO)(Object.assign({key:E.config.apiKey},Pe)).slice(1),It=new(Ne.headers());return It.set("Content-Type","application/json"),It.set("X-Client-Version",E._getSdkClientVersion()),E.languageCode&&It.set("X-Firebase-Locale",E.languageCode),Ne.fetch()(Ct(E,E.config.apiHost,v,tt),Object.assign({method:m,headers:It,referrerPolicy:"no-referrer"},te))})})).apply(this,arguments)}function tn(E,m,v){return sn.apply(this,arguments)}function sn(){return(sn=(0,D.Z)(function*(E,m,v){E._canInitEmulator=!1;const x=Object.assign(Object.assign({},lt),m);try{const $=new Ut(E),te=yield Promise.race([v(),$.promise]);$.clearNetworkTimeout();const Pe=yield te.json();if("needConfirmation"in Pe)throw zn(E,"account-exists-with-different-credential",Pe);if(te.ok&&!("errorMessage"in Pe))return Pe;{const It=(te.ok?Pe.errorMessage:Pe.error.message).split(" : ")[0];if("FEDERATED_USER_ID_ALREADY_LINKED"===It)throw zn(E,"credential-already-in-use",Pe);if("EMAIL_EXISTS"===It)throw zn(E,"email-already-in-use",Pe);je(E,x[It]||It.toLowerCase().replace(/[_\s]+/g,"-"))}}catch($){if($ instanceof re.ZR)throw $;je(E,"network-request-failed")}})).apply(this,arguments)}function At(E,m,v,x){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,D.Z)(function*(E,m,v,x,$={}){const te=yield at(E,m,v,x,$);return"mfaPendingCredential"in te&&je(E,"multi-factor-auth-required",{serverResponse:te}),te})).apply(this,arguments)}function Ct(E,m,v,x){const $=`${m}${v}?${x}`;return E.config.emulator?Ae(E.config,$):`${E.config.apiScheme}://${$}`}class Ut{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((v,x)=>{this.timer=setTimeout(()=>x(ve(this.auth,"timeout")),_t.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zn(E,m,v){const x={appName:E.name};v.email&&(x.email=v.email),v.phoneNumber&&(x.phoneNumber=v.phoneNumber);const $=ve(E,m,x);return $.customData._tokenResponse=v,$}function Xn(){return(Xn=(0,D.Z)(function*(E,m){return at(E,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function Mn(E,m){return e1.apply(this,arguments)}function e1(){return(e1=(0,D.Z)(function*(E,m){return at(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function wn(E,m){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,D.Z)(function*(E,m){return at(E,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function Ln(E){if(E)try{const m=new Date(Number(E));if(!isNaN(m.getTime()))return m.toUTCString()}catch(m){}}function Qn(){return(Qn=(0,D.Z)(function*(E,m=!1){const v=(0,re.m9)(E),x=yield v.getIdToken(m),$=h1(x);Ce($&&$.exp&&$.auth_time&&$.iat,v.auth,"internal-error");const te="object"==typeof $.firebase?$.firebase:void 0,Pe=null==te?void 0:te.sign_in_provider;return{claims:$,token:x,authTime:Ln(Xt($.auth_time)),issuedAtTime:Ln(Xt($.iat)),expirationTime:Ln(Xt($.exp)),signInProvider:Pe||null,signInSecondFactor:(null==te?void 0:te.sign_in_second_factor)||null}})).apply(this,arguments)}function Xt(E){return 1e3*Number(E)}function h1(E){const[m,v,x]=E.split(".");if(void 0===m||void 0===v||void 0===x)return _e("JWT malformed, contained fewer than 3 sections"),null;try{const $=(0,re.tV)(v);return $?JSON.parse($):(_e("Failed to decode base64 JWT payload"),null)}catch($){return _e("Caught error parsing JWT payload as JSON",$),null}}function Rt(E,m){return et.apply(this,arguments)}function et(){return(et=(0,D.Z)(function*(E,m,v=!1){if(v)return m;try{return yield m}catch(x){throw x instanceof re.ZR&&vn(x)&&E.auth.currentUser===E&&(yield E.auth.signOut()),x}})).apply(this,arguments)}function vn({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class Hn{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var v;if(m){const x=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),x}{this.errorBackoff=3e4;const $=(null!==(v=this.user.stsTokenManager.expirationTime)&&void 0!==v?v:0)-Date.now()-3e5;return Math.max(0,$)}}schedule(m=!1){var v=this;if(!this.isRunning)return;const x=this.getInterval(m);this.timerId=setTimeout((0,D.Z)(function*(){yield v.iteration()}),x)}iteration(){var m=this;return(0,D.Z)(function*(){try{yield m.user.getIdToken(!0)}catch(v){return void("auth/network-request-failed"===v.code&&m.schedule(!0))}m.schedule()})()}}class Zn{constructor(m,v){this.createdAt=m,this.lastLoginAt=v,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ln(this.lastLoginAt),this.creationTime=Ln(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function dn(E){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,D.Z)(function*(E){var m;const v=E.auth,x=yield E.getIdToken(),$=yield Rt(E,wn(v,{idToken:x}));Ce(null==$?void 0:$.users.length,v,"internal-error");const te=$.users[0];E._notifyReloadListener(te);const Pe=(null===(m=te.providerUserInfo)||void 0===m?void 0:m.length)?Jt(te.providerUserInfo):[],tt=C2(E.providerData,Pe),F1=!!E.isAnonymous&&!(E.email&&te.passwordHash||(null==tt?void 0:tt.length)),on={uid:te.localId,displayName:te.displayName||null,photoURL:te.photoUrl||null,email:te.email||null,emailVerified:te.emailVerified||!1,phoneNumber:te.phoneNumber||null,tenantId:te.tenantId||null,providerData:tt,metadata:new Zn(te.createdAt,te.lastLoginAt),isAnonymous:F1};Object.assign(E,on)})).apply(this,arguments)}function y1(){return(y1=(0,D.Z)(function*(E){const m=(0,re.m9)(E);yield dn(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function C2(E,m){return[...E.filter(x=>!m.some($=>$.providerId===x.providerId)),...m]}function Jt(E){return E.map(m=>{var{providerId:v}=m,x=(0,le._T)(m,["providerId"]);return{providerId:v,uid:x.rawId||"",displayName:x.displayName||null,email:x.email||null,phoneNumber:x.phoneNumber||null,photoURL:x.photoUrl||null}})}function o1(){return(o1=(0,D.Z)(function*(E,m){const v=yield tn(E,{},()=>{const x=(0,re.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:$,apiKey:te}=E.config,Pe=Ct(E,$,"/v1/token",`key=${te}`);return Ne.fetch()(Pe,{method:"POST",headers:{"X-Client-Version":E._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:x})});return{accessToken:v.access_token,expiresIn:v.expires_in,refreshToken:v.refresh_token}})).apply(this,arguments)}class Mr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){Ce(m.idToken,"internal-error"),Ce(void 0!==m.idToken,"internal-error"),Ce(void 0!==m.refreshToken,"internal-error");const v="expiresIn"in m&&void 0!==m.expiresIn?Number(m.expiresIn):function(E){const m=h1(E);return Ce(m,"internal-error"),Ce(void 0!==m.exp,"internal-error"),Ce(void 0!==m.iat,"internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,v)}getToken(m,v=!1){var x=this;return(0,D.Z)(function*(){return Ce(!x.accessToken||x.refreshToken,m,"user-token-expired"),v||!x.accessToken||x.isExpired?x.refreshToken?(yield x.refresh(m,x.refreshToken),x.accessToken):null:x.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,v){var x=this;return(0,D.Z)(function*(){const{accessToken:$,refreshToken:te,expiresIn:Pe}=yield function(E,m){return o1.apply(this,arguments)}(m,v);x.updateTokensAndExpiration($,te,Number(Pe))})()}updateTokensAndExpiration(m,v,x){this.refreshToken=v||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*x}static fromJSON(m,v){const{refreshToken:x,accessToken:$,expirationTime:te}=v,Pe=new Mr;return x&&(Ce("string"==typeof x,"internal-error",{appName:m}),Pe.refreshToken=x),$&&(Ce("string"==typeof $,"internal-error",{appName:m}),Pe.accessToken=$),te&&(Ce("number"==typeof te,"internal-error",{appName:m}),Pe.expirationTime=te),Pe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new Mr,this.toJSON())}_performRefresh(){return Xe("not implemented")}}function ue(E,m){Ce("string"==typeof E||void 0===E,"internal-error",{appName:m})}class de{constructor(m){var{uid:v,auth:x,stsTokenManager:$}=m,te=(0,le._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new Hn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=v,this.auth=x,this.stsTokenManager=$,this.accessToken=$.accessToken,this.displayName=te.displayName||null,this.email=te.email||null,this.phoneNumber=te.phoneNumber||null,this.photoURL=te.photoURL||null,this.isAnonymous=te.isAnonymous||!1,this.metadata=new Zn(te.createdAt||void 0,te.lastLoginAt||void 0)}getIdToken(m){var v=this;return(0,D.Z)(function*(){const x=yield Rt(v,v.stsTokenManager.getToken(v.auth,m));return Ce(x,v.auth,"internal-error"),v.accessToken!==x&&(v.accessToken=x,yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)),x})()}getIdTokenResult(m){return function(E){return Qn.apply(this,arguments)}(this,m)}reload(){return function(E){return y1.apply(this,arguments)}(this)}_assign(m){this!==m&&(Ce(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(v=>Object.assign({},v)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new de(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,v=!1){var x=this;return(0,D.Z)(function*(){let $=!1;m.idToken&&m.idToken!==x.stsTokenManager.accessToken&&(x.stsTokenManager.updateFromServerResponse(m),$=!0),v&&(yield dn(x)),yield x.auth._persistUserIfCurrent(x),$&&x.auth._notifyListenersIfCurrent(x)})()}delete(){var m=this;return(0,D.Z)(function*(){const v=yield m.getIdToken();return yield Rt(m,function(E,m){return Xn.apply(this,arguments)}(m.auth,{idToken:v})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,v){var x,$,te,Pe,tt,It,bn,F1;const on=null!==(x=v.displayName)&&void 0!==x?x:void 0,Bi=null!==($=v.email)&&void 0!==$?$:void 0,_i=null!==(te=v.phoneNumber)&&void 0!==te?te:void 0,ys=null!==(Pe=v.photoURL)&&void 0!==Pe?Pe:void 0,qo=null!==(tt=v.tenantId)&&void 0!==tt?tt:void 0,Zo=null!==(It=v._redirectEventId)&&void 0!==It?It:void 0,Ic=null!==(bn=v.createdAt)&&void 0!==bn?bn:void 0,Ac=null!==(F1=v.lastLoginAt)&&void 0!==F1?F1:void 0,{uid:Sc,emailVerified:q6,isAnonymous:yo,providerData:La,stsTokenManager:Ci}=v;Ce(Sc&&Ci,m,"internal-error");const za=Mr.fromJSON(this.name,Ci);Ce("string"==typeof Sc,m,"internal-error"),ue(on,m.name),ue(Bi,m.name),Ce("boolean"==typeof q6,m,"internal-error"),Ce("boolean"==typeof yo,m,"internal-error"),ue(_i,m.name),ue(ys,m.name),ue(qo,m.name),ue(Zo,m.name),ue(Ic,m.name),ue(Ac,m.name);const D4=new de({uid:Sc,auth:m,email:Bi,emailVerified:q6,displayName:on,isAnonymous:yo,photoURL:ys,phoneNumber:_i,tenantId:qo,stsTokenManager:za,createdAt:Ic,lastLoginAt:Ac});return La&&Array.isArray(La)&&(D4.providerData=La.map(Ko=>Object.assign({},Ko))),Zo&&(D4._redirectEventId=Zo),D4}static _fromIdTokenResponse(m,v,x=!1){return(0,D.Z)(function*(){const $=new Mr;$.updateFromServerResponse(v);const te=new de({uid:v.localId,auth:m,stsTokenManager:$,isAnonymous:x});return yield dn(te),te})()}}const $e=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,D.Z)(function*(){return!0})()}_set(v,x){var $=this;return(0,D.Z)(function*(){$.storage[v]=x})()}_get(v){var x=this;return(0,D.Z)(function*(){const $=x.storage[v];return void 0===$?null:$})()}_remove(v){var x=this;return(0,D.Z)(function*(){delete x.storage[v]})()}_addListener(v,x){}_removeListener(v,x){}}return E.type="NONE",E})();function Te(E,m,v){return`firebase:${E}:${m}:${v}`}class ut{constructor(m,v,x){this.persistence=m,this.auth=v,this.userKey=x;const{config:$,name:te}=this.auth;this.fullUserKey=Te(this.userKey,$.apiKey,te),this.fullPersistenceKey=Te("persistence",$.apiKey,te),this.boundEventHandler=v._onStorageEvent.bind(v),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,D.Z)(function*(){const v=yield m.persistence._get(m.fullUserKey);return v?de._fromJSON(m.auth,v):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var v=this;return(0,D.Z)(function*(){if(v.persistence===m)return;const x=yield v.getCurrentUser();return yield v.removeCurrentUser(),v.persistence=m,x?v.setCurrentUser(x):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,v,x="authUser"){return(0,D.Z)(function*(){if(!v.length)return new ut(mt($e),m,x);let $=mt($e);for(const tt of v)if(yield tt._isAvailable()){$=tt;break}let te=null;const Pe=Te(x,m.config.apiKey,m.name);for(const tt of v)try{const It=yield tt._get(Pe);if(It){const bn=de._fromJSON(m,It);tt!==$&&(te=bn);break}}catch(It){}return te&&(yield $._set(Pe,te.toJSON())),yield Promise.all(v.map(function(){var tt=(0,D.Z)(function*(It){if(It!==$)try{yield It._remove(Pe)}catch(bn){}});return function(It){return tt.apply(this,arguments)}}())),new ut($,m,x)})()}}function pt(E){const m=E.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(An(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(ln(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(kn(m))return"Blackberry";if(ar(m))return"Webos";if(In(m))return"Safari";if((m.includes("chrome/")||wt(m))&&!m.includes("edge/"))return"Chrome";if(Bn(m))return"Android";{const x=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==x?void 0:x.length))return x[1]}return"Other"}function ln(E=(0,re.z$)()){return/firefox\//i.test(E)}function In(E=(0,re.z$)()){const m=E.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function wt(E=(0,re.z$)()){return/crios\//i.test(E)}function An(E=(0,re.z$)()){return/iemobile/i.test(E)}function Bn(E=(0,re.z$)()){return/android/i.test(E)}function kn(E=(0,re.z$)()){return/blackberry/i.test(E)}function ar(E=(0,re.z$)()){return/webos/i.test(E)}function t2(E=(0,re.z$)()){return/iphone|ipad|ipod/i.test(E)}function b2(E=(0,re.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}function $r(E=(0,re.z$)()){return t2(E)||Bn(E)||ar(E)||kn(E)||/windows phone/i.test(E)||An(E)}function Q1(E,m=[]){let v;switch(E){case"Browser":v=pt((0,re.z$)());break;case"Worker":v=`${pt((0,re.z$)())}-${E}`;break;default:v=E}const x=m.length?m.join(","):"FirebaseCore-web";return`${v}/JsCore/${T.SDK_VERSION}/${x}`}class d1{constructor(m,v){this.app=m,this.config=v,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n2(this),this.idTokenSubscription=new n2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.redirectInitializerError=null,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=J,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=v.sdkClientVersion}_initializeWithPersistence(m,v){var x=this;return v&&(this._popupRedirectResolver=mt(v)),this._initializationPromise=this.queue((0,D.Z)(function*(){var $;x._deleted||(x.persistenceManager=yield ut.create(x,m),!x._deleted&&((null===($=x._popupRedirectResolver)||void 0===$?void 0:$._shouldInitProactively)&&(yield x._popupRedirectResolver._initialize(x)),yield x.initializeCurrentUser(v),!x._deleted&&(x._isInitialized=!0)))})),this._initializationPromise.then(()=>{if(this.redirectInitializerError)throw this.redirectInitializerError})}_onStorageEvent(){var m=this;return(0,D.Z)(function*(){if(m._deleted)return;const v=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||v){if(m.currentUser&&v&&m.currentUser.uid===v.uid)return m._currentUser._assign(v),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(v)}})()}initializeCurrentUser(m){var v=this;return(0,D.Z)(function*(){var x;let $=yield v.assertedPersistence.getCurrentUser();if(m&&v.config.authDomain){yield v.getOrInitRedirectPersistenceManager();const te=null===(x=v.redirectUser)||void 0===x?void 0:x._redirectEventId,Pe=null==$?void 0:$._redirectEventId,tt=yield v.tryRedirectSignIn(m);(!te||te===Pe)&&(null==tt?void 0:tt.user)&&($=tt.user)}return $?$._redirectEventId?(Ce(v._popupRedirectResolver,v,"argument-error"),yield v.getOrInitRedirectPersistenceManager(),v.redirectUser&&v.redirectUser._redirectEventId===$._redirectEventId?v.directlySetCurrentUser($):v.reloadAndSetCurrentUserOrClear($)):v.reloadAndSetCurrentUserOrClear($):v.directlySetCurrentUser(null)})()}tryRedirectSignIn(m){var v=this;return(0,D.Z)(function*(){let x=null;try{x=yield v._popupRedirectResolver._completeRedirectFn(v,m,!0)}catch($){v.redirectInitializerError=$,yield v._setRedirectUser(null)}return x})()}reloadAndSetCurrentUserOrClear(m){var v=this;return(0,D.Z)(function*(){try{yield dn(m)}catch(x){if("auth/network-request-failed"!==x.code)return v.directlySetCurrentUser(null)}return v.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var m=this;return(0,D.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var v=this;return(0,D.Z)(function*(){const x=m?(0,re.m9)(m):null;return x&&Ce(x.auth.config.apiKey===v.config.apiKey,v,"invalid-user-token"),v._updateCurrentUser(x&&x._clone(v))})()}_updateCurrentUser(m){var v=this;return(0,D.Z)(function*(){if(!v._deleted)return m&&Ce(v.tenantId===m.tenantId,v,"tenant-id-mismatch"),v.queue((0,D.Z)(function*(){yield v.directlySetCurrentUser(m),v.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,D.Z)(function*(){return(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null)})()}setPersistence(m){var v=this;return this.queue((0,D.Z)(function*(){yield v.assertedPersistence.setPersistence(mt(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new re.LL("auth","Firebase",m())}onAuthStateChanged(m,v,x){return this.registerStateListener(this.authStateSubscription,m,v,x)}onIdTokenChanged(m,v,x){return this.registerStateListener(this.idTokenSubscription,m,v,x)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,v){var x=this;return(0,D.Z)(function*(){const $=yield x.getOrInitRedirectPersistenceManager(v);return null===m?$.removeCurrentUser():$.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var v=this;return(0,D.Z)(function*(){if(!v.redirectPersistenceManager){const x=m&&mt(m)||v._popupRedirectResolver;Ce(x,v,"argument-error"),v.redirectPersistenceManager=yield ut.create(v,[mt(x._redirectPersistence)],"redirectUser"),v.redirectUser=yield v.redirectPersistenceManager.getCurrentUser()}return v.redirectPersistenceManager})()}_redirectUserForId(m){var v=this;return(0,D.Z)(function*(){var x,$;return v._isInitialized&&(yield v.queue((0,D.Z)(function*(){}))),(null===(x=v._currentUser)||void 0===x?void 0:x._redirectEventId)===m?v._currentUser:(null===($=v.redirectUser)||void 0===$?void 0:$._redirectEventId)===m?v.redirectUser:null})()}_persistUserIfCurrent(m){var v=this;return(0,D.Z)(function*(){if(m===v.currentUser)return v.queue((0,D.Z)(function*(){return v.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,v;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const x=null!==(v=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==v?v:null;this.lastNotifiedUid!==x&&(this.lastNotifiedUid=x,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,v,x,$){if(this._deleted)return()=>{};const te="function"==typeof v?v:v.next.bind(v),Pe=this._isInitialized?Promise.resolve():this._initializationPromise;return Ce(Pe,this,"internal-error"),Pe.then(()=>te(this.currentUser)),"function"==typeof v?m.addObserver(v,x,$):m.addObserver(v)}directlySetCurrentUser(m){var v=this;return(0,D.Z)(function*(){v.currentUser&&v.currentUser!==m&&(v._currentUser._stopProactiveRefresh(),m&&v.isProactiveRefreshEnabled&&m._startProactiveRefresh()),v.currentUser=m,m?yield v.assertedPersistence.setCurrentUser(m):yield v.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Lt(E){return(0,re.m9)(E)}class n2{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,re.ne)(v=>this.observer=v)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function oi(E,m,v){const x=Lt(E);Ce(x._canInitEmulator,x,"emulator-config-failed"),Ce(/^https?:\/\//.test(m),x,"invalid-emulator-scheme");const $=!!(null==v?void 0:v.disableWarnings),te=Rn(m),{host:Pe,port:tt}=function(E){const m=Rn(E),v=/(\/\/)?([^?#/]+)/.exec(E.substr(m.length));if(!v)return{host:"",port:null};const x=v[2].split("@").pop()||"",$=/^(\[[^\]]+\])(:|$)/.exec(x);if($){const te=$[1];return{host:te,port:Ar(x.substr(te.length+1))}}{const[te,Pe]=x.split(":");return{host:te,port:Ar(Pe)}}}(m);x.config.emulator={url:`${te}//${Pe}${null===tt?"":`:${tt}`}/`},x.settings.appVerificationDisabledForTesting=!0,x.emulatorConfig=Object.freeze({host:Pe,port:tt,protocol:te.replace(":",""),options:Object.freeze({disableWarnings:$})}),function(E){function m(){const v=document.createElement("p"),x=v.style;v.innerText="Running in emulator mode. Do not use with production credentials.",x.position="fixed",x.width="100%",x.backgroundColor="#ffffff",x.border=".1em solid #000000",x.color="#b50000",x.bottom="0px",x.left="0px",x.margin="0px",x.zIndex="10000",x.textAlign="center",v.classList.add("firebase-emulator-warning"),document.body.appendChild(v)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&!E&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}($)}function Rn(E){const m=E.indexOf(":");return m<0?"":E.substr(0,m+1)}function Ar(E){if(!E)return null;const m=Number(E);return isNaN(m)?null:m}class r2{constructor(m,v){this.providerId=m,this.signInMethod=v}toJSON(){return Xe("not implemented")}_getIdTokenResponse(m){return Xe("not implemented")}_linkToIdToken(m,v){return Xe("not implemented")}_getReauthenticationResolver(m){return Xe("not implemented")}}function jn(E,m){return ct.apply(this,arguments)}function ct(){return(ct=(0,D.Z)(function*(E,m){return at(E,"POST","/v1/accounts:resetPassword",vt(E,m))})).apply(this,arguments)}function St(E,m){return nn.apply(this,arguments)}function nn(){return(nn=(0,D.Z)(function*(E,m){return at(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function j1(E,m){return C1.apply(this,arguments)}function C1(){return(C1=(0,D.Z)(function*(E,m){return at(E,"POST","/v1/accounts:update",vt(E,m))})).apply(this,arguments)}function x1(){return(x1=(0,D.Z)(function*(E,m){return At(E,"POST","/v1/accounts:signInWithPassword",vt(E,m))})).apply(this,arguments)}function Vn(E,m){return mr.apply(this,arguments)}function mr(){return(mr=(0,D.Z)(function*(E,m){return at(E,"POST","/v1/accounts:sendOobCode",vt(E,m))})).apply(this,arguments)}function ai(E,m){return en.apply(this,arguments)}function en(){return(en=(0,D.Z)(function*(E,m){return Vn(E,m)})).apply(this,arguments)}function Sr(E,m){return xr.apply(this,arguments)}function xr(){return(xr=(0,D.Z)(function*(E,m){return Vn(E,m)})).apply(this,arguments)}function ci(E,m){return gr.apply(this,arguments)}function gr(){return(gr=(0,D.Z)(function*(E,m){return Vn(E,m)})).apply(this,arguments)}function O1(E,m){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,D.Z)(function*(E,m){return Vn(E,m)})).apply(this,arguments)}function T1(){return(T1=(0,D.Z)(function*(E,m){return At(E,"POST","/v1/accounts:signInWithEmailLink",vt(E,m))})).apply(this,arguments)}function Fn(){return(Fn=(0,D.Z)(function*(E,m){return At(E,"POST","/v1/accounts:signInWithEmailLink",vt(E,m))})).apply(this,arguments)}class k1 extends r2{constructor(m,v,x,$=null){super("password",x),this._email=m,this._password=v,this._tenantId=$}static _fromEmailAndPassword(m,v){return new k1(m,v,"password")}static _fromEmailAndCode(m,v,x=null){return new k1(m,v,"emailLink",x)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m;if((null==v?void 0:v.email)&&(null==v?void 0:v.password)){if("password"===v.signInMethod)return this._fromEmailAndPassword(v.email,v.password);if("emailLink"===v.signInMethod)return this._fromEmailAndCode(v.email,v.password,v.tenantId)}return null}_getIdTokenResponse(m){var v=this;return(0,D.Z)(function*(){switch(v.signInMethod){case"password":return function(E,m){return x1.apply(this,arguments)}(m,{returnSecureToken:!0,email:v._email,password:v._password});case"emailLink":return function(E,m){return T1.apply(this,arguments)}(m,{email:v._email,oobCode:v._password});default:je(m,"internal-error")}})()}_linkToIdToken(m,v){var x=this;return(0,D.Z)(function*(){switch(x.signInMethod){case"password":return St(m,{idToken:v,returnSecureToken:!0,email:x._email,password:x._password});case"emailLink":return function(E,m){return Fn.apply(this,arguments)}(m,{idToken:v,email:x._email,oobCode:x._password});default:je(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function cr(E,m){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,D.Z)(function*(E,m){return At(E,"POST","/v1/accounts:signInWithIdp",vt(E,m))})).apply(this,arguments)}class Pn extends r2{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const v=new Pn(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(v.idToken=m.idToken),m.accessToken&&(v.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(v.nonce=m.nonce),m.pendingToken&&(v.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(v.accessToken=m.oauthToken,v.secret=m.oauthTokenSecret):je("argument-error"),v}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:x,signInMethod:$}=v,te=(0,le._T)(v,["providerId","signInMethod"]);if(!x||!$)return null;const Pe=new Pn(x,$);return Object.assign(Pe,te),Pe}_getIdTokenResponse(m){return cr(m,this.buildRequest())}_linkToIdToken(m,v){const x=this.buildRequest();return x.idToken=v,cr(m,x)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,cr(m,v)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const v={};this.idToken&&(v.id_token=this.idToken),this.accessToken&&(v.access_token=this.accessToken),this.secret&&(v.oauth_token_secret=this.secret),v.providerId=this.providerId,this.nonce&&!this.pendingToken&&(v.nonce=this.nonce),m.postBody=(0,re.xO)(v)}return m}}function i2(E,m){return b1.apply(this,arguments)}function b1(){return(b1=(0,D.Z)(function*(E,m){return at(E,"POST","/v1/accounts:sendVerificationCode",vt(E,m))})).apply(this,arguments)}function vr(){return(vr=(0,D.Z)(function*(E,m){return At(E,"POST","/v1/accounts:signInWithPhoneNumber",vt(E,m))})).apply(this,arguments)}function X1(){return(X1=(0,D.Z)(function*(E,m){const v=yield At(E,"POST","/v1/accounts:signInWithPhoneNumber",vt(E,m));if(v.temporaryProof)throw zn(E,"account-exists-with-different-credential",v);return v})).apply(this,arguments)}const s2={USER_NOT_FOUND:"user-not-found"};function er(){return(er=(0,D.Z)(function*(E,m){return At(E,"POST","/v1/accounts:signInWithPhoneNumber",vt(E,Object.assign(Object.assign({},m),{operation:"REAUTH"})),s2)})).apply(this,arguments)}class D1 extends r2{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,v){return new D1({verificationId:m,verificationCode:v})}static _fromTokenResponse(m,v){return new D1({phoneNumber:m,temporaryProof:v})}_getIdTokenResponse(m){return function(E,m){return vr.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,v){return function(E,m){return X1.apply(this,arguments)}(m,Object.assign({idToken:v},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function(E,m){return er.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:v,verificationId:x,verificationCode:$}=this.params;return m&&v?{temporaryProof:m,phoneNumber:v}:{sessionInfo:x,code:$}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:v,verificationCode:x,phoneNumber:$,temporaryProof:te}=m;return x||v||$||te?new D1({verificationId:v,verificationCode:x,phoneNumber:$,temporaryProof:te}):null}}class $2{constructor(m){var v,x,$,te,Pe,tt;const It=(0,re.zd)((0,re.pd)(m)),bn=null!==(v=It.apiKey)&&void 0!==v?v:null,F1=null!==(x=It.oobCode)&&void 0!==x?x:null,on=function(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==($=It.mode)&&void 0!==$?$:null);Ce(bn&&F1&&on,"argument-error"),this.apiKey=bn,this.operation=on,this.code=F1,this.continueUrl=null!==(te=It.continueUrl)&&void 0!==te?te:null,this.languageCode=null!==(Pe=It.languageCode)&&void 0!==Pe?Pe:null,this.tenantId=null!==(tt=It.tenantId)&&void 0!==tt?tt:null}static parseLink(m){const v=function(E){const m=(0,re.zd)((0,re.pd)(E)).link,v=m?(0,re.zd)((0,re.pd)(m)).deep_link_id:null,x=(0,re.zd)((0,re.pd)(E)).deep_link_id;return(x?(0,re.zd)((0,re.pd)(x)).link:null)||x||v||m||E}(m);try{return new $2(v)}catch(x){return null}}}let o2=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(v,x){return k1._fromEmailAndPassword(v,x)}static credentialWithLink(v,x){const $=$2.parseLink(x);return Ce($,"argument-error"),k1._fromEmailAndCode(v,$.code,$.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class tr{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class Pr extends tr{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class G2 extends Pr{static credentialFromJSON(m){const v="string"==typeof m?JSON.parse(m):m;return Ce("providerId"in v&&"signInMethod"in v,"argument-error"),Pn._fromParams(v)}credential(m){return this._credential(m)}_credential(m){return Ce(m.idToken||m.accessToken,"argument-error"),Pn._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return G2.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return G2.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:v,oauthAccessToken:x,oauthTokenSecret:$,pendingToken:te,nonce:Pe,providerId:tt}=m;if(!x&&!$&&!v&&!te||!tt)return null;try{return new G2(tt)._credential({idToken:v,accessToken:x,rawNonce:Pe,pendingToken:te})}catch(It){return null}}}let Rs=(()=>{class E extends Pr{constructor(){super("facebook.com")}static credential(v){return Pn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(x){return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),ui=(()=>{class E extends Pr{constructor(){super("google.com"),this.addScope("profile")}static credential(v,x){return Pn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:v,accessToken:x})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthIdToken:x,oauthAccessToken:$}=v;if(!x&&!$)return null;try{return E.credential(x,$)}catch(te){return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),xi=(()=>{class E extends Pr{constructor(){super("github.com")}static credential(v){return Pn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:v})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v||!("oauthAccessToken"in v)||!v.oauthAccessToken)return null;try{return E.credential(v.oauthAccessToken)}catch(x){return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class w2 extends r2{constructor(m,v){super(m,m),this.pendingToken=v}_getIdTokenResponse(m){return cr(m,this.buildRequest())}_linkToIdToken(m,v){const x=this.buildRequest();return x.idToken=v,cr(m,x)}_getReauthenticationResolver(m){const v=this.buildRequest();return v.autoCreate=!1,cr(m,v)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const v="string"==typeof m?JSON.parse(m):m,{providerId:x,signInMethod:$,pendingToken:te}=v;return x&&$&&te&&x===$?new w2(x,te):null}static _create(m,v){return new w2(m,v)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let W2=(()=>{class E extends Pr{constructor(){super("twitter.com")}static credential(v,x){return Pn._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:v,oauthTokenSecret:x})}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{oauthAccessToken:x,oauthTokenSecret:$}=v;if(!x||!$)return null;try{return E.credential(x,$)}catch(te){return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Di(E,m){return M2.apply(this,arguments)}function M2(){return(M2=(0,D.Z)(function*(E,m){return At(E,"POST","/v1/accounts:signUp",vt(E,m))})).apply(this,arguments)}class $1{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,v,x,$=!1){return(0,D.Z)(function*(){const te=yield de._fromIdTokenResponse(m,x,$),Pe=Ni(x);return new $1({user:te,providerId:Pe,_tokenResponse:x,operationType:v})})()}static _forOperation(m,v,x){return(0,D.Z)(function*(){yield m._updateTokensIfNecessary(x,!0);const $=Ni(x);return new $1({user:m,providerId:$,_tokenResponse:x,operationType:v})})()}}function Ni(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function is(E){return ss.apply(this,arguments)}function ss(){return(ss=(0,D.Z)(function*(E){var m;const v=Lt(E);if(yield v._initializationPromise,null===(m=v.currentUser)||void 0===m?void 0:m.isAnonymous)return new $1({user:v.currentUser,providerId:null,operationType:"signIn"});const x=yield Di(v,{returnSecureToken:!0}),$=yield $1._fromIdTokenResponse(v,"signIn",x,!0);return yield v._updateCurrentUser($.user),$})).apply(this,arguments)}class Nr extends re.ZR{constructor(m,v,x,$){var te;super(v.code,v.message),this.operationType=x,this.user=$,this.name="FirebaseError",Object.setPrototypeOf(this,Nr.prototype),this.appName=m.name,this.code=v.code,this.tenantId=null!==(te=m.tenantId)&&void 0!==te?te:void 0,this.serverResponse=v.customData.serverResponse}static _fromErrorAndOperation(m,v,x,$){return new Nr(m,v,x,$)}}function Li(E,m,v,x){return("reauthenticate"===m?v._getReauthenticationResolver(E):v._getIdTokenResponse(E)).catch(te=>{throw"auth/multi-factor-auth-required"===te.code?Nr._fromErrorAndOperation(E,te,m,x):te})}function I2(E){return new Set(E.map(({providerId:m})=>m).filter(m=>!!m))}function hi(E,m){return lr.apply(this,arguments)}function lr(){return(lr=(0,D.Z)(function*(E,m){const v=(0,re.m9)(E);yield A2(!0,v,m);const{providerUserInfo:x}=yield Mn(v.auth,{idToken:yield v.getIdToken(),deleteProvider:[m]}),$=I2(x||[]);return v.providerData=v.providerData.filter(te=>$.has(te.providerId)),$.has("phone")||(v.phoneNumber=null),yield v.auth._persistUserIfCurrent(v),v})).apply(this,arguments)}function q2(E,m){return nr.apply(this,arguments)}function nr(){return(nr=(0,D.Z)(function*(E,m,v=!1){const x=yield Rt(E,m._linkToIdToken(E.auth,yield E.getIdToken()),v);return $1._forOperation(E,"link",x)})).apply(this,arguments)}function A2(E,m,v){return os.apply(this,arguments)}function os(){return(os=(0,D.Z)(function*(E,m,v){yield dn(m);const $=!1===E?"provider-already-linked":"no-such-provider";Ce(I2(m.providerData).has(v)===E,m.auth,$)})).apply(this,arguments)}function S2(E,m){return ur.apply(this,arguments)}function ur(){return(ur=(0,D.Z)(function*(E,m,v=!1){const{auth:x}=E,$="reauthenticate";try{const te=yield Rt(E,Li(x,$,m,E),v);Ce(te.idToken,x,"internal-error");const Pe=h1(te.idToken);Ce(Pe,x,"internal-error");const{sub:tt}=Pe;return Ce(E.uid===tt,x,"user-mismatch"),$1._forOperation(E,$,te)}catch(te){throw"auth/user-not-found"===(null==te?void 0:te.code)&&je(x,"user-mismatch"),te}})).apply(this,arguments)}function a1(E,m){return rr.apply(this,arguments)}function rr(){return(rr=(0,D.Z)(function*(E,m,v=!1){const x="signIn",$=yield Li(E,x,m),te=yield $1._fromIdTokenResponse(E,x,$);return v||(yield E._updateCurrentUser(te.user)),te})).apply(this,arguments)}function P(E,m){return G.apply(this,arguments)}function G(){return(G=(0,D.Z)(function*(E,m){return a1(Lt(E),m)})).apply(this,arguments)}function O(E,m){return q.apply(this,arguments)}function q(){return(q=(0,D.Z)(function*(E,m){const v=(0,re.m9)(E);return yield A2(!1,v,m.providerId),q2(v,m)})).apply(this,arguments)}function fe(E,m){return ze.apply(this,arguments)}function ze(){return(ze=(0,D.Z)(function*(E,m){return S2((0,re.m9)(E),m)})).apply(this,arguments)}function nt(E,m){return xt.apply(this,arguments)}function xt(){return(xt=(0,D.Z)(function*(E,m){return At(E,"POST","/v1/accounts:signInWithCustomToken",vt(E,m))})).apply(this,arguments)}function Ht(E,m){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,D.Z)(function*(E,m){const v=Lt(E),x=yield nt(v,{token:m,returnSecureToken:!0}),$=yield $1._fromIdTokenResponse(v,"signIn",x);return yield v._updateCurrentUser($.user),$})).apply(this,arguments)}class On{constructor(m,v){this.factorId=m,this.uid=v.mfaEnrollmentId,this.enrollmentTime=new Date(v.enrolledAt).toUTCString(),this.displayName=v.displayName}static _fromServerResponse(m,v){return"phoneInfo"in v?En._fromServerResponse(m,v):je(m,"internal-error")}}class En extends On{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,v){return new En(v)}}function Un(E,m,v){var x;Ce((null===(x=v.url)||void 0===x?void 0:x.length)>0,E,"invalid-continue-uri"),Ce(void 0===v.dynamicLinkDomain||v.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),m.continueUrl=v.url,m.dynamicLinkDomain=v.dynamicLinkDomain,m.canHandleCodeInApp=v.handleCodeInApp,v.iOS&&(Ce(v.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),m.iosBundleId=v.iOS.bundleId),v.android&&(Ce(v.android.packageName.length>0,E,"missing-android-pkg-name"),m.androidInstallApp=v.android.installApp,m.androidMinimumVersionCode=v.android.minimumVersion,m.androidPackageName=v.android.packageName)}function an(E,m,v){return c1.apply(this,arguments)}function c1(){return(c1=(0,D.Z)(function*(E,m,v){const x=(0,re.m9)(E),$={requestType:"PASSWORD_RESET",email:m};v&&Un(x,$,v),yield Sr(x,$)})).apply(this,arguments)}function qr(E,m,v){return w1.apply(this,arguments)}function w1(){return(w1=(0,D.Z)(function*(E,m,v){yield jn((0,re.m9)(E),{oobCode:m,newPassword:v})})).apply(this,arguments)}function i1(E,m){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,D.Z)(function*(E,m){yield j1((0,re.m9)(E),{oobCode:m})})).apply(this,arguments)}function H1(E,m){return zr.apply(this,arguments)}function zr(){return(zr=(0,D.Z)(function*(E,m){const v=(0,re.m9)(E),x=yield jn(v,{oobCode:m}),$=x.requestType;switch(Ce($,v,"internal-error"),$){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ce(x.newEmail,v,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ce(x.mfaInfo,v,"internal-error");default:Ce(x.email,v,"internal-error")}let te=null;return x.mfaInfo&&(te=On._fromServerResponse(Lt(v),x.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.newEmail:x.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===x.requestType?x.email:x.newEmail)||null,multiFactorInfo:te},operation:$}})).apply(this,arguments)}function L1(E,m){return as.apply(this,arguments)}function as(){return(as=(0,D.Z)(function*(E,m){const{data:v}=yield H1((0,re.m9)(E),m);return v.email})).apply(this,arguments)}function Vs(E,m,v){return qt.apply(this,arguments)}function qt(){return(qt=(0,D.Z)(function*(E,m,v){const x=Lt(E),$=yield Di(x,{returnSecureToken:!0,email:m,password:v}),te=yield $1._fromIdTokenResponse(x,"signIn",$);return yield x._updateCurrentUser(te.user),te})).apply(this,arguments)}function cs(E,m,v){return P((0,re.m9)(E),o2.credential(m,v))}function oo(E,m,v){return ao.apply(this,arguments)}function ao(){return(ao=(0,D.Z)(function*(E,m,v){const x=(0,re.m9)(E),$={requestType:"EMAIL_SIGNIN",email:m};Ce(v.handleCodeInApp,x,"argument-error"),v&&Un(x,$,v),yield ci(x,$)})).apply(this,arguments)}function Ps(E,m){const v=$2.parseLink(m);return"EMAIL_SIGNIN"===(null==v?void 0:v.operation)}function Z2(E,m,v){return Os.apply(this,arguments)}function Os(){return(Os=(0,D.Z)(function*(E,m,v){const x=(0,re.m9)(E),$=o2.credentialWithLink(m,v||Mt());return Ce($._tenantId===(x.tenantId||null),x,"tenant-id-mismatch"),P(x,$)})).apply(this,arguments)}function Ro(E,m){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,D.Z)(function*(E,m){return at(E,"POST","/v1/accounts:createAuthUri",vt(E,m))})).apply(this,arguments)}function yn(E,m){return K2.apply(this,arguments)}function K2(){return(K2=(0,D.Z)(function*(E,m){const x={identifier:m,continueUri:Pt()?Mt():"http://localhost"},{signinMethods:$}=yield Ro((0,re.m9)(E),x);return $||[]})).apply(this,arguments)}function E1(E,m){return zi.apply(this,arguments)}function zi(){return(zi=(0,D.Z)(function*(E,m){const v=(0,re.m9)(E),$={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};m&&Un(v.auth,$,m);const{email:te}=yield ai(v.auth,$);te!==E.email&&(yield E.reload())})).apply(this,arguments)}function H(E,m,v){return z.apply(this,arguments)}function z(){return(z=(0,D.Z)(function*(E,m,v){const x=(0,re.m9)(E),te={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:m};v&&Un(x.auth,te,v);const{email:Pe}=yield O1(x.auth,te);Pe!==E.email&&(yield E.reload())})).apply(this,arguments)}function Z(E,m){return ie.apply(this,arguments)}function ie(){return(ie=(0,D.Z)(function*(E,m){return at(E,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function we(E,m){return qe.apply(this,arguments)}function qe(){return(qe=(0,D.Z)(function*(E,{displayName:m,photoURL:v}){if(void 0===m&&void 0===v)return;const x=(0,re.m9)(E),te={idToken:yield x.getIdToken(),displayName:m,photoUrl:v,returnSecureToken:!0},Pe=yield Rt(x,Z(x.auth,te));x.displayName=Pe.displayName||null,x.photoURL=Pe.photoUrl||null;const tt=x.providerData.find(({providerId:It})=>"password"===It);tt&&(tt.displayName=x.displayName,tt.photoURL=x.photoURL),yield x._updateTokensIfNecessary(Pe)})).apply(this,arguments)}function Je(E,m){return dt((0,re.m9)(E),m,null)}function $t(E,m){return dt((0,re.m9)(E),null,m)}function dt(E,m,v){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,D.Z)(function*(E,m,v){const{auth:x}=E,te={idToken:yield E.getIdToken(),returnSecureToken:!0};m&&(te.email=m),v&&(te.password=v);const Pe=yield Rt(E,St(x,te));yield E._updateTokensIfNecessary(Pe,!0)})).apply(this,arguments)}class jt{constructor(m,v,x={}){this.isNewUser=m,this.providerId=v,this.profile=x}}class Gn extends jt{constructor(m,v,x,$){super(m,v,x),this.username=$}}class fr extends jt{constructor(m,v){super(m,"facebook.com",v)}}class s1 extends Gn{constructor(m,v){super(m,"github.com",v,"string"==typeof(null==v?void 0:v.login)?null==v?void 0:v.login:null)}}class Or extends jt{constructor(m,v){super(m,"google.com",v)}}class Zr extends Gn{constructor(m,v,x){super(m,"twitter.com",v,x)}}function kr(E){const{user:m,_tokenResponse:v}=E;return m.isAnonymous&&!v?{providerId:null,isNewUser:!1,profile:null}:function(E){var m,v;if(!E)return null;const{providerId:x}=E,$=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},te=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!x&&(null==E?void 0:E.idToken)){const Pe=null===(v=null===(m=h1(E.idToken))||void 0===m?void 0:m.firebase)||void 0===v?void 0:v.sign_in_provider;if(Pe)return new jt(te,"anonymous"!==Pe&&"custom"!==Pe?Pe:null)}if(!x)return null;switch(x){case"facebook.com":return new fr(te,$);case"github.com":return new s1(te,$);case"google.com":return new Or(te,$);case"twitter.com":return new Zr(te,$,E.screenName||null);case"custom":case"anonymous":return new jt(te,null);default:return new jt(te,x,$)}}(v)}class a2{constructor(m,v){this.type=m,this.credential=v}static _fromIdtoken(m){return new a2("enroll",m)}static _fromMfaPendingCredential(m){return new a2("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var v,x;if(null==m?void 0:m.multiFactorSession){if(null===(v=m.multiFactorSession)||void 0===v?void 0:v.pendingCredential)return a2._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null===(x=m.multiFactorSession)||void 0===x?void 0:x.idToken)return a2._fromIdtoken(m.multiFactorSession.idToken)}return null}}class us{constructor(m,v,x){this.session=m,this.hints=v,this.signInResolver=x}static _fromError(m,v){const x=Lt(m),$=(v.serverResponse.mfaInfo||[]).map(Pe=>On._fromServerResponse(x,Pe));Ce(v.serverResponse.mfaPendingCredential,x,"internal-error");const te=a2._fromMfaPendingCredential(v.serverResponse.mfaPendingCredential);return new us(te,$,function(){var Pe=(0,D.Z)(function*(tt){const It=yield tt._process(x,te);delete v.serverResponse.mfaInfo,delete v.serverResponse.mfaPendingCredential;const bn=Object.assign(Object.assign({},v.serverResponse),{idToken:It.idToken,refreshToken:It.refreshToken});switch(v.operationType){case"signIn":const F1=yield $1._fromIdTokenResponse(x,v.operationType,bn);return yield x._updateCurrentUser(F1.user),F1;case"reauthenticate":return Ce(v.user,x,"internal-error"),$1._forOperation(v.user,v.operationType,bn);default:je(x,"internal-error")}});return function(tt){return Pe.apply(this,arguments)}}())}resolveSignIn(m){var v=this;return(0,D.Z)(function*(){return v.signInResolver(m)})()}}function ks(E,m){var v;const x=(0,re.m9)(E),$=m;return Ce(m.operationType,x,"argument-error"),Ce(null===(v=$.serverResponse)||void 0===v?void 0:v.mfaPendingCredential,x,"argument-error"),us._fromError(x,$)}function Vo(E,m){return at(E,"POST","/v2/accounts/mfaEnrollment:start",Object.assign({tenantId:E.tenantId},m))}class Hr{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(v=>{v.mfaInfo&&(this.enrolledFactors=v.mfaInfo.map(x=>On._fromServerResponse(m.auth,x)))})}static _fromUser(m){return new Hr(m)}getSession(){var m=this;return(0,D.Z)(function*(){return a2._fromIdtoken(yield m.user.getIdToken())})()}enroll(m,v){var x=this;return(0,D.Z)(function*(){const $=m,te=yield x.getSession(),Pe=yield Rt(x.user,$._process(x.user.auth,te,v));return yield x.user._updateTokensIfNecessary(Pe),x.user.reload()})()}unenroll(m){var v=this;return(0,D.Z)(function*(){const x="string"==typeof m?m:m.uid,$=yield v.user.getIdToken(),te=yield Rt(v.user,function(E,m){return at(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Object.assign({tenantId:E.tenantId},m))}(v.user.auth,{idToken:$,mfaEnrollmentId:x}));v.enrolledFactors=v.enrolledFactors.filter(({uid:Pe})=>Pe!==x),yield v.user._updateTokensIfNecessary(te);try{yield v.user.reload()}catch(Pe){if("auth/user-token-expired"!==Pe.code)throw Pe}})()}}const u1=new WeakMap;function fs(E){const m=(0,re.m9)(E);return u1.has(m)||u1.set(m,Hr._fromUser(m)),u1.get(m)}class g4{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var v=this;return(0,D.Z)(function*(){return v.assertAuthConfigured(),yield v.auth._initializationPromise,v.auth.currentUser?{accessToken:yield v.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const v=this.auth.onIdTokenChanged(x=>{var $;m((null===($=x)||void 0===$?void 0:$.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,v),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const v=this.internalListeners.get(m);!v||(this.internalListeners.delete(m),v(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Vi="__sak";class Pi{constructor(m,v){this.storage=m,this.type=v}_isAvailable(){try{return this.storage?(this.storage.setItem(Vi,"1"),this.storage.removeItem(Vi),Promise.resolve(!0)):Promise.resolve(!1)}catch(m){return Promise.resolve(!1)}}_set(m,v){return this.storage.setItem(m,JSON.stringify(v)),Promise.resolve()}_get(m){const v=this.storage.getItem(m);return Promise.resolve(v?JSON.parse(v):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}}const c2=(()=>{class E extends Pi{constructor(){super(window.localStorage,"LOCAL"),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const E=(0,re.z$)();return In(E)||t2(E)}()&&function(){try{return!(!window||window===window.top)}catch(E){return!1}}(),this.fallbackToPolling=$r(),this.boundEventHandler=this.onStorageEvent.bind(this)}forAllChangedKeys(v){for(const x of Object.keys(this.listeners)){const $=this.storage.getItem(x),te=this.localCache[x];$!==te&&v(x,te,$)}}onStorageEvent(v,x=!1){if(!v.key)return void this.forAllChangedKeys((tt,It,bn)=>{this.notifyListeners(tt,bn)});const $=v.key;if(x?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tt=this.storage.getItem($);if(v.newValue!==tt)null!==v.newValue?this.storage.setItem($,v.newValue):this.storage.removeItem($);else if(this.localCache[$]===v.newValue&&!x)return}const te=()=>{const tt=this.storage.getItem($);!x&&this.localCache[$]===tt||this.notifyListeners($,tt)},Pe=this.storage.getItem($);(0,re.w1)()&&10===document.documentMode&&Pe!==v.newValue&&v.newValue!==v.oldValue?setTimeout(te,10):te()}notifyListeners(v,x){this.localCache[v]=x;const $=this.listeners[v];if($)for(const te of Array.from($))te(x&&JSON.parse(x))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((v,x,$)=>{this.onStorageEvent(new StorageEvent("storage",{key:v,oldValue:x,newValue:$}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(v,x){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[v]||(this.listeners[v]=new Set,this.localCache[v]=this.storage.getItem(v)),this.listeners[v].add(x)}_removeListener(v,x){this.listeners[v]&&(this.listeners[v].delete(x),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(v,x){var $=()=>super._set,te=this;return(0,D.Z)(function*(){yield $().call(te,v,x),te.localCache[v]=JSON.stringify(x)})()}_get(v){var x=()=>super._get,$=this;return(0,D.Z)(function*(){const te=yield x().call($,v);return $.localCache[v]=JSON.stringify(te),te})()}_remove(v){var x=()=>super._remove,$=this;return(0,D.Z)(function*(){yield x().call($,v),delete $.localCache[v]})()}}return E.type="LOCAL",E})();let v4=(()=>{class E{constructor(v){this.eventTarget=v,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(v){const x=this.receivers.find(te=>te.isListeningto(v));if(x)return x;const $=new E(v);return this.receivers.push($),$}isListeningto(v){return this.eventTarget===v}handleEvent(v){var x=this;return(0,D.Z)(function*(){const $=v,{eventId:te,eventType:Pe,data:tt}=$.data,It=x.handlersMap[Pe];if(!(null==It?void 0:It.size))return;$.ports[0].postMessage({status:"ack",eventId:te,eventType:Pe});const bn=Array.from(It).map(function(){var on=(0,D.Z)(function*(Bi){return Bi($.origin,tt)});return function(Bi){return on.apply(this,arguments)}}()),F1=yield function(E){return Promise.all(E.map(function(){var m=(0,D.Z)(function*(v){try{return{fulfilled:!0,value:yield v}}catch(x){return{fulfilled:!1,reason:x}}});return function(v){return m.apply(this,arguments)}}()))}(bn);$.ports[0].postMessage({status:"done",eventId:te,eventType:Pe,response:F1})})()}_subscribe(v,x){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[v]||(this.handlersMap[v]=new Set),this.handlersMap[v].add(x)}_unsubscribe(v,x){this.handlersMap[v]&&x&&this.handlersMap[v].delete(x),(!x||0===this.handlersMap[v].size)&&delete this.handlersMap[v],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Oi(E="",m=10){let v="";for(let x=0;x<m;x++)v+=Math.floor(10*Math.random());return E+v}class q1{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,v,x=50){var $=this;return(0,D.Z)(function*(){const te="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!te)throw new Error("connection_unavailable");let Pe,tt;return new Promise((It,bn)=>{const F1=Oi("",20);te.port1.start();const on=setTimeout(()=>{bn(new Error("unsupported_event"))},x);tt={messageChannel:te,onMessage(Bi){const _i=Bi;if(_i.data.eventId===F1)switch(_i.data.status){case"ack":clearTimeout(on),Pe=setTimeout(()=>{bn(new Error("timeout"))},3e3);break;case"done":clearTimeout(Pe),It(_i.data.response);break;default:clearTimeout(on),clearTimeout(Pe),bn(new Error("invalid_response"))}}},$.handlers.add(tt),te.port1.addEventListener("message",tt.onMessage),$.target.postMessage({eventType:m,eventId:F1,data:v},[te.port2])}).finally(()=>{tt&&$.removeMessageHandler(tt)})})()}}function M1(){return window}function ki(){return void 0!==M1().WorkerGlobalScope&&"function"==typeof M1().importScripts}function ko(){return(ko=(0,D.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(E){return null}})).apply(this,arguments)}const D2="firebaseLocalStorageDb",Hs="firebaseLocalStorage",ds="fbase_key";class N2{constructor(m){this.request=m}toPromise(){return new Promise((m,v)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{v(this.request.error)})})}}function Ca(E,m){return E.transaction([Hs],m?"readwrite":"readonly").objectStore(Hs)}function Q2(){const E=indexedDB.open(D2,1);return new Promise((m,v)=>{E.addEventListener("error",()=>{v(E.error)}),E.addEventListener("upgradeneeded",()=>{const x=E.result;try{x.createObjectStore(Hs,{keyPath:ds})}catch($){v($)}}),E.addEventListener("success",(0,D.Z)(function*(){const x=E.result;x.objectStoreNames.contains(Hs)?m(x):(x.close(),yield function(){const E=indexedDB.deleteDatabase(D2);return new N2(E).toPromise()}(),m(yield Q2()))}))})}function Cr(E,m,v){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,D.Z)(function*(E,m,v){const x=Ca(E,!0).put({[ds]:m,value:v});return new N2(x).toPromise()})).apply(this,arguments)}function L2(){return(L2=(0,D.Z)(function*(E,m){const v=Ca(E,!1).get(m),x=yield new N2(v).toPromise();return void 0===x?null:x.value})).apply(this,arguments)}function Ho(E,m){const v=Ca(E,!0).delete(m);return new N2(v).toPromise()}const Hi=(()=>{class E{constructor(){this.type="LOCAL",this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var v=this;return(0,D.Z)(function*(){return v.db||(v.db=yield Q2()),v.db})()}_withRetries(v){var x=this;return(0,D.Z)(function*(){let $=0;for(;;)try{const te=yield x._openDb();return yield v(te)}catch(te){if($++>3)throw te;x.db&&(x.db.close(),x.db=void 0)}})()}initializeServiceWorkerMessaging(){var v=this;return(0,D.Z)(function*(){return ki()?v.initializeReceiver():v.initializeSender()})()}initializeReceiver(){var v=this;return(0,D.Z)(function*(){v.receiver=v4._getInstance(ki()?self:null),v.receiver._subscribe("keyChanged",function(){var x=(0,D.Z)(function*($,te){return{keyProcessed:(yield v._poll()).includes(te.key)}});return function($,te){return x.apply(this,arguments)}}()),v.receiver._subscribe("ping",function(){var x=(0,D.Z)(function*($,te){return["keyChanged"]});return function($,te){return x.apply(this,arguments)}}())})()}initializeSender(){var v=this;return(0,D.Z)(function*(){var x,$;if(v.activeServiceWorker=yield function(){return ko.apply(this,arguments)}(),!v.activeServiceWorker)return;v.sender=new q1(v.activeServiceWorker);const te=yield v.sender._send("ping",{},800);!te||(null===(x=te[0])||void 0===x?void 0:x.fulfilled)&&(null===($=te[0])||void 0===$?void 0:$.value.includes("keyChanged"))&&(v.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(v){var x=this;return(0,D.Z)(function*(){if(x.sender&&x.activeServiceWorker&&function(){var E;return(null===(E=null==navigator?void 0:navigator.serviceWorker)||void 0===E?void 0:E.controller)||null}()===x.activeServiceWorker)try{yield x.sender._send("keyChanged",{key:v},x.serviceWorkerReceiverAvailable?800:50)}catch($){}})()}_isAvailable(){return(0,D.Z)(function*(){try{if(!indexedDB)return!1;const v=yield Q2();return yield Cr(v,Vi,"1"),yield Ho(v,Vi),!0}catch(v){}return!1})()}_withPendingWrite(v){var x=this;return(0,D.Z)(function*(){x.pendingWrites++;try{yield v()}finally{x.pendingWrites--}})()}_set(v,x){var $=this;return(0,D.Z)(function*(){return $._withPendingWrite((0,D.Z)(function*(){return yield $._withRetries(te=>Cr(te,v,x)),$.localCache[v]=x,$.notifyServiceWorker(v)}))})()}_get(v){var x=this;return(0,D.Z)(function*(){const $=yield x._withRetries(te=>function(E,m){return L2.apply(this,arguments)}(te,v));return x.localCache[v]=$,$})()}_remove(v){var x=this;return(0,D.Z)(function*(){return x._withPendingWrite((0,D.Z)(function*(){return yield x._withRetries($=>Ho($,v)),delete x.localCache[v],x.notifyServiceWorker(v)}))})()}_poll(){var v=this;return(0,D.Z)(function*(){const x=yield v._withRetries(Pe=>{const tt=Ca(Pe,!1).getAll();return new N2(tt).toPromise()});if(!x)return[];if(0!==v.pendingWrites)return[];const $=[],te=new Set;for(const{fbase_key:Pe,value:tt}of x)te.add(Pe),JSON.stringify(v.localCache[Pe])!==JSON.stringify(tt)&&(v.notifyListeners(Pe,tt),$.push(Pe));for(const Pe of Object.keys(v.localCache))v.localCache[Pe]&&!te.has(Pe)&&(v.notifyListeners(Pe,null),$.push(Pe));return $})()}notifyListeners(v,x){this.localCache[v]=x;const $=this.listeners[v];if($)for(const te of Array.from($))te(x)}startPolling(){var v=this;this.stopPolling(),this.pollTimer=setInterval((0,D.Z)(function*(){return v._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(v,x){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[v]||(this.listeners[v]=new Set,this._get(v)),this.listeners[v].add(x)}_removeListener(v,x){this.listeners[v]&&(this.listeners[v].delete(x),0===this.listeners[v].size&&delete this.listeners[v]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();class zt{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let v=!1;return this.consumers.forEach(x=>{this.isEventForConsumer(m,x)&&(v=!0,this.sendToConsumer(m,x),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return C(E);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,v||(this.queuedRedirectEvent=m,v=!0)),v}sendToConsumer(m,v){var x;if(m.error&&!C(m)){const $=(null===(x=m.error.code)||void 0===x?void 0:x.split("auth/")[1])||"internal-error";v.onError(ve(this.auth,$))}else v.onAuthEvent(m)}isEventForConsumer(m,v){const x=null===v.eventId||!!m.eventId&&m.eventId===v.eventId;return v.filter.includes(m.type)&&x}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(A(m))}saveEventToCache(m){this.cachedEventUids.add(A(m)),this.lastProcessedEventTime=Date.now()}}function A(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(m=>m).join("-")}function C({type:E,error:m}){return"unknown"===E&&"auth/no-auth-event"===(null==m?void 0:m.code)}function R(E){return k.apply(this,arguments)}function k(){return(k=(0,D.Z)(function*(E,m={}){return at(E,"GET","/v1/projects",m)})).apply(this,arguments)}const W=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,se=/^https?/;function Re(){return(Re=(0,D.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:m}=yield R(E);for(const v of m)try{if(bt(v))return}catch(x){}je(E,"unauthorized-domain")})).apply(this,arguments)}function bt(E){const m=Mt(),{protocol:v,hostname:x}=new URL(m);if(E.startsWith("chrome-extension://")){const Pe=new URL(E);return""===Pe.hostname&&""===x?"chrome-extension:"===v&&E.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===v&&Pe.hostname===x}if(!se.test(v))return!1;if(W.test(E))return x===E;const $=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+$+"|"+$+")$","i").test(x)}function pn(E){return new Promise((m,v)=>{const x=document.createElement("script");x.setAttribute("src",E),x.onload=m,x.onerror=$=>{const te=ve("internal-error");te.customData=$,v(te)},x.type="text/javascript",x.charset="UTF-8",function(){var E,m;return null!==(m=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==m?m:document}().appendChild(x)})}function Tn(E){return`__${E}${Math.floor(1e6*Math.random())}`}const Dt=new Ue(3e4,6e4);function z2(){const E=M1().___jsl;if(null==E?void 0:E.H)for(const m of Object.keys(E.H))if(E.H[m].r=E.H[m].r||[],E.H[m].L=E.H[m].L||[],E.H[m].r=[...E.H[m].L],E.CP)for(let v=0;v<E.CP.length;v++)E.CP[v]=null}let p1=null;function Jn(E){return p1=p1||function(E){return new Promise((m,v)=>{var x,$,te;function Pe(){z2(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{z2(),v(ve(E,"network-request-failed"))},timeout:Dt.get()})}if(null===($=null===(x=M1().gapi)||void 0===x?void 0:x.iframes)||void 0===$?void 0:$.Iframe)m(gapi.iframes.getContext());else{if(!(null===(te=M1().gapi)||void 0===te?void 0:te.load)){const tt=Tn("iframefcb");return M1()[tt]=()=>{gapi.load?Pe():v(ve(E,"network-request-failed"))},pn(`https://apis.google.com/js/api.js?onload=${tt}`)}Pe()}}).catch(m=>{throw p1=null,m})}(E),p1}const R2=new Ue(5e3,15e3),J2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},V6=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s3(E){const m=E.config;Ce(m.authDomain,E,"auth-domain-config-required");const v=m.emulator?Ae(m,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,x={apiKey:m.apiKey,appName:E.name,v:T.SDK_VERSION},$=V6.get(E.config.apiHost);$&&(x.eid=$);const te=E._getFrameworks();return te.length&&(x.fw=te.join(",")),`${v}?${(0,re.xO)(x).slice(1)}`}function Us(){return(Us=(0,D.Z)(function*(E){const m=yield Jn(E),v=M1().gapi;return Ce(v,E,"internal-error"),m.open({where:document.body,url:s3(E),messageHandlersFilter:v.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J2,dontclear:!0},x=>new Promise(function(){var $=(0,D.Z)(function*(te,Pe){yield x.restyle({setHideOnLeave:!1});const tt=ve(E,"network-request-failed"),It=M1().setTimeout(()=>{Pe(tt)},R2.get());function bn(){M1().clearTimeout(It),te(x)}x.ping(bn).then(bn,()=>{Pe(tt)})});return function(te,Pe){return $.apply(this,arguments)}}()))})).apply(this,arguments)}const I1=(()=>{class E extends Pi{constructor(){super(window.sessionStorage,"SESSION")}_addListener(v,x){}_removeListener(v,x){}}return E.type="SESSION",E})(),Ft={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class P6{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(m){}}}function ms(E,m){return m?mt(m):(Ce(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class w4 extends r2{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return cr(m,this._buildIdpRequest())}_linkToIdToken(m,v){return cr(m,this._buildIdpRequest(v))}_getReauthenticationResolver(m){return cr(m,this._buildIdpRequest())}_buildIdpRequest(m){const v={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(v.idToken=m),v}}function H6(E){return a1(E.auth,new w4(E),E.bypassAuthState)}function Fo(E){const{auth:m,user:v}=E;return Ce(v,m,"internal-error"),S2(v,new w4(E),E.bypassAuthState)}function o3(E){return A1.apply(this,arguments)}function A1(){return(A1=(0,D.Z)(function*(E){const{auth:m,user:v}=E;return Ce(v,m,"internal-error"),q2(v,new w4(E),E.bypassAuthState)})).apply(this,arguments)}class gs{constructor(m,v,x,$,te=!1){this.auth=m,this.resolver=x,this.user=$,this.bypassAuthState=te,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(v)?v:[v]}execute(){var m=this;return new Promise(function(){var v=(0,D.Z)(function*(x,$){m.pendingPromise={resolve:x,reject:$};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(te){m.reject(te)}});return function(x,$){return v.apply(this,arguments)}}())}onAuthEvent(m){var v=this;return(0,D.Z)(function*(){const{urlResponse:x,sessionId:$,postBody:te,tenantId:Pe,error:tt,type:It}=m;if(tt)return void v.reject(tt);const bn={auth:v.auth,requestUri:x,sessionId:$,tenantId:Pe||void 0,postBody:te||void 0,user:v.user,bypassAuthState:v.bypassAuthState};try{v.resolve(yield v.getIdpTask(It)(bn))}catch(F1){v.reject(F1)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return H6;case"linkViaPopup":case"linkViaRedirect":return o3;case"reauthViaPopup":case"reauthViaRedirect":return Fo;default:je(this.auth,"internal-error")}}resolve(m){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){Be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vc=new Map;class S1 extends gs{constructor(m,v,x=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],v,void 0,x),this.eventId=null}execute(){var m=()=>super.execute,v=this;return(0,D.Z)(function*(){let x=vc.get(v.auth._key());if(!x){try{const te=(yield function(E,m){return V2.apply(this,arguments)}(v.resolver,v.auth))?yield m().call(v):null;x=()=>Promise.resolve(te)}catch($){x=()=>Promise.reject($)}vc.set(v.auth._key(),x)}return x()})()}onAuthEvent(m){var v=()=>super.onAuthEvent,x=this;return(0,D.Z)(function*(){if("signInViaRedirect"===m.type)return v().call(x,m);if("unknown"!==m.type){if(m.eventId){const $=yield x.auth._redirectUserForId(m.eventId);if($)return x.user=$,v().call(x,m);x.resolve(null)}}else x.resolve(null)})()}onExecution(){return(0,D.Z)(function*(){})()}cleanUp(){}}function V2(){return(V2=(0,D.Z)(function*(E,m){const v=Fr(m),x="true"===(yield uo(E)._get(v));return yield uo(E)._remove(v),x})).apply(this,arguments)}function Fi(E,m){return vs.apply(this,arguments)}function vs(){return(vs=(0,D.Z)(function*(E,m){return uo(E)._set(Fr(m),"true")})).apply(this,arguments)}function mi(){vc.clear()}function uo(E){return mt(E._redirectPersistence)}function Fr(E){return Te("pendingRedirect",E.config.apiKey,E.name)}function a3(E,m,v){return function(E,m,v){return F6.apply(this,arguments)}(E,m,v)}function F6(){return(F6=(0,D.Z)(function*(E,m,v){const x=Lt(E);Ce(m instanceof tr,E,"argument-error");const $=ms(x,v);return yield Fi($,x),$._openRedirect(x,m,"signInViaRedirect")})).apply(this,arguments)}function U6(E,m,v){return function(E,m,v){return Ea.apply(this,arguments)}(E,m,v)}function Ea(){return(Ea=(0,D.Z)(function*(E,m,v){const x=(0,re.m9)(E);Ce(m instanceof tr,x.auth,"argument-error");const $=ms(x.auth,v);yield Fi($,x.auth);const te=yield _c(x);return $._openRedirect(x.auth,m,"reauthViaRedirect",te)})).apply(this,arguments)}function Uo(E,m,v){return function(E,m,v){return E4.apply(this,arguments)}(E,m,v)}function E4(){return(E4=(0,D.Z)(function*(E,m,v){const x=(0,re.m9)(E);Ce(m instanceof tr,x.auth,"argument-error");const $=ms(x.auth,v);yield A2(!1,x,m.providerId),yield Fi($,x.auth);const te=yield _c(x);return $._openRedirect(x.auth,m,"linkViaRedirect",te)})).apply(this,arguments)}function Ma(E,m){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,D.Z)(function*(E,m){return yield Lt(E)._initializationPromise,js(E,m,!1)})).apply(this,arguments)}function js(E,m){return yc.apply(this,arguments)}function yc(){return(yc=(0,D.Z)(function*(E,m,v=!1){const x=Lt(E),$=ms(x,m),Pe=yield new S1(x,$,v).execute();return Pe&&!v&&(delete Pe.user._redirectEventId,yield x._persistUserIfCurrent(Pe.user),yield x._setRedirectUser(null,m)),Pe})).apply(this,arguments)}function _c(E){return $s.apply(this,arguments)}function $s(){return($s=(0,D.Z)(function*(E){const m=Oi(`${E.uid}:::`);return E._redirectEventId=m,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),m})).apply(this,arguments)}function fo(E,m,v,x,$,te){Ce(E.config.authDomain,E,"auth-domain-config-required"),Ce(E.config.apiKey,E,"invalid-api-key");const Pe={apiKey:E.config.apiKey,appName:E.name,authType:v,redirectUrl:x,v:T.SDK_VERSION,eventId:$};if(m instanceof tr){m.setDefaultLanguage(E.languageCode),Pe.providerId=m.providerId||"",(0,re.xb)(m.getCustomParameters())||(Pe.customParameters=JSON.stringify(m.getCustomParameters()));for(const[It,bn]of Object.entries(te||{}))Pe[It]=bn}if(m instanceof Pr){const It=m.getScopes().filter(bn=>""!==bn);It.length>0&&(Pe.scopes=It.join(","))}E.tenantId&&(Pe.tid=E.tenantId);const tt=Pe;for(const It of Object.keys(tt))void 0===tt[It]&&delete tt[It];return`${function({config:E}){return E.emulator?Ae(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,re.xO)(tt).slice(1)}`}const Ws="webStorageSupport",M4=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=I1,this._completeRedirectFn=js}_openPopup(m,v,x,$){var te=this;return(0,D.Z)(function*(){var Pe;Be(null===(Pe=te.eventManagers[m._key()])||void 0===Pe?void 0:Pe.manager,"_initialize() not called before _openPopup()");const tt=fo(m,v,x,Mt(),$);return function(E,m,v,x=500,$=600){const te=Math.min((window.screen.availHeight-$)/2,0).toString(),Pe=Math.min((window.screen.availWidth-x)/2,0).toString();let tt="";const It=Object.assign(Object.assign({},Ft),{width:x.toString(),height:$.toString(),top:te,left:Pe}),bn=(0,re.z$)().toLowerCase();v&&(tt=wt(bn)?"_blank":v),ln(bn)&&(m=m||"http://localhost",It.scrollbars="yes");const F1=Object.entries(It).reduce((Bi,[_i,ys])=>`${Bi}${_i}=${ys},`,"");if(function(E=(0,re.z$)()){var m;return t2(E)&&!!(null===(m=window.navigator)||void 0===m?void 0:m.standalone)}(bn)&&"_self"!==tt)return function(E,m){const v=document.createElement("a");v.href=E,v.target=m;const x=document.createEvent("MouseEvent");x.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),v.dispatchEvent(x)}(m||"",tt),new P6(null);const on=window.open(m||"",tt,F1);Ce(on,E,"popup-blocked");try{on.focus()}catch(Bi){}return new P6(on)}(m,tt,Oi())})()}_openRedirect(m,v,x,$){var te=this;return(0,D.Z)(function*(){return yield te._originValidation(m),E=fo(m,v,x,Mt(),$),M1().location.href=E,new Promise(()=>{});var E})()}_initialize(m){const v=m._key();if(this.eventManagers[v]){const{manager:$,promise:te}=this.eventManagers[v];return $?Promise.resolve($):(Be(te,"If manager is not set, promise should be"),te)}const x=this.initAndGetManager(m);return this.eventManagers[v]={promise:x},x}initAndGetManager(m){var v=this;return(0,D.Z)(function*(){const x=yield function(E){return Us.apply(this,arguments)}(m),$=new zt(m);return x.register("authEvent",te=>(Ce(null==te?void 0:te.authEvent,m,"invalid-auth-event"),{status:$.onEvent(te.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),v.eventManagers[m._key()]={manager:$},v.iframes[m._key()]=x,$})()}_isIframeWebStorageSupported(m,v){this.iframes[m._key()].send(Ws,{type:Ws},$=>{var te;const Pe=null===(te=null==$?void 0:$[0])||void 0===te?void 0:te[Ws];void 0!==Pe&&v(!!Pe),je(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const v=m._key();return this.originValidationPromises[v]||(this.originValidationPromises[v]=function(E){return Re.apply(this,arguments)}(m)),this.originValidationPromises[v]}get _shouldInitProactively(){return $r()||In()||t2()}},jo={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},ho={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function $o(E,m){return at(E,"POST","/v2/accounts/mfaSignIn:start",Object.assign({tenantId:E.tenantId},m))}function R1(){return(R1=(0,D.Z)(function*(E){return(yield at(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}const vi=1e12;class Go{constructor(m){this.auth=m,this.counter=vi,this._widgets=new Map}render(m,v){const x=this.counter;return this._widgets.set(x,new I4(m,this.auth.name,v||{})),this.counter++,x}reset(m){var v;const x=m||vi;null===(v=this._widgets.get(x))||void 0===v||v.delete(),this._widgets.delete(x)}getResponse(m){var v;return(null===(v=this._widgets.get(m||vi))||void 0===v?void 0:v.getResponse())||""}execute(m){var v=this;return(0,D.Z)(function*(){var x;return null===(x=v._widgets.get(m||vi))||void 0===x||x.execute(),""})()}}class I4{constructor(m,v,x){this.params=x,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const $="string"==typeof m?document.getElementById(m):m;Ce($,"argument-error",{appName:v}),this.container=$,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(E){const m=[],v="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let x=0;x<50;x++)m.push(v.charAt(Math.floor(Math.random()*v.length)));return m.join("")}();const{callback:m,"expired-callback":v}=this.params;if(m)try{m(this.responseToken)}catch(x){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,v)try{v()}catch(x){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const A4=Tn("rcb"),l3=new Ue(3e4,6e4);class Yr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!M1().grecaptcha}load(m,v=""){return Ce((E=v).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E),m,"argument-error"),this.shouldResolveImmediately(v)?Promise.resolve(M1().grecaptcha):new Promise((x,$)=>{const te=M1().setTimeout(()=>{$(ve(m,"network-request-failed"))},l3.get());M1()[A4]=()=>{M1().clearTimeout(te),delete M1()[A4];const tt=M1().grecaptcha;if(!tt)return void $(ve(m,"internal-error"));const It=tt.render;tt.render=(bn,F1)=>{const on=It(bn,F1);return this.counter++,on},this.hostLanguage=v,x(tt)},pn(`https://www.google.com/recaptcha/api.js??${(0,re.xO)({onload:A4,render:"explicit",hl:v})}`).catch(()=>{clearTimeout(te),$(ve(m,"internal-error"))})});var E}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){return!!M1().grecaptcha&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class u2{load(m){return(0,D.Z)(function*(){return new Go(m)})()}clearedOneInstance(){}}const Cc="recaptcha",po={theme:"light",type:"image"};class S4{constructor(m,v=Object.assign({},po),x){this.parameters=v,this.type=Cc,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Lt(x),this.isInvisible="invisible"===this.parameters.size,Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const $="string"==typeof m?document.getElementById(m):m;Ce($,this.auth,"argument-error"),this.container=$,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new u2:new Yr,this.validateStartingState()}verify(){var m=this;return(0,D.Z)(function*(){m.assertNotDestroyed();const v=yield m.render(),x=m.getAssertedRecaptcha();return x.getResponse(v)||new Promise(te=>{const Pe=tt=>{!tt||(m.tokenChangeListeners.delete(Pe),te(tt))};m.tokenChangeListeners.add(Pe),m.isInvisible&&x.execute(v)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){Ce(!this.parameters.sitekey,this.auth,"argument-error"),Ce(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ce("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return v=>{if(this.tokenChangeListeners.forEach(x=>x(v)),"function"==typeof m)m(v);else if("string"==typeof m){const x=M1()[m];"function"==typeof x&&x(v)}}}assertNotDestroyed(){Ce(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,D.Z)(function*(){if(yield m.init(),!m.widgetId){let v=m.container;if(!m.isInvisible){const x=document.createElement("div");v.appendChild(x),v=x}m.widgetId=m.getAssertedRecaptcha().render(v,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,D.Z)(function*(){Ce(Pt()&&!ki(),m.auth,"internal-error"),yield function(){let E=null;return new Promise(m=>{"complete"!==document.readyState?(E=()=>m(),window.addEventListener("load",E)):m()}).catch(m=>{throw E&&window.removeEventListener("load",E),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const v=yield function(E){return R1.apply(this,arguments)}(m.auth);Ce(v,m.auth,"internal-error"),m.parameters.sitekey=v})()}getAssertedRecaptcha(){return Ce(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ks{constructor(m,v){this.verificationId=m,this.onConfirmation=v}confirm(m){const v=D1._fromVerification(this.verificationId,m);return this.onConfirmation(v)}}function u3(E,m,v){return bc.apply(this,arguments)}function bc(){return(bc=(0,D.Z)(function*(E,m,v){const x=Lt(E),$=yield mo(x,m,(0,re.m9)(v));return new Ks($,te=>P(x,te))})).apply(this,arguments)}function m1(E,m,v){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,D.Z)(function*(E,m,v){const x=(0,re.m9)(E);yield A2(!1,x,"phone");const $=yield mo(x.auth,m,(0,re.m9)(v));return new Ks($,te=>O(x,te))})).apply(this,arguments)}function x4(E,m,v){return G6.apply(this,arguments)}function G6(){return(G6=(0,D.Z)(function*(E,m,v){const x=(0,re.m9)(E),$=yield mo(x.auth,m,(0,re.m9)(v));return new Ks($,te=>fe(x,te))})).apply(this,arguments)}function mo(E,m,v){return wc.apply(this,arguments)}function wc(){return(wc=(0,D.Z)(function*(E,m,v){var x;const $=yield v.verify();try{let te;if(Ce("string"==typeof $,E,"argument-error"),Ce(v.type===Cc,E,"argument-error"),te="string"==typeof m?{phoneNumber:m}:m,"session"in te){const Pe=te.session;if("phoneNumber"in te)return Ce("enroll"===Pe.type,E,"internal-error"),(yield Vo(E,{idToken:Pe.credential,phoneEnrollmentInfo:{phoneNumber:te.phoneNumber,recaptchaToken:$}})).phoneSessionInfo.sessionInfo;{Ce("signin"===Pe.type,E,"internal-error");const tt=(null===(x=te.multiFactorHint)||void 0===x?void 0:x.uid)||te.multiFactorUid;return Ce(tt,E,"missing-multi-factor-info"),(yield $o(E,{mfaPendingCredential:Pe.credential,mfaEnrollmentId:tt,phoneSignInInfo:{recaptchaToken:$}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Pe}=yield i2(E,{phoneNumber:te.phoneNumber,recaptchaToken:$});return Pe}}finally{v._reset()}})).apply(this,arguments)}function f3(E,m){return T4.apply(this,arguments)}function T4(){return(T4=(0,D.Z)(function*(E,m){yield q2((0,re.m9)(E),m)})).apply(this,arguments)}let Ta=(()=>{class E{constructor(v){this.providerId=E.PROVIDER_ID,this.auth=Lt(v)}verifyPhoneNumber(v,x){return mo(this.auth,v,(0,re.m9)(x))}static credential(v,x){return D1._fromVerification(v,x)}static credentialFromResult(v){return E.credentialFromTaggedObject(v)}static credentialFromError(v){return E.credentialFromTaggedObject(v.customData||{})}static credentialFromTaggedObject({_tokenResponse:v}){if(!v)return null;const{phoneNumber:x,temporaryProof:$}=v;return x&&$?D1._fromTokenResponse(x,$):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();const Ys=new Ue(2e3,1e4);function Da(E,m,v){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,D.Z)(function*(E,m,v){const x=Lt(E);Ce(m instanceof tr,E,"argument-error");const $=ms(x,v);return new g1(x,"signInViaPopup",m,$).executeNotNull()})).apply(this,arguments)}function go(E,m,v){return vo.apply(this,arguments)}function vo(){return(vo=(0,D.Z)(function*(E,m,v){const x=(0,re.m9)(E);Ce(m instanceof tr,x.auth,"argument-error");const $=ms(x.auth,v);return new g1(x.auth,"reauthViaPopup",m,$,x).executeNotNull()})).apply(this,arguments)}function Ec(E,m,v){return W6.apply(this,arguments)}function W6(){return(W6=(0,D.Z)(function*(E,m,v){const x=(0,re.m9)(E);Ce(m instanceof tr,x.auth,"argument-error");const $=ms(x.auth,v);return new g1(x.auth,"linkViaPopup",m,$,x).executeNotNull()})).apply(this,arguments)}let g1=(()=>{class E extends gs{constructor(v,x,$,te,Pe){super(v,x,te,Pe),this.provider=$,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var v=this;return(0,D.Z)(function*(){const x=yield v.execute();return Ce(x,v.auth,"internal-error"),x})()}onExecution(){var v=this;return(0,D.Z)(function*(){Be(1===v.filter.length,"Popup operations only handle one event");const x=Oi();v.authWindow=yield v.resolver._openPopup(v.auth,v.provider,v.filter[0],x),v.authWindow.associatedEvent=x,v.resolver._originValidation(v.auth).catch($=>{v.reject($)}),v.resolver._isIframeWebStorageSupported(v.auth,$=>{$||v.reject(ve(v.auth,"web-storage-unsupported"))}),v.pollUserCancellation()})()}get eventId(){var v;return(null===(v=this.authWindow)||void 0===v?void 0:v.associatedEvent)||null}cancel(){this.reject(ve(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const v=()=>{var x,$;this.pollId=(null===($=null===(x=this.authWindow)||void 0===x?void 0:x.window)||void 0===$?void 0:$.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(ve(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(v,Ys.get())};v()}}return E.currentPopupAction=null,E})();class Na extends class{constructor(m){this.factorId=m}_process(m,v,x){switch(v.type){case"enroll":return this._finalizeEnroll(m,v.credential,x);case"signin":return this._finalizeSignIn(m,v.credential);default:return Xe("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new Na(m)}_finalizeEnroll(m,v,x){return function(E,m){return at(E,"POST","/v2/accounts/mfaEnrollment:finalize",Object.assign({tenantId:E.tenantId},m))}(m,{idToken:v,displayName:x,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,v){return function(E,m){return at(E,"POST","/v2/accounts/mfaSignIn:finalize",Object.assign({tenantId:E.tenantId},m))}(m,{mfaPendingCredential:v,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class Mc{constructor(){}static assertion(m){return Na._fromCredential(m)}}var E;E="Browser",(0,T._registerComponent)(new Le.wA("auth-exp",(m,{options:v})=>{const x=m.getProvider("app-exp").getImmediate(),{apiKey:$,authDomain:te}=x.options;return(Pe=>{Ce($&&!$.includes(":"),"invalid-api-key",{appName:Pe.name}),Ce(!(null==te?void 0:te.includes(":")),"argument-error",{appName:Pe.name});const tt={apiKey:$,authDomain:te,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q1(E)},It=new d1(Pe,tt);return function(E,m){const v=(null==m?void 0:m.persistence)||[],x=(Array.isArray(v)?v:[v]).map(mt);(null==m?void 0:m.errorMap)&&E._updateErrorMap(m.errorMap),E._initializeWithPersistence(x,null==m?void 0:m.popupRedirectResolver)}(It,v),It})(x)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,v,x)=>{m.getProvider("auth-internal").initialize()})),(0,T._registerComponent)(new Le.wA("auth-internal",m=>{const v=Lt(m.getProvider("auth-exp").getImmediate());return new g4(v)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,T.registerVersion)("@firebase/auth-exp","0.0.900-exp.8b4d7550f",void 0)},6034:(yt,He,U)=>{"use strict";U.d(He,{wA:()=>Le,H0:()=>me});var D=U(4762),T=U(4685),Le=function(){function ae(Q,J,ce){this.name=Q,this.instanceFactory=J,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return ae.prototype.setInstantiationMode=function(Q){return this.instantiationMode=Q,this},ae.prototype.setMultipleInstances=function(Q){return this.multipleInstances=Q,this},ae.prototype.setServiceProps=function(Q){return this.serviceProps=Q,this},ae.prototype.setInstanceCreatedCallback=function(Q){return this.onInstanceCreated=Q,this},ae}(),re="[DEFAULT]",De=function(){function ae(Q,J){this.name=Q,this.container=J,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return ae.prototype.get=function(Q){var J=this.normalizeInstanceIdentifier(Q);if(!this.instancesDeferred.has(J)){var ce=new T.BH;if(this.instancesDeferred.set(J,ce),this.isInitialized(J)||this.shouldAutoInitialize())try{var ee=this.getOrInitializeService({instanceIdentifier:J});ee&&ce.resolve(ee)}catch(_e){}}return this.instancesDeferred.get(J).promise},ae.prototype.getImmediate=function(Q){var J,ce=this.normalizeInstanceIdentifier(null==Q?void 0:Q.identifier),ee=null!==(J=null==Q?void 0:Q.optional)&&void 0!==J&&J;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(ee)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch(_e){if(ee)return null;throw _e}},ae.prototype.getComponent=function(){return this.component},ae.prototype.setComponent=function(Q){var J,ce;if(Q.name!==this.name)throw Error("Mismatching Component "+Q.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=Q,this.shouldAutoInitialize()){if(function(ae){return"EAGER"===ae.instantiationMode}(Q))try{this.getOrInitializeService({instanceIdentifier:re})}catch(Be){}try{for(var ee=(0,D.XA)(this.instancesDeferred.entries()),_e=ee.next();!_e.done;_e=ee.next()){var je=(0,D.CR)(_e.value,2),be=je[1],Ce=this.normalizeInstanceIdentifier(je[0]);try{var Xe=this.getOrInitializeService({instanceIdentifier:Ce});be.resolve(Xe)}catch(Be){}}}catch(Be){J={error:Be}}finally{try{_e&&!_e.done&&(ce=ee.return)&&ce.call(ee)}finally{if(J)throw J.error}}}},ae.prototype.clearInstance=function(Q){void 0===Q&&(Q=re),this.instancesDeferred.delete(Q),this.instances.delete(Q)},ae.prototype.delete=function(){return(0,D.mG)(this,void 0,void 0,function(){var Q;return(0,D.Jh)(this,function(J){switch(J.label){case 0:return Q=Array.from(this.instances.values()),[4,Promise.all((0,D.ev)((0,D.ev)([],(0,D.CR)(Q.filter(function(ce){return"INTERNAL"in ce}).map(function(ce){return ce.INTERNAL.delete()}))),(0,D.CR)(Q.filter(function(ce){return"_delete"in ce}).map(function(ce){return ce._delete()}))))];case 1:return J.sent(),[2]}})})},ae.prototype.isComponentSet=function(){return null!=this.component},ae.prototype.isInitialized=function(Q){return void 0===Q&&(Q=re),this.instances.has(Q)},ae.prototype.initialize=function(Q){var J,ce;void 0===Q&&(Q={});var ee=Q.options,_e=void 0===ee?{}:ee,je=this.normalizeInstanceIdentifier(Q.instanceIdentifier);if(this.isInitialized(je))throw Error(this.name+"("+je+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var ve=this.getOrInitializeService({instanceIdentifier:je,options:_e});try{for(var be=(0,D.XA)(this.instancesDeferred.entries()),Ce=be.next();!Ce.done;Ce=be.next()){var Xe=(0,D.CR)(Ce.value,2),Ie=Xe[1];je===this.normalizeInstanceIdentifier(Xe[0])&&Ie.resolve(ve)}}catch(ot){J={error:ot}}finally{try{Ce&&!Ce.done&&(ce=be.return)&&ce.call(be)}finally{if(J)throw J.error}}return ve},ae.prototype.onInit=function(Q,J){var ce,ee=this.normalizeInstanceIdentifier(J),_e=null!==(ce=this.onInitCallbacks.get(ee))&&void 0!==ce?ce:new Set;_e.add(Q),this.onInitCallbacks.set(ee,_e);var je=this.instances.get(ee);return je&&Q(je,ee),function(){_e.delete(Q)}},ae.prototype.invokeOnInitCallbacks=function(Q,J){var ce,ee,_e=this.onInitCallbacks.get(J);if(_e)try{for(var je=(0,D.XA)(_e),ve=je.next();!ve.done;ve=je.next()){var be=ve.value;try{be(Q,J)}catch(Ce){}}}catch(Ce){ce={error:Ce}}finally{try{ve&&!ve.done&&(ee=je.return)&&ee.call(je)}finally{if(ce)throw ce.error}}},ae.prototype.getOrInitializeService=function(Q){var J=Q.instanceIdentifier,ce=Q.options,ee=void 0===ce?{}:ce,_e=this.instances.get(J);if(!_e&&this.component&&(_e=this.component.instanceFactory(this.container,{instanceIdentifier:le(J),options:ee}),this.instances.set(J,_e),this.invokeOnInitCallbacks(_e,J),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,J,_e)}catch(je){}return _e||null},ae.prototype.normalizeInstanceIdentifier=function(Q){return void 0===Q&&(Q=re),this.component?this.component.multipleInstances?Q:re:Q},ae.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},ae}();function le(ae){return ae===re?void 0:ae}var me=function(){function ae(Q){this.name=Q,this.providers=new Map}return ae.prototype.addComponent=function(Q){var J=this.getProvider(Q.name);if(J.isComponentSet())throw new Error("Component "+Q.name+" has already been registered with "+this.name);J.setComponent(Q)},ae.prototype.addOrOverwriteComponent=function(Q){this.getProvider(Q.name).isComponentSet()&&this.providers.delete(Q.name),this.addComponent(Q)},ae.prototype.getProvider=function(Q){if(this.providers.has(Q))return this.providers.get(Q);var J=new De(Q,this);return this.providers.set(Q,J),J},ae.prototype.getProviders=function(){return Array.from(this.providers.values())},ae}()},300:(yt,He,U)=>{"use strict";function D(){for(var ce=0,ee=0,_e=arguments.length;ee<_e;ee++)ce+=arguments[ee].length;var je=Array(ce),ve=0;for(ee=0;ee<_e;ee++)for(var be=arguments[ee],Ce=0,Xe=be.length;Ce<Xe;Ce++,ve++)je[ve]=be[Ce];return je}U.d(He,{in:()=>re,Yd:()=>ae,Ub:()=>Q,Am:()=>J});var T,Le=[],re=(()=>{return(ce=re||(re={}))[ce.DEBUG=0]="DEBUG",ce[ce.VERBOSE=1]="VERBOSE",ce[ce.INFO=2]="INFO",ce[ce.WARN=3]="WARN",ce[ce.ERROR=4]="ERROR",ce[ce.SILENT=5]="SILENT",re;var ce})(),De={debug:re.DEBUG,verbose:re.VERBOSE,info:re.INFO,warn:re.WARN,error:re.ERROR,silent:re.SILENT},le=re.INFO,xe=((T={})[re.DEBUG]="log",T[re.VERBOSE]="log",T[re.INFO]="info",T[re.WARN]="warn",T[re.ERROR]="error",T),me=function(ce,ee){for(var _e=[],je=2;je<arguments.length;je++)_e[je-2]=arguments[je];if(!(ee<ce.logLevel)){var ve=(new Date).toISOString(),be=xe[ee];if(!be)throw new Error("Attempted to log a message with an invalid logType (value: "+ee+")");console[be].apply(console,D(["["+ve+"]  "+ce.name+":"],_e))}},ae=function(){function ce(ee){this.name=ee,this._logLevel=le,this._logHandler=me,this._userLogHandler=null,Le.push(this)}return Object.defineProperty(ce.prototype,"logLevel",{get:function(){return this._logLevel},set:function(ee){if(!(ee in re))throw new TypeError('Invalid value "'+ee+'" assigned to `logLevel`');this._logLevel=ee},enumerable:!1,configurable:!0}),ce.prototype.setLogLevel=function(ee){this._logLevel="string"==typeof ee?De[ee]:ee},Object.defineProperty(ce.prototype,"logHandler",{get:function(){return this._logHandler},set:function(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(ee){this._userLogHandler=ee},enumerable:!1,configurable:!0}),ce.prototype.debug=function(){for(var ee=[],_e=0;_e<arguments.length;_e++)ee[_e]=arguments[_e];this._userLogHandler&&this._userLogHandler.apply(this,D([this,re.DEBUG],ee)),this._logHandler.apply(this,D([this,re.DEBUG],ee))},ce.prototype.log=function(){for(var ee=[],_e=0;_e<arguments.length;_e++)ee[_e]=arguments[_e];this._userLogHandler&&this._userLogHandler.apply(this,D([this,re.VERBOSE],ee)),this._logHandler.apply(this,D([this,re.VERBOSE],ee))},ce.prototype.info=function(){for(var ee=[],_e=0;_e<arguments.length;_e++)ee[_e]=arguments[_e];this._userLogHandler&&this._userLogHandler.apply(this,D([this,re.INFO],ee)),this._logHandler.apply(this,D([this,re.INFO],ee))},ce.prototype.warn=function(){for(var ee=[],_e=0;_e<arguments.length;_e++)ee[_e]=arguments[_e];this._userLogHandler&&this._userLogHandler.apply(this,D([this,re.WARN],ee)),this._logHandler.apply(this,D([this,re.WARN],ee))},ce.prototype.error=function(){for(var ee=[],_e=0;_e<arguments.length;_e++)ee[_e]=arguments[_e];this._userLogHandler&&this._userLogHandler.apply(this,D([this,re.ERROR],ee)),this._logHandler.apply(this,D([this,re.ERROR],ee))},ce}();function Q(ce){Le.forEach(function(ee){ee.setLogLevel(ce)})}function J(ce,ee){for(var _e=function(Ce){var Xe=null;ee&&ee.level&&(Xe=De[ee.level]),Ce.userLogHandler=null===ce?null:function(Be,Ie){for(var mt=[],ot=2;ot<arguments.length;ot++)mt[ot-2]=arguments[ot];var Yt=mt.map(function(Mt){if(null==Mt)return null;if("string"==typeof Mt)return Mt;if("number"==typeof Mt||"boolean"==typeof Mt)return Mt.toString();if(Mt instanceof Error)return Mt.message;try{return JSON.stringify(Mt)}catch(Pt){return null}}).filter(function(Mt){return Mt}).join(" ");Ie>=(null!=Xe?Xe:Be.logLevel)&&ce({level:re[Ie].toLowerCase(),message:Yt,args:mt,type:Be.name})}},je=0,ve=Le;je<ve.length;je++)_e(ve[je])}},4685:(yt,He,U)=>{"use strict";U.d(He,{BH:()=>ee,LL:()=>Ne,ZR:()=>Ae,tV:()=>ae,r3:()=>Ct,Sg:()=>_e,ne:()=>v1,vZ:()=>Xn,ZB:()=>J,pd:()=>Nn,m9:()=>Mr,z$:()=>je,jU:()=>Ce,ru:()=>Xe,d:()=>Ie,xb:()=>zn,w1:()=>mt,hl:()=>Pt,uI:()=>ve,UG:()=>be,b$:()=>Be,G6:()=>Mt,Mn:()=>ot,xO:()=>e1,zd:()=>wn});var D=U(4762),xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(ue,de){if(!Array.isArray(ue))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var ge=de?this.byteToCharMapWebSafe_:this.byteToCharMap_,$e=[],Te=0;Te<ue.length;Te+=3){var ut=ue[Te],pt=Te+1<ue.length,ln=pt?ue[Te+1]:0,In=Te+2<ue.length,wt=In?ue[Te+2]:0,kn=(15&ln)<<2|wt>>6,ar=63&wt;In||(ar=64,pt||(kn=64)),$e.push(ge[ut>>2],ge[(3&ut)<<4|ln>>4],ge[kn],ge[ar])}return $e.join("")},encodeString:function(ue,de){return this.HAS_NATIVE_SUPPORT&&!de?btoa(ue):this.encodeByteArray(function(ue){for(var de=[],ge=0,$e=0;$e<ue.length;$e++){var Te=ue.charCodeAt($e);Te<128?de[ge++]=Te:Te<2048?(de[ge++]=Te>>6|192,de[ge++]=63&Te|128):55296==(64512&Te)&&$e+1<ue.length&&56320==(64512&ue.charCodeAt($e+1))?(Te=65536+((1023&Te)<<10)+(1023&ue.charCodeAt(++$e)),de[ge++]=Te>>18|240,de[ge++]=Te>>12&63|128,de[ge++]=Te>>6&63|128,de[ge++]=63&Te|128):(de[ge++]=Te>>12|224,de[ge++]=Te>>6&63|128,de[ge++]=63&Te|128)}return de}(ue),de)},decodeString:function(ue,de){return this.HAS_NATIVE_SUPPORT&&!de?atob(ue):function(ue){for(var de=[],ge=0,$e=0;ge<ue.length;){var Te=ue[ge++];if(Te<128)de[$e++]=String.fromCharCode(Te);else if(Te>191&&Te<224){var ut=ue[ge++];de[$e++]=String.fromCharCode((31&Te)<<6|63&ut)}else if(Te>239&&Te<365){var In=((7&Te)<<18|(63&(ut=ue[ge++]))<<12|(63&(pt=ue[ge++]))<<6|63&ue[ge++])-65536;de[$e++]=String.fromCharCode(55296+(In>>10)),de[$e++]=String.fromCharCode(56320+(1023&In))}else{ut=ue[ge++];var pt=ue[ge++];de[$e++]=String.fromCharCode((15&Te)<<12|(63&ut)<<6|63&pt)}}return de.join("")}(this.decodeStringToByteArray(ue,de))},decodeStringToByteArray:function(ue,de){this.init_();for(var ge=de?this.charToByteMapWebSafe_:this.charToByteMap_,$e=[],Te=0;Te<ue.length;){var ut=ge[ue.charAt(Te++)],ln=Te<ue.length?ge[ue.charAt(Te)]:0,wt=++Te<ue.length?ge[ue.charAt(Te)]:64,Bn=++Te<ue.length?ge[ue.charAt(Te)]:64;if(++Te,null==ut||null==ln||null==wt||null==Bn)throw Error();$e.push(ut<<2|ln>>4),64!==wt&&($e.push(ln<<4&240|wt>>2),64!==Bn&&$e.push(wt<<6&192|Bn))}return $e},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var ue=0;ue<this.ENCODED_VALS.length;ue++)this.byteToCharMap_[ue]=this.ENCODED_VALS.charAt(ue),this.charToByteMap_[this.byteToCharMap_[ue]]=ue,this.byteToCharMapWebSafe_[ue]=this.ENCODED_VALS_WEBSAFE.charAt(ue),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ue]]=ue,ue>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ue)]=ue,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ue)]=ue)}}},ae=function(ue){try{return xe.decodeString(ue,!0)}catch(de){console.error("base64Decode failed: ",de)}return null};function J(ue,de){if(!(de instanceof Object))return de;switch(de.constructor){case Date:return new Date(de.getTime());case Object:void 0===ue&&(ue={});break;case Array:ue=[];break;default:return de}for(var $e in de)!de.hasOwnProperty($e)||!ce($e)||(ue[$e]=J(ue[$e],de[$e]));return ue}function ce(ue){return"__proto__"!==ue}var ee=function(){function ue(){var de=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(ge,$e){de.resolve=ge,de.reject=$e})}return ue.prototype.wrapCallback=function(de){var ge=this;return function($e,Te){$e?ge.reject($e):ge.resolve(Te),"function"==typeof de&&(ge.promise.catch(function(){}),1===de.length?de($e):de($e,Te))}},ue}();function _e(ue,de){if(ue.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var $e=de||"demo-project",Te=ue.iat||0,ut=ue.sub||ue.user_id;if(!ut)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var pt=(0,D.pi)({iss:"https://securetoken.google.com/"+$e,aud:$e,iat:Te,exp:Te+3600,auth_time:Te,sub:ut,user_id:ut,firebase:{sign_in_provider:"custom",identities:{}}},ue);return[xe.encodeString(JSON.stringify({alg:"none",type:"JWT"}),!1),xe.encodeString(JSON.stringify(pt),!1),""].join(".")}function je(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ue){return!1}}function Ce(){return"object"==typeof self&&self.self===self}function Xe(){var ue="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ue&&void 0!==ue.id}function Be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ie(){return je().indexOf("Electron/")>=0}function mt(){var ue=je();return ue.indexOf("MSIE ")>=0||ue.indexOf("Trident/")>=0}function ot(){return je().indexOf("MSAppHost/")>=0}function Mt(){return!be()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pt(){return"indexedDB"in self&&null!=indexedDB}var Ae=function(ue){function de(ge,$e,Te){var ut=ue.call(this,$e)||this;return ut.code=ge,ut.customData=Te,ut.name="FirebaseError",Object.setPrototypeOf(ut,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(ut,Ne.prototype.create),ut}return(0,D.ZT)(de,ue),de}(Error),Ne=function(){function ue(de,ge,$e){this.service=de,this.serviceName=ge,this.errors=$e}return ue.prototype.create=function(de){for(var ge=[],$e=1;$e<arguments.length;$e++)ge[$e-1]=arguments[$e];var Te=ge[0]||{},ut=this.service+"/"+de,pt=this.errors[de],ln=pt?lt(pt,Te):"Error",In=this.serviceName+": "+ln+" ("+ut+").",wt=new Ae(ut,In,Te);return wt},ue}();function lt(ue,de){return ue.replace(_t,function(ge,$e){var Te=de[$e];return null!=Te?String(Te):"<"+$e+"?>"})}var _t=/\{\$([^}]+)}/g;function Ct(ue,de){return Object.prototype.hasOwnProperty.call(ue,de)}function zn(ue){for(var de in ue)if(Object.prototype.hasOwnProperty.call(ue,de))return!1;return!0}function Xn(ue,de){if(ue===de)return!0;for(var ge=Object.keys(ue),$e=Object.keys(de),Te=0,ut=ge;Te<ut.length;Te++){if(!$e.includes(pt=ut[Te]))return!1;var ln=ue[pt],In=de[pt];if(Mn(ln)&&Mn(In)){if(!Xn(ln,In))return!1}else if(ln!==In)return!1}for(var wt=0,An=$e;wt<An.length;wt++){var pt;if(!ge.includes(pt=An[wt]))return!1}return!0}function Mn(ue){return null!==ue&&"object"==typeof ue}function e1(ue){for(var de=[],ge=function(In,wt){Array.isArray(wt)?wt.forEach(function(An){de.push(encodeURIComponent(In)+"="+encodeURIComponent(An))}):de.push(encodeURIComponent(In)+"="+encodeURIComponent(wt))},$e=0,Te=Object.entries(ue);$e<Te.length;$e++){var ut=Te[$e];ge(ut[0],ut[1])}return de.length?"&"+de.join("&"):""}function wn(ue){var de={};return ue.replace(/^\?/,"").split("&").forEach(function($e){if($e){var Te=$e.split("="),pt=Te[1];de[decodeURIComponent(Te[0])]=decodeURIComponent(pt)}}),de}function Nn(ue){var de=ue.indexOf("?");if(!de)return"";var ge=ue.indexOf("#",de);return ue.substring(de,ge>0?ge:void 0)}function v1(ue,de){var ge=new Qt(ue,de);return ge.subscribe.bind(ge)}!function(){function ue(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var de=1;de<this.blockSize;++de)this.pad_[de]=0;this.reset()}ue.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},ue.prototype.compress_=function(de,ge){ge||(ge=0);var $e=this.W_;if("string"==typeof de)for(var Te=0;Te<16;Te++)$e[Te]=de.charCodeAt(ge)<<24|de.charCodeAt(ge+1)<<16|de.charCodeAt(ge+2)<<8|de.charCodeAt(ge+3),ge+=4;else for(Te=0;Te<16;Te++)$e[Te]=de[ge]<<24|de[ge+1]<<16|de[ge+2]<<8|de[ge+3],ge+=4;for(Te=16;Te<80;Te++)$e[Te]=4294967295&((ut=$e[Te-3]^$e[Te-8]^$e[Te-14]^$e[Te-16])<<1|ut>>>31);var Bn,kn,pt=this.chain_[0],ln=this.chain_[1],In=this.chain_[2],wt=this.chain_[3],An=this.chain_[4];for(Te=0;Te<80;Te++){Te<40?Te<20?(Bn=wt^ln&(In^wt),kn=1518500249):(Bn=ln^In^wt,kn=1859775393):Te<60?(Bn=ln&In|wt&(ln|In),kn=2400959708):(Bn=ln^In^wt,kn=3395469782);var ut=(pt<<5|pt>>>27)+Bn+An+kn+$e[Te]&4294967295;An=wt,wt=In,In=4294967295&(ln<<30|ln>>>2),ln=pt,pt=ut}this.chain_[0]=this.chain_[0]+pt&4294967295,this.chain_[1]=this.chain_[1]+ln&4294967295,this.chain_[2]=this.chain_[2]+In&4294967295,this.chain_[3]=this.chain_[3]+wt&4294967295,this.chain_[4]=this.chain_[4]+An&4294967295},ue.prototype.update=function(de,ge){if(null!=de){void 0===ge&&(ge=de.length);for(var $e=ge-this.blockSize,Te=0,ut=this.buf_,pt=this.inbuf_;Te<ge;){if(0===pt)for(;Te<=$e;)this.compress_(de,Te),Te+=this.blockSize;if("string"==typeof de){for(;Te<ge;)if(ut[pt]=de.charCodeAt(Te),++Te,++pt===this.blockSize){this.compress_(ut),pt=0;break}}else for(;Te<ge;)if(ut[pt]=de[Te],++Te,++pt===this.blockSize){this.compress_(ut),pt=0;break}}this.inbuf_=pt,this.total_+=ge}},ue.prototype.digest=function(){var de=[],ge=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(var $e=this.blockSize-1;$e>=56;$e--)this.buf_[$e]=255&ge,ge/=256;this.compress_(this.buf_);var Te=0;for($e=0;$e<5;$e++)for(var ut=24;ut>=0;ut-=8)de[Te]=this.chain_[$e]>>ut&255,++Te;return de}}();var Qt=function(){function ue(de,ge){var $e=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ge,this.task.then(function(){de($e)}).catch(function(Te){$e.error(Te)})}return ue.prototype.next=function(de){this.forEachObserver(function(ge){ge.next(de)})},ue.prototype.error=function(de){this.forEachObserver(function(ge){ge.error(de)}),this.close(de)},ue.prototype.complete=function(){this.forEachObserver(function(de){de.complete()}),this.close()},ue.prototype.subscribe=function(de,ge,$e){var ut,Te=this;if(void 0===de&&void 0===ge&&void 0===$e)throw new Error("Missing Observer.");void 0===(ut=function(ue,de){if("object"!=typeof ue||null===ue)return!1;for(var ge=0,$e=["next","error","complete"];ge<$e.length;ge++){var Te=$e[ge];if(Te in ue&&"function"==typeof ue[Te])return!0}return!1}(de)?de:{next:de,error:ge,complete:$e}).next&&(ut.next=h1),void 0===ut.error&&(ut.error=h1),void 0===ut.complete&&(ut.complete=h1);var pt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{Te.finalError?ut.error(Te.finalError):ut.complete()}catch(ln){}}),this.observers.push(ut),pt},ue.prototype.unsubscribeOne=function(de){void 0===this.observers||void 0===this.observers[de]||(delete this.observers[de],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},ue.prototype.forEachObserver=function(de){if(!this.finalized)for(var ge=0;ge<this.observers.length;ge++)this.sendOne(ge,de)},ue.prototype.sendOne=function(de,ge){var $e=this;this.task.then(function(){if(void 0!==$e.observers&&void 0!==$e.observers[de])try{ge($e.observers[de])}catch(Te){"undefined"!=typeof console&&console.error&&console.error(Te)}})},ue.prototype.close=function(de){var ge=this;this.finalized||(this.finalized=!0,void 0!==de&&(this.finalError=de),this.task.then(function(){ge.observers=void 0,ge.onNoObservers=void 0}))},ue}();function h1(){}function Mr(ue){return ue&&ue._delegate?ue._delegate:ue}},6215:(yt,He,U)=>{"use strict";U.d(He,{X:()=>Le});var D=U(9765),T=U(7971);class Le extends D.xQ{constructor(De){super(),this._value=De}get value(){return this.getValue()}_subscribe(De){const le=super._subscribe(De);return le&&!le.closed&&De.next(this._value),le}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new T.N;return this._value}next(De){super.next(this._value=De)}}},8891:(yt,He,U)=>{"use strict";U.d(He,{y:()=>ae});var D=U(7393),Le=U(9181),re=U(6490),le=U(6554),xe=U(4022),me=U(2494);let ae=(()=>{class J{constructor(ee){this._isScalar=!1,ee&&(this._subscribe=ee)}lift(ee){const _e=new J;return _e.source=this,_e.operator=ee,_e}subscribe(ee,_e,je){const{operator:ve}=this,be=function(J,ce,ee){if(J){if(J instanceof D.L)return J;if(J[Le.b])return J[Le.b]()}return J||ce||ee?new D.L(J,ce,ee):new D.L(re.c)}(ee,_e,je);if(be.add(ve?ve.call(be,this.source):this.source||me.v.useDeprecatedSynchronousErrorHandling&&!be.syncErrorThrowable?this._subscribe(be):this._trySubscribe(be)),me.v.useDeprecatedSynchronousErrorHandling&&be.syncErrorThrowable&&(be.syncErrorThrowable=!1,be.syncErrorThrown))throw be.syncErrorValue;return be}_trySubscribe(ee){try{return this._subscribe(ee)}catch(_e){me.v.useDeprecatedSynchronousErrorHandling&&(ee.syncErrorThrown=!0,ee.syncErrorValue=_e),function(J){for(;J;){const{closed:ce,destination:ee,isStopped:_e}=J;if(ce||_e)return!1;J=ee&&ee instanceof D.L?ee:null}return!0}(ee)?ee.error(_e):console.warn(_e)}}forEach(ee,_e){return new(_e=Q(_e))((je,ve)=>{let be;be=this.subscribe(Ce=>{try{ee(Ce)}catch(Xe){ve(Xe),be&&be.unsubscribe()}},ve,je)})}_subscribe(ee){const{source:_e}=this;return _e&&_e.subscribe(ee)}[le.L](){return this}pipe(...ee){return 0===ee.length?this:(0,xe.U)(ee)(this)}toPromise(ee){return new(ee=Q(ee))((_e,je)=>{let ve;this.subscribe(be=>ve=be,be=>je(be),()=>_e(ve))})}}return J.create=ce=>new J(ce),J})();function Q(J){if(J||(J=me.v.Promise||Promise),!J)throw new Error("no Promise impl found");return J}},6490:(yt,He,U)=>{"use strict";U.d(He,{c:()=>Le});var D=U(2494),T=U(4449);const Le={closed:!0,next(re){},error(re){if(D.v.useDeprecatedSynchronousErrorHandling)throw re;(0,T.z)(re)},complete(){}}},5197:(yt,He,U)=>{"use strict";U.d(He,{L:()=>T});var D=U(7393);class T extends D.L{notifyNext(re,De,le,xe,me){this.destination.next(De)}notifyError(re,De){this.destination.error(re)}notifyComplete(re){this.destination.complete()}}},9765:(yt,He,U)=>{"use strict";U.d(He,{Yc:()=>xe,xQ:()=>me});var D=U(8891),T=U(7393),Le=U(5319),re=U(7971),De=U(8858),le=U(9181);class xe extends T.L{constructor(J){super(J),this.destination=J}}let me=(()=>{class Q extends D.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[le.b](){return new xe(this)}lift(ce){const ee=new ae(this,this);return ee.operator=ce,ee}next(ce){if(this.closed)throw new re.N;if(!this.isStopped){const{observers:ee}=this,_e=ee.length,je=ee.slice();for(let ve=0;ve<_e;ve++)je[ve].next(ce)}}error(ce){if(this.closed)throw new re.N;this.hasError=!0,this.thrownError=ce,this.isStopped=!0;const{observers:ee}=this,_e=ee.length,je=ee.slice();for(let ve=0;ve<_e;ve++)je[ve].error(ce);this.observers.length=0}complete(){if(this.closed)throw new re.N;this.isStopped=!0;const{observers:ce}=this,ee=ce.length,_e=ce.slice();for(let je=0;je<ee;je++)_e[je].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(ce){if(this.closed)throw new re.N;return super._trySubscribe(ce)}_subscribe(ce){if(this.closed)throw new re.N;return this.hasError?(ce.error(this.thrownError),Le.w.EMPTY):this.isStopped?(ce.complete(),Le.w.EMPTY):(this.observers.push(ce),new De.W(this,ce))}asObservable(){const ce=new D.y;return ce.source=this,ce}}return Q.create=(J,ce)=>new ae(J,ce),Q})();class ae extends me{constructor(J,ce){super(),this.destination=J,this.source=ce}next(J){const{destination:ce}=this;ce&&ce.next&&ce.next(J)}error(J){const{destination:ce}=this;ce&&ce.error&&this.destination.error(J)}complete(){const{destination:J}=this;J&&J.complete&&this.destination.complete()}_subscribe(J){const{source:ce}=this;return ce?this.source.subscribe(J):Le.w.EMPTY}}},8858:(yt,He,U)=>{"use strict";U.d(He,{W:()=>T});var D=U(5319);class T extends D.w{constructor(re,De){super(),this.subject=re,this.subscriber=De,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const re=this.subject,De=re.observers;if(this.subject=null,!De||0===De.length||re.isStopped||re.closed)return;const le=De.indexOf(this.subscriber);-1!==le&&De.splice(le,1)}}},7393:(yt,He,U)=>{"use strict";U.d(He,{L:()=>xe});var D=U(9105),T=U(6490),Le=U(5319),re=U(9181),De=U(2494),le=U(4449);class xe extends Le.w{constructor(Q,J,ce){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=T.c;break;case 1:if(!Q){this.destination=T.c;break}if("object"==typeof Q){Q instanceof xe?(this.syncErrorThrowable=Q.syncErrorThrowable,this.destination=Q,Q.add(this)):(this.syncErrorThrowable=!0,this.destination=new me(this,Q));break}default:this.syncErrorThrowable=!0,this.destination=new me(this,Q,J,ce)}}[re.b](){return this}static create(Q,J,ce){const ee=new xe(Q,J,ce);return ee.syncErrorThrowable=!1,ee}next(Q){this.isStopped||this._next(Q)}error(Q){this.isStopped||(this.isStopped=!0,this._error(Q))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(Q){this.destination.next(Q)}_error(Q){this.destination.error(Q),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:Q}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=Q,this}}class me extends xe{constructor(Q,J,ce,ee){super(),this._parentSubscriber=Q;let _e,je=this;(0,D.m)(J)?_e=J:J&&(_e=J.next,ce=J.error,ee=J.complete,J!==T.c&&(je=Object.create(J),(0,D.m)(je.unsubscribe)&&this.add(je.unsubscribe.bind(je)),je.unsubscribe=this.unsubscribe.bind(this))),this._context=je,this._next=_e,this._error=ce,this._complete=ee}next(Q){if(!this.isStopped&&this._next){const{_parentSubscriber:J}=this;De.v.useDeprecatedSynchronousErrorHandling&&J.syncErrorThrowable?this.__tryOrSetError(J,this._next,Q)&&this.unsubscribe():this.__tryOrUnsub(this._next,Q)}}error(Q){if(!this.isStopped){const{_parentSubscriber:J}=this,{useDeprecatedSynchronousErrorHandling:ce}=De.v;if(this._error)ce&&J.syncErrorThrowable?(this.__tryOrSetError(J,this._error,Q),this.unsubscribe()):(this.__tryOrUnsub(this._error,Q),this.unsubscribe());else if(J.syncErrorThrowable)ce?(J.syncErrorValue=Q,J.syncErrorThrown=!0):(0,le.z)(Q),this.unsubscribe();else{if(this.unsubscribe(),ce)throw Q;(0,le.z)(Q)}}}complete(){if(!this.isStopped){const{_parentSubscriber:Q}=this;if(this._complete){const J=()=>this._complete.call(this._context);De.v.useDeprecatedSynchronousErrorHandling&&Q.syncErrorThrowable?(this.__tryOrSetError(Q,J),this.unsubscribe()):(this.__tryOrUnsub(J),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(Q,J){try{Q.call(this._context,J)}catch(ce){if(this.unsubscribe(),De.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,le.z)(ce)}}__tryOrSetError(Q,J,ce){if(!De.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{J.call(this._context,ce)}catch(ee){return De.v.useDeprecatedSynchronousErrorHandling?(Q.syncErrorValue=ee,Q.syncErrorThrown=!0,!0):((0,le.z)(ee),!0)}return!1}_unsubscribe(){const{_parentSubscriber:Q}=this;this._context=null,this._parentSubscriber=null,Q.unsubscribe()}}},5319:(yt,He,U)=>{"use strict";U.d(He,{w:()=>le});var D=U(9796),T=U(1555),Le=U(9105);const De=(()=>{function me(ae){return Error.call(this),this.message=ae?`${ae.length} errors occurred during unsubscription:\n${ae.map((Q,J)=>`${J+1}) ${Q.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ae,this}return me.prototype=Object.create(Error.prototype),me})();class le{constructor(ae){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,ae&&(this._ctorUnsubscribe=!0,this._unsubscribe=ae)}unsubscribe(){let ae;if(this.closed)return;let{_parentOrParents:Q,_ctorUnsubscribe:J,_unsubscribe:ce,_subscriptions:ee}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,Q instanceof le)Q.remove(this);else if(null!==Q)for(let _e=0;_e<Q.length;++_e)Q[_e].remove(this);if((0,Le.m)(ce)){J&&(this._unsubscribe=void 0);try{ce.call(this)}catch(_e){ae=_e instanceof De?xe(_e.errors):[_e]}}if((0,D.k)(ee)){let _e=-1,je=ee.length;for(;++_e<je;){const ve=ee[_e];if((0,T.K)(ve))try{ve.unsubscribe()}catch(be){ae=ae||[],be instanceof De?ae=ae.concat(xe(be.errors)):ae.push(be)}}}if(ae)throw new De(ae)}add(ae){let Q=ae;if(!ae)return le.EMPTY;switch(typeof ae){case"function":Q=new le(ae);case"object":if(Q===this||Q.closed||"function"!=typeof Q.unsubscribe)return Q;if(this.closed)return Q.unsubscribe(),Q;if(!(Q instanceof le)){const ee=Q;Q=new le,Q._subscriptions=[ee]}break;default:throw new Error("unrecognized teardown "+ae+" added to Subscription.")}let{_parentOrParents:J}=Q;if(null===J)Q._parentOrParents=this;else if(J instanceof le){if(J===this)return Q;Q._parentOrParents=[J,this]}else{if(-1!==J.indexOf(this))return Q;J.push(this)}const ce=this._subscriptions;return null===ce?this._subscriptions=[Q]:ce.push(Q),Q}remove(ae){const Q=this._subscriptions;if(Q){const J=Q.indexOf(ae);-1!==J&&Q.splice(J,1)}}}var me;function xe(me){return me.reduce((ae,Q)=>ae.concat(Q instanceof De?Q.errors:Q),[])}le.EMPTY=((me=new le).closed=!0,me)},2494:(yt,He,U)=>{"use strict";U.d(He,{v:()=>T});let D=!1;const T={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Le){if(Le){const re=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+re.stack)}else D&&console.log("RxJS: Back to a better error behavior. Thank you. <3");D=Le},get useDeprecatedSynchronousErrorHandling(){return D}}},5345:(yt,He,U)=>{"use strict";U.d(He,{IY:()=>re,Ds:()=>le,ft:()=>me});var D=U(7393),T=U(8891),Le=U(7444);class re extends D.L{constructor(Q){super(),this.parent=Q}_next(Q){this.parent.notifyNext(Q)}_error(Q){this.parent.notifyError(Q),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class le extends D.L{notifyNext(Q){this.destination.next(Q)}notifyError(Q){this.destination.error(Q)}notifyComplete(){this.destination.complete()}}function me(ae,Q){if(Q.closed)return;if(ae instanceof T.y)return ae.subscribe(Q);let J;try{J=(0,Le.s)(ae)(Q)}catch(ce){Q.error(ce)}return J}},2441:(yt,He,U)=>{"use strict";U.d(He,{c:()=>De,N:()=>le});var D=U(9765),T=U(8891),Le=U(5319),re=U(1307);class De extends T.y{constructor(J,ce){super(),this.source=J,this.subjectFactory=ce,this._refCount=0,this._isComplete=!1}_subscribe(J){return this.getSubject().subscribe(J)}getSubject(){const J=this._subject;return(!J||J.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let J=this._connection;return J||(this._isComplete=!1,J=this._connection=new Le.w,J.add(this.source.subscribe(new xe(this.getSubject(),this))),J.closed&&(this._connection=null,J=Le.w.EMPTY)),J}refCount(){return(0,re.x)()(this)}}const le=(()=>{const Q=De.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:Q._subscribe},_isComplete:{value:Q._isComplete,writable:!0},getSubject:{value:Q.getSubject},connect:{value:Q.connect},refCount:{value:Q.refCount}}})();class xe extends D.Yc{constructor(J,ce){super(J),this.connectable=ce}_error(J){this._unsubscribe(),super._error(J)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const J=this.connectable;if(J){this.connectable=null;const ce=J._connection;J._refCount=0,J._subject=null,J._connection=null,ce&&ce.unsubscribe()}}}},8071:(yt,He,U)=>{"use strict";U.d(He,{z:()=>re});var D=U(5917),T=U(3282);function re(...De){return(0,T.J)(1)((0,D.of)(...De))}},9193:(yt,He,U)=>{"use strict";U.d(He,{E:()=>T,c:()=>Le});var D=U(8891);const T=new D.y(De=>De.complete());function Le(De){return De?function(De){return new D.y(le=>De.schedule(()=>le.complete()))}(De):T}},4402:(yt,He,U)=>{"use strict";U.d(He,{D:()=>je});var D=U(8891),T=U(7444),Le=U(5319),re=U(6554),xe=U(4087),me=U(377),J=U(4072),ce=U(9489);function je(ve,be){return be?function(ve,be){if(null!=ve){if(function(ve){return ve&&"function"==typeof ve[re.L]}(ve))return function(ve,be){return new D.y(Ce=>{const Xe=new Le.w;return Xe.add(be.schedule(()=>{const Be=ve[re.L]();Xe.add(Be.subscribe({next(Ie){Xe.add(be.schedule(()=>Ce.next(Ie)))},error(Ie){Xe.add(be.schedule(()=>Ce.error(Ie)))},complete(){Xe.add(be.schedule(()=>Ce.complete()))}}))})),Xe})}(ve,be);if((0,J.t)(ve))return function(ve,be){return new D.y(Ce=>{const Xe=new Le.w;return Xe.add(be.schedule(()=>ve.then(Be=>{Xe.add(be.schedule(()=>{Ce.next(Be),Xe.add(be.schedule(()=>Ce.complete()))}))},Be=>{Xe.add(be.schedule(()=>Ce.error(Be)))}))),Xe})}(ve,be);if((0,ce.z)(ve))return(0,xe.r)(ve,be);if(function(ve){return ve&&"function"==typeof ve[me.hZ]}(ve)||"string"==typeof ve)return function(ve,be){if(!ve)throw new Error("Iterable cannot be null");return new D.y(Ce=>{const Xe=new Le.w;let Be;return Xe.add(()=>{Be&&"function"==typeof Be.return&&Be.return()}),Xe.add(be.schedule(()=>{Be=ve[me.hZ](),Xe.add(be.schedule(function(){if(Ce.closed)return;let Ie,mt;try{const ot=Be.next();Ie=ot.value,mt=ot.done}catch(ot){return void Ce.error(ot)}mt?Ce.complete():(Ce.next(Ie),this.schedule())}))})),Xe})}(ve,be)}throw new TypeError((null!==ve&&typeof ve||ve)+" is not observable")}(ve,be):ve instanceof D.y?ve:new D.y((0,T.s)(ve))}},6693:(yt,He,U)=>{"use strict";U.d(He,{n:()=>re});var D=U(8891),T=U(5015),Le=U(4087);function re(De,le){return le?(0,Le.r)(De,le):new D.y((0,T.V)(De))}},6682:(yt,He,U)=>{"use strict";U.d(He,{T:()=>De});var D=U(8891),T=U(4869),Le=U(3282),re=U(6693);function De(...le){let xe=Number.POSITIVE_INFINITY,me=null,ae=le[le.length-1];return(0,T.K)(ae)?(me=le.pop(),le.length>1&&"number"==typeof le[le.length-1]&&(xe=le.pop())):"number"==typeof ae&&(xe=le.pop()),null===me&&1===le.length&&le[0]instanceof D.y?le[0]:(0,Le.J)(xe)((0,re.n)(le,me))}},5917:(yt,He,U)=>{"use strict";U.d(He,{of:()=>re});var D=U(4869),T=U(6693),Le=U(4087);function re(...De){let le=De[De.length-1];return(0,D.K)(le)?(De.pop(),(0,Le.r)(De,le)):(0,T.n)(De)}},5242:(yt,He,U)=>{"use strict";U.d(He,{d:()=>T});var D=U(7393);function T(De=null){return le=>le.lift(new Le(De))}class Le{constructor(le){this.defaultValue=le}call(le,xe){return xe.subscribe(new re(le,this.defaultValue))}}class re extends D.L{constructor(le,xe){super(le),this.defaultValue=xe,this.isEmpty=!0}_next(le){this.isEmpty=!1,this.destination.next(le)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}},7519:(yt,He,U)=>{"use strict";U.d(He,{x:()=>T});var D=U(7393);function T(De,le){return xe=>xe.lift(new Le(De,le))}class Le{constructor(le,xe){this.compare=le,this.keySelector=xe}call(le,xe){return xe.subscribe(new re(le,this.compare,this.keySelector))}}class re extends D.L{constructor(le,xe,me){super(le),this.keySelector=me,this.hasKey=!1,"function"==typeof xe&&(this.compare=xe)}compare(le,xe){return le===xe}_next(le){let xe;try{const{keySelector:ae}=this;xe=ae?ae(le):le}catch(ae){return this.destination.error(ae)}let me=!1;if(this.hasKey)try{const{compare:ae}=this;me=ae(this.key,xe)}catch(ae){return this.destination.error(ae)}else this.hasKey=!0;me||(this.key=xe,this.destination.next(le))}}},5435:(yt,He,U)=>{"use strict";U.d(He,{h:()=>T});var D=U(7393);function T(De,le){return function(me){return me.lift(new Le(De,le))}}class Le{constructor(le,xe){this.predicate=le,this.thisArg=xe}call(le,xe){return xe.subscribe(new re(le,this.predicate,this.thisArg))}}class re extends D.L{constructor(le,xe,me){super(le),this.predicate=xe,this.thisArg=me,this.count=0}_next(le){let xe;try{xe=this.predicate.call(this.thisArg,le,this.count++)}catch(me){return void this.destination.error(me)}xe&&this.destination.next(le)}}},8049:(yt,He,U)=>{"use strict";U.d(He,{P:()=>xe});var D=U(3410),T=U(5435),Le=U(5257),re=U(5242),De=U(4635),le=U(4487);function xe(me,ae){const Q=arguments.length>=2;return J=>J.pipe(me?(0,T.h)((ce,ee)=>me(ce,ee,J)):le.y,(0,Le.q)(1),Q?(0,re.d)(ae):(0,De.T)(()=>new D.K))}},8002:(yt,He,U)=>{"use strict";U.d(He,{U:()=>T});var D=U(7393);function T(De,le){return function(me){if("function"!=typeof De)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return me.lift(new Le(De,le))}}class Le{constructor(le,xe){this.project=le,this.thisArg=xe}call(le,xe){return xe.subscribe(new re(le,this.project,this.thisArg))}}class re extends D.L{constructor(le,xe,me){super(le),this.project=xe,this.count=0,this.thisArg=me||this}_next(le){let xe;try{xe=this.project.call(this.thisArg,le,this.count++)}catch(me){return void this.destination.error(me)}this.destination.next(xe)}}},3282:(yt,He,U)=>{"use strict";U.d(He,{J:()=>Le});var D=U(9773),T=U(4487);function Le(re=Number.POSITIVE_INFINITY){return(0,D.zg)(T.y,re)}},9773:(yt,He,U)=>{"use strict";U.d(He,{zg:()=>re});var D=U(8002),T=U(4402),Le=U(5345);function re(me,ae,Q=Number.POSITIVE_INFINITY){return"function"==typeof ae?J=>J.pipe(re((ce,ee)=>(0,T.D)(me(ce,ee)).pipe((0,D.U)((_e,je)=>ae(ce,_e,ee,je))),Q)):("number"==typeof ae&&(Q=ae),J=>J.lift(new De(me,Q)))}class De{constructor(ae,Q=Number.POSITIVE_INFINITY){this.project=ae,this.concurrent=Q}call(ae,Q){return Q.subscribe(new le(ae,this.project,this.concurrent))}}class le extends Le.Ds{constructor(ae,Q,J=Number.POSITIVE_INFINITY){super(ae),this.project=Q,this.concurrent=J,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(ae){this.active<this.concurrent?this._tryNext(ae):this.buffer.push(ae)}_tryNext(ae){let Q;const J=this.index++;try{Q=this.project(ae,J)}catch(ce){return void this.destination.error(ce)}this.active++,this._innerSub(Q)}_innerSub(ae){const Q=new Le.IY(this),J=this.destination;J.add(Q);const ce=(0,Le.ft)(ae,Q);ce!==Q&&J.add(ce)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(ae){this.destination.next(ae)}notifyComplete(){const ae=this.buffer;this.active--,ae.length>0?this._next(ae.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(yt,He,U)=>{"use strict";U.d(He,{ht:()=>J,QV:()=>ae});var D=U(7393),T=U(9193),Le=U(5917),re=U(8891);class me{constructor(_e,je,ve){this.kind=_e,this.value=je,this.error=ve,this.hasValue="N"===_e}observe(_e){switch(this.kind){case"N":return _e.next&&_e.next(this.value);case"E":return _e.error&&_e.error(this.error);case"C":return _e.complete&&_e.complete()}}do(_e,je,ve){switch(this.kind){case"N":return _e&&_e(this.value);case"E":return je&&je(this.error);case"C":return ve&&ve()}}accept(_e,je,ve){return _e&&"function"==typeof _e.next?this.observe(_e):this.do(_e,je,ve)}toObservable(){switch(this.kind){case"N":return(0,Le.of)(this.value);case"E":return ee=this.error,new re.y(je=>je.error(ee));case"C":return(0,T.c)()}var ee;throw new Error("unexpected notification kind value")}static createNext(_e){return void 0!==_e?new me("N",_e):me.undefinedValueNotification}static createError(_e){return new me("E",void 0,_e)}static createComplete(){return me.completeNotification}}function ae(ee,_e=0){return function(ve){return ve.lift(new Q(ee,_e))}}me.completeNotification=new me("C"),me.undefinedValueNotification=new me("N",void 0);class Q{constructor(_e,je=0){this.scheduler=_e,this.delay=je}call(_e,je){return je.subscribe(new J(_e,this.scheduler,this.delay))}}class J extends D.L{constructor(_e,je,ve=0){super(_e),this.scheduler=je,this.delay=ve}static dispatch(_e){const{notification:je,destination:ve}=_e;je.observe(ve),this.unsubscribe()}scheduleMessage(_e){this.destination.add(this.scheduler.schedule(J.dispatch,this.delay,new ce(_e,this.destination)))}_next(_e){this.scheduleMessage(me.createNext(_e))}_error(_e){this.scheduleMessage(me.createError(_e)),this.unsubscribe()}_complete(){this.scheduleMessage(me.createComplete()),this.unsubscribe()}}class ce{constructor(_e,je){this.notification=_e,this.destination=je}}},1307:(yt,He,U)=>{"use strict";U.d(He,{x:()=>T});var D=U(7393);function T(){return function(le){return le.lift(new Le(le))}}class Le{constructor(le){this.connectable=le}call(le,xe){const{connectable:me}=this;me._refCount++;const ae=new re(le,me),Q=xe.subscribe(ae);return ae.closed||(ae.connection=me.connect()),Q}}class re extends D.L{constructor(le,xe){super(le),this.connectable=xe}_unsubscribe(){const{connectable:le}=this;if(!le)return void(this.connection=null);this.connectable=null;const xe=le._refCount;if(xe<=0)return void(this.connection=null);if(le._refCount=xe-1,xe>1)return void(this.connection=null);const{connection:me}=this,ae=le._connection;this.connection=null,ae&&(!me||ae===me)&&ae.unsubscribe()}}},2145:(yt,He,U)=>{"use strict";U.d(He,{R:()=>T});var D=U(7393);function T(De,le){let xe=!1;return arguments.length>=2&&(xe=!0),function(ae){return ae.lift(new Le(De,le,xe))}}class Le{constructor(le,xe,me=!1){this.accumulator=le,this.seed=xe,this.hasSeed=me}call(le,xe){return xe.subscribe(new re(le,this.accumulator,this.seed,this.hasSeed))}}class re extends D.L{constructor(le,xe,me,ae){super(le),this.accumulator=xe,this._seed=me,this.hasSeed=ae,this.index=0}get seed(){return this._seed}set seed(le){this.hasSeed=!0,this._seed=le}_next(le){if(this.hasSeed)return this._tryNext(le);this.seed=le,this.destination.next(le)}_tryNext(le){const xe=this.index++;let me;try{me=this.accumulator(this.seed,le,xe)}catch(ae){this.destination.error(ae)}this.seed=me,this.destination.next(me)}}},9761:(yt,He,U)=>{"use strict";U.d(He,{O:()=>Le});var D=U(8071),T=U(4869);function Le(...re){const De=re[re.length-1];return(0,T.K)(De)?(re.pop(),le=>(0,D.z)(re,le,De)):le=>(0,D.z)(re,le)}},3101:(yt,He,U)=>{"use strict";U.d(He,{R:()=>be});var D=U(8891);let T=1;const Le=Promise.resolve(),re={};function De(Xe){return Xe in re&&(delete re[Xe],!0)}const le={setImmediate(Xe){const Be=T++;return re[Be]=!0,Le.then(()=>De(Be)&&Xe()),Be},clearImmediate(Xe){De(Xe)}};var me=U(6465),Q=U(6102);const ee=new class extends Q.v{flush(Be){this.active=!0,this.scheduled=void 0;const{actions:Ie}=this;let mt,ot=-1,Yt=Ie.length;Be=Be||Ie.shift();do{if(mt=Be.execute(Be.state,Be.delay))break}while(++ot<Yt&&(Be=Ie.shift()));if(this.active=!1,mt){for(;++ot<Yt&&(Be=Ie.shift());)Be.unsubscribe();throw mt}}}(class extends me.o{constructor(Be,Ie){super(Be,Ie),this.scheduler=Be,this.work=Ie}requestAsyncId(Be,Ie,mt=0){return null!==mt&&mt>0?super.requestAsyncId(Be,Ie,mt):(Be.actions.push(this),Be.scheduled||(Be.scheduled=le.setImmediate(Be.flush.bind(Be,null))))}recycleAsyncId(Be,Ie,mt=0){if(null!==mt&&mt>0||null===mt&&this.delay>0)return super.recycleAsyncId(Be,Ie,mt);0===Be.actions.length&&(le.clearImmediate(Ie),Be.scheduled=void 0)}});var _e=U(9796);class ve extends D.y{constructor(Be,Ie=0,mt=ee){var Xe;super(),this.source=Be,this.delayTime=Ie,this.scheduler=mt,(!(!(0,_e.k)(Xe=Ie)&&Xe-parseFloat(Xe)+1>=0)||Ie<0)&&(this.delayTime=0),(!mt||"function"!=typeof mt.schedule)&&(this.scheduler=ee)}static create(Be,Ie=0,mt=ee){return new ve(Be,Ie,mt)}static dispatch(Be){const{source:Ie,subscriber:mt}=Be;return this.add(Ie.subscribe(mt))}_subscribe(Be){return this.scheduler.schedule(ve.dispatch,this.delayTime,{source:this.source,subscriber:Be})}}function be(Xe,Be=0){return function(mt){return mt.lift(new Ce(Xe,Be))}}class Ce{constructor(Be,Ie){this.scheduler=Be,this.delay=Ie}call(Be,Ie){return new ve(Ie,this.delay,this.scheduler).subscribe(Be)}}},3190:(yt,He,U)=>{"use strict";U.d(He,{w:()=>re});var D=U(8002),T=U(4402),Le=U(5345);function re(xe,me){return"function"==typeof me?ae=>ae.pipe(re((Q,J)=>(0,T.D)(xe(Q,J)).pipe((0,D.U)((ce,ee)=>me(Q,ce,J,ee))))):ae=>ae.lift(new De(xe))}class De{constructor(me){this.project=me}call(me,ae){return ae.subscribe(new le(me,this.project))}}class le extends Le.Ds{constructor(me,ae){super(me),this.project=ae,this.index=0}_next(me){let ae;const Q=this.index++;try{ae=this.project(me,Q)}catch(J){return void this.destination.error(J)}this._innerSub(ae)}_innerSub(me){const ae=this.innerSubscription;ae&&ae.unsubscribe();const Q=new Le.IY(this),J=this.destination;J.add(Q),this.innerSubscription=(0,Le.ft)(me,Q),this.innerSubscription!==Q&&J.add(this.innerSubscription)}_complete(){const{innerSubscription:me}=this;(!me||me.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(me){this.destination.next(me)}}},5257:(yt,He,U)=>{"use strict";U.d(He,{q:()=>re});var D=U(7393),T=U(7108),Le=U(9193);function re(xe){return me=>0===xe?(0,Le.c)():me.lift(new De(xe))}class De{constructor(me){if(this.total=me,this.total<0)throw new T.W}call(me,ae){return ae.subscribe(new le(me,this.total))}}class le extends D.L{constructor(me,ae){super(me),this.total=ae,this.count=0}_next(me){const ae=this.total,Q=++this.count;Q<=ae&&(this.destination.next(me),Q===ae&&(this.destination.complete(),this.unsubscribe()))}}},3342:(yt,He,U)=>{"use strict";U.d(He,{b:()=>re});var D=U(7393);function T(){}var Le=U(9105);function re(xe,me,ae){return function(J){return J.lift(new De(xe,me,ae))}}class De{constructor(me,ae,Q){this.nextOrObserver=me,this.error=ae,this.complete=Q}call(me,ae){return ae.subscribe(new le(me,this.nextOrObserver,this.error,this.complete))}}class le extends D.L{constructor(me,ae,Q,J){super(me),this._tapNext=T,this._tapError=T,this._tapComplete=T,this._tapError=Q||T,this._tapComplete=J||T,(0,Le.m)(ae)?(this._context=this,this._tapNext=ae):ae&&(this._context=ae,this._tapNext=ae.next||T,this._tapError=ae.error||T,this._tapComplete=ae.complete||T)}_next(me){try{this._tapNext.call(this._context,me)}catch(ae){return void this.destination.error(ae)}this.destination.next(me)}_error(me){try{this._tapError.call(this._context,me)}catch(ae){return void this.destination.error(ae)}this.destination.error(me)}_complete(){try{this._tapComplete.call(this._context)}catch(me){return void this.destination.error(me)}return this.destination.complete()}}},4635:(yt,He,U)=>{"use strict";U.d(He,{T:()=>Le});var D=U(3410),T=U(7393);function Le(xe=le){return me=>me.lift(new re(xe))}class re{constructor(me){this.errorFactory=me}call(me,ae){return ae.subscribe(new De(me,this.errorFactory))}}class De extends T.L{constructor(me,ae){super(me),this.errorFactory=ae,this.hasValue=!1}_next(me){this.hasValue=!0,this.destination.next(me)}_complete(){if(this.hasValue)return this.destination.complete();{let me;try{me=this.errorFactory()}catch(ae){me=ae}this.destination.error(me)}}}function le(){return new D.K}},4087:(yt,He,U)=>{"use strict";U.d(He,{r:()=>Le});var D=U(8891),T=U(5319);function Le(re,De){return new D.y(le=>{const xe=new T.w;let me=0;return xe.add(De.schedule(function(){me!==re.length?(le.next(re[me++]),le.closed||xe.add(this.schedule())):le.complete()})),xe})}},6465:(yt,He,U)=>{"use strict";U.d(He,{o:()=>Le});var D=U(5319);class T extends D.w{constructor(De,le){super()}schedule(De,le=0){return this}}class Le extends T{constructor(De,le){super(De,le),this.scheduler=De,this.work=le,this.pending=!1}schedule(De,le=0){if(this.closed)return this;this.state=De;const xe=this.id,me=this.scheduler;return null!=xe&&(this.id=this.recycleAsyncId(me,xe,le)),this.pending=!0,this.delay=le,this.id=this.id||this.requestAsyncId(me,this.id,le),this}requestAsyncId(De,le,xe=0){return setInterval(De.flush.bind(De,this),xe)}recycleAsyncId(De,le,xe=0){if(null!==xe&&this.delay===xe&&!1===this.pending)return le;clearInterval(le)}execute(De,le){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const xe=this._execute(De,le);if(xe)return xe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(De,le){let me,xe=!1;try{this.work(De)}catch(ae){xe=!0,me=!!ae&&ae||new Error(ae)}if(xe)return this.unsubscribe(),me}_unsubscribe(){const De=this.id,le=this.scheduler,xe=le.actions,me=xe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==me&&xe.splice(me,1),null!=De&&(this.id=this.recycleAsyncId(le,De,null)),this.delay=null}}},6102:(yt,He,U)=>{"use strict";U.d(He,{v:()=>T});let D=(()=>{class Le{constructor(De,le=Le.now){this.SchedulerAction=De,this.now=le}schedule(De,le=0,xe){return new this.SchedulerAction(this,De).schedule(xe,le)}}return Le.now=()=>Date.now(),Le})();class T extends D{constructor(re,De=D.now){super(re,()=>T.delegate&&T.delegate!==this?T.delegate.now():De()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(re,De=0,le){return T.delegate&&T.delegate!==this?T.delegate.schedule(re,De,le):super.schedule(re,De,le)}flush(re){const{actions:De}=this;if(this.active)return void De.push(re);let le;this.active=!0;do{if(le=re.execute(re.state,re.delay))break}while(re=De.shift());if(this.active=!1,le){for(;re=De.shift();)re.unsubscribe();throw le}}}},3637:(yt,He,U)=>{"use strict";U.d(He,{z:()=>Le,P:()=>re});var D=U(6465);const Le=new(U(6102).v)(D.o),re=Le},7771:(yt,He,U)=>{"use strict";U.d(He,{c:()=>le,N:()=>De});var D=U(6465),Le=U(6102);const De=new class extends Le.v{}(class extends D.o{constructor(me,ae){super(me,ae),this.scheduler=me,this.work=ae}schedule(me,ae=0){return ae>0?super.schedule(me,ae):(this.delay=ae,this.state=me,this.scheduler.flush(this),this)}execute(me,ae){return ae>0||this.closed?super.execute(me,ae):this._execute(me,ae)}requestAsyncId(me,ae,Q=0){return null!==Q&&Q>0||null===Q&&this.delay>0?super.requestAsyncId(me,ae,Q):me.flush(this)}}),le=De},377:(yt,He,U)=>{"use strict";U.d(He,{hZ:()=>T});const T="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(yt,He,U)=>{"use strict";U.d(He,{L:()=>D});const D="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(yt,He,U)=>{"use strict";U.d(He,{b:()=>D});const D="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(yt,He,U)=>{"use strict";U.d(He,{W:()=>T});const T=(()=>{function Le(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return Le.prototype=Object.create(Error.prototype),Le})()},3410:(yt,He,U)=>{"use strict";U.d(He,{K:()=>T});const T=(()=>{function Le(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return Le.prototype=Object.create(Error.prototype),Le})()},7971:(yt,He,U)=>{"use strict";U.d(He,{N:()=>T});const T=(()=>{function Le(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Le.prototype=Object.create(Error.prototype),Le})()},4449:(yt,He,U)=>{"use strict";function D(T){setTimeout(()=>{throw T},0)}U.d(He,{z:()=>D})},4487:(yt,He,U)=>{"use strict";function D(T){return T}U.d(He,{y:()=>D})},9796:(yt,He,U)=>{"use strict";U.d(He,{k:()=>D});const D=Array.isArray||(T=>T&&"number"==typeof T.length)},9489:(yt,He,U)=>{"use strict";U.d(He,{z:()=>D});const D=T=>T&&"number"==typeof T.length&&"function"!=typeof T},9105:(yt,He,U)=>{"use strict";function D(T){return"function"==typeof T}U.d(He,{m:()=>D})},1555:(yt,He,U)=>{"use strict";function D(T){return null!==T&&"object"==typeof T}U.d(He,{K:()=>D})},4072:(yt,He,U)=>{"use strict";function D(T){return!!T&&"function"!=typeof T.subscribe&&"function"==typeof T.then}U.d(He,{t:()=>D})},4869:(yt,He,U)=>{"use strict";function D(T){return T&&"function"==typeof T.schedule}U.d(He,{K:()=>D})},4022:(yt,He,U)=>{"use strict";U.d(He,{z:()=>T,U:()=>Le});var D=U(4487);function T(...re){return Le(re)}function Le(re){return 0===re.length?D.y:1===re.length?re[0]:function(le){return re.reduce((xe,me)=>me(xe),le)}}},7444:(yt,He,U)=>{"use strict";U.d(He,{s:()=>J});var D=U(5015),T=U(4449),re=U(377),le=U(6554),me=U(9489),ae=U(4072),Q=U(1555);const J=ce=>{if(ce&&"function"==typeof ce[le.L])return(ce=>ee=>{const _e=ce[le.L]();if("function"!=typeof _e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return _e.subscribe(ee)})(ce);if((0,me.z)(ce))return(0,D.V)(ce);if((0,ae.t)(ce))return(ce=>ee=>(ce.then(_e=>{ee.closed||(ee.next(_e),ee.complete())},_e=>ee.error(_e)).then(null,T.z),ee))(ce);if(ce&&"function"==typeof ce[re.hZ])return(ce=>ee=>{const _e=ce[re.hZ]();for(;;){let je;try{je=_e.next()}catch(ve){return ee.error(ve),ee}if(je.done){ee.complete();break}if(ee.next(je.value),ee.closed)break}return"function"==typeof _e.return&&ee.add(()=>{_e.return&&_e.return()}),ee})(ce);{const _e=`You provided ${(0,Q.K)(ce)?"an invalid object":`'${ce}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(_e)}}},5015:(yt,He,U)=>{"use strict";U.d(He,{V:()=>D});const D=T=>Le=>{for(let re=0,De=T.length;re<De&&!Le.closed;re++)Le.next(T[re]);Le.complete()}},509:(yt,He,U)=>{"use strict";U.d(He,{D:()=>De});var D=U(7393);class T extends D.L{constructor(xe,me,ae){super(),this.parent=xe,this.outerValue=me,this.outerIndex=ae,this.index=0}_next(xe){this.parent.notifyNext(this.outerValue,xe,this.outerIndex,this.index++,this)}_error(xe){this.parent.notifyError(xe,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Le=U(7444),re=U(8891);function De(le,xe,me,ae,Q=new T(le,me,ae)){if(!Q.closed)return xe instanceof re.y?xe.subscribe(Q):(0,Le.s)(xe)(Q)}},9871:(yt,He,U)=>{"use strict";U.d(He,{e:()=>ce});var D=U(8239),Le=(U(5452),U(8397)),xe=(U(6034),U(4685),U(300),U(8049)),me=U(3018),ae=U(8006),Q=U(7037),J=U(174);let ce=(()=>{class ee{constructor(je,ve,be){this.auth=je,this.afs=ve,this.router=be}login(){var je=this;return(0,D.Z)(function*(){var ve,be;const Ce=yield je.auth.signInWithPopup(new Le.ab);if(Ce.user){const Xe={displayName:null===(ve=null==Ce?void 0:Ce.user)||void 0===ve?void 0:ve.displayName,email:Ce.user.email,photoURL:Ce.user.photoURL,uid:Ce.user.uid,emailVerified:Ce.user.emailVerified};yield je.checkUserExistOrNot(null===(be=null==Ce?void 0:Ce.additionalUserInfo)||void 0===be?void 0:be.isNewUser,Xe),je.router.navigateByUrl("")}})()}logout(){this.auth.signOut(),location.reload()}checkUserExistOrNot(je,ve){var be=this;return(0,D.Z)(function*(){je&&(yield be.storeUserData(ve))})()}storeUserData(je){var ve=this;return(0,D.Z)(function*(){yield ve.afs.collection("users").add(je)})()}isLoggedIn(){return this.auth.authState.pipe((0,xe.P)()).toPromise()}getUserId(){var je=this;return(0,D.Z)(function*(){return(yield je.isLoggedIn()).uid})()}}return ee.\u0275fac=function(je){return new(je||ee)(me.LFG(ae.zQ),me.LFG(Q.ST),me.LFG(J.F0))},ee.\u0275prov=me.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})()},1805:(yt,He,U)=>{"use strict";U.d(He,{C:()=>xe});var D=U(8239),T=U(8002),Le=U(3018),re=U(7037),De=U(6824),le=U(9871);let xe=(()=>{class me{constructor(Q,J,ce){this.db=Q,this.storage=J,this.authService=ce}pushFileToStorage(Q){var J=this;return(0,D.Z)(function*(){const ce=Q,ee="/uploads/"+ce.name,_e=J.storage.ref(ee);yield J.storage.upload(ee,ce),_e.getDownloadURL().subscribe(function(){var je=(0,D.Z)(function*(ve){console.log(ve);const be=ce.name.split("."),Ce={name:ce.name,url:ve,size:ce.size,type:be[be.length-1],uid:yield J.authService.getUserId(),folderId:"",date:new Date,tags:[""]};J.saveFileData(Ce)});return function(ve){return je.apply(this,arguments)}}())})()}saveFileData(Q){this.db.collection("uploads").add(Q)}getFiles(){return this.db.collection("uploads").snapshotChanges().pipe((0,T.U)(Q=>Q.map(J=>{if(J.payload.doc.exists)return J.payload.doc.data()})))}}return me.\u0275fac=function(Q){return new(Q||me)(Le.LFG(re.ST),Le.LFG(De.Q1),Le.LFG(le.e))},me.\u0275prov=Le.Yz7({token:me,factory:me.\u0275fac,providedIn:"root"}),me})()},1182:(yt,He,U)=>{"use strict";var D=U(8583),T=U(3018);class Le extends D.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class re extends Le{static makeCurrent(){(0,D.HT)(new re)}onAndCancel(S,M,N){return S.addEventListener(M,N,!1),()=>{S.removeEventListener(M,N,!1)}}dispatchEvent(S,M){S.dispatchEvent(M)}remove(S){S.parentNode&&S.parentNode.removeChild(S)}createElement(S,M){return(M=M||this.getDefaultDocument()).createElement(S)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(S){return S.nodeType===Node.ELEMENT_NODE}isShadowRoot(S){return S instanceof DocumentFragment}getGlobalEventTarget(S,M){return"window"===M?window:"document"===M?S:"body"===M?S.body:null}getBaseHref(S){const M=(De=De||document.querySelector("base"),De?De.getAttribute("href"):null);return null==M?null:function(_){xe=xe||document.createElement("a"),xe.setAttribute("href",_);const S=xe.pathname;return"/"===S.charAt(0)?S:`/${S}`}(M)}resetBaseElement(){De=null}getUserAgent(){return window.navigator.userAgent}getCookie(S){return(0,D.Mx)(document.cookie,S)}}let xe,De=null;const ae=new T.OlP("TRANSITION_ID"),J=[{provide:T.ip1,useFactory:function(_,S,M){return()=>{M.get(T.CZH).donePromise.then(()=>{const N=(0,D.q)(),j=S.querySelectorAll(`style[ng-transition="${_}"]`);for(let ne=0;ne<j.length;ne++)N.remove(j[ne])})}},deps:[ae,D.K0,T.zs3],multi:!0}];class ce{static init(){(0,T.VLi)(new ce)}addToWindow(S){T.dqk.getAngularTestability=(N,j=!0)=>{const ne=S.findTestabilityInTree(N,j);if(null==ne)throw new Error("Could not find testability for element.");return ne},T.dqk.getAllAngularTestabilities=()=>S.getAllTestabilities(),T.dqk.getAllAngularRootElements=()=>S.getAllRootElements(),T.dqk.frameworkStabilizers||(T.dqk.frameworkStabilizers=[]),T.dqk.frameworkStabilizers.push(N=>{const j=T.dqk.getAllAngularTestabilities();let ne=j.length,Se=!1;const Oe=function(it){Se=Se||it,ne--,0==ne&&N(Se)};j.forEach(function(it){it.whenStable(Oe)})})}findTestabilityInTree(S,M,N){if(null==M)return null;const j=S.getTestability(M);return null!=j?j:N?(0,D.q)().isShadowRoot(M)?this.findTestabilityInTree(S,M.host,!0):this.findTestabilityInTree(S,M.parentElement,!0):null}}let ee=(()=>{class _{build(){return new XMLHttpRequest}}return _.\u0275fac=function(M){return new(M||_)},_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac}),_})();const ye=new T.OlP("EventManagerPlugins");let Ue=(()=>{class _{constructor(M,N){this._zone=N,this._eventNameToPlugin=new Map,M.forEach(j=>j.manager=this),this._plugins=M.slice().reverse()}addEventListener(M,N,j){return this._findPluginFor(N).addEventListener(M,N,j)}addGlobalEventListener(M,N,j){return this._findPluginFor(N).addGlobalEventListener(M,N,j)}getZone(){return this._zone}_findPluginFor(M){const N=this._eventNameToPlugin.get(M);if(N)return N;const j=this._plugins;for(let ne=0;ne<j.length;ne++){const Se=j[ne];if(Se.supports(M))return this._eventNameToPlugin.set(M,Se),Se}throw new Error(`No event manager plugin found for event ${M}`)}}return _.\u0275fac=function(M){return new(M||_)(T.LFG(ye),T.LFG(T.R0b))},_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac}),_})();class Ae{constructor(S){this._doc=S}addGlobalEventListener(S,M,N){const j=(0,D.q)().getGlobalEventTarget(this._doc,S);if(!j)throw new Error(`Unsupported event target ${j} for event ${M}`);return this.addEventListener(j,M,N)}}let Ne=(()=>{class _{constructor(){this._stylesSet=new Set}addStyles(M){const N=new Set;M.forEach(j=>{this._stylesSet.has(j)||(this._stylesSet.add(j),N.add(j))}),this.onStylesAdded(N)}onStylesAdded(M){}getAllStyles(){return Array.from(this._stylesSet)}}return _.\u0275fac=function(M){return new(M||_)},_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac}),_})(),lt=(()=>{class _ extends Ne{constructor(M){super(),this._doc=M,this._hostNodes=new Map,this._hostNodes.set(M.head,[])}_addStylesToHost(M,N,j){M.forEach(ne=>{const Se=this._doc.createElement("style");Se.textContent=ne,j.push(N.appendChild(Se))})}addHost(M){const N=[];this._addStylesToHost(this._stylesSet,M,N),this._hostNodes.set(M,N)}removeHost(M){const N=this._hostNodes.get(M);N&&N.forEach(_t),this._hostNodes.delete(M)}onStylesAdded(M){this._hostNodes.forEach((N,j)=>{this._addStylesToHost(M,j,N)})}ngOnDestroy(){this._hostNodes.forEach(M=>M.forEach(_t))}}return _.\u0275fac=function(M){return new(M||_)(T.LFG(D.K0))},_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac}),_})();function _t(_){(0,D.q)().remove(_)}const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},at=/%COMP%/g;function Ut(_,S,M){for(let N=0;N<S.length;N++){let j=S[N];Array.isArray(j)?Ut(_,j,M):(j=j.replace(at,_),M.push(j))}return M}function zn(_){return S=>{if("__ngUnwrap__"===S)return _;!1===_(S)&&(S.preventDefault(),S.returnValue=!1)}}let Xn=(()=>{class _{constructor(M,N,j){this.eventManager=M,this.sharedStylesHost=N,this.appId=j,this.rendererByCompId=new Map,this.defaultRenderer=new Mn(M)}createRenderer(M,N){if(!M||!N)return this.defaultRenderer;switch(N.encapsulation){case T.ifc.Emulated:{let j=this.rendererByCompId.get(N.id);return j||(j=new Ln(this.eventManager,this.sharedStylesHost,N,this.appId),this.rendererByCompId.set(N.id,j)),j.applyToHost(M),j}case 1:case T.ifc.ShadowDom:return new v1(this.eventManager,this.sharedStylesHost,M,N);default:if(!this.rendererByCompId.has(N.id)){const j=Ut(N.id,N.styles,[]);this.sharedStylesHost.addStyles(j),this.rendererByCompId.set(N.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return _.\u0275fac=function(M){return new(M||_)(T.LFG(Ue),T.LFG(lt),T.LFG(T.AFp))},_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac}),_})();class Mn{constructor(S){this.eventManager=S,this.data=Object.create(null)}destroy(){}createElement(S,M){return M?document.createElementNS(vt[M]||M,S):document.createElement(S)}createComment(S){return document.createComment(S)}createText(S){return document.createTextNode(S)}appendChild(S,M){S.appendChild(M)}insertBefore(S,M,N){S&&S.insertBefore(M,N)}removeChild(S,M){S&&S.removeChild(M)}selectRootElement(S,M){let N="string"==typeof S?document.querySelector(S):S;if(!N)throw new Error(`The selector "${S}" did not match any elements`);return M||(N.textContent=""),N}parentNode(S){return S.parentNode}nextSibling(S){return S.nextSibling}setAttribute(S,M,N,j){if(j){M=j+":"+M;const ne=vt[j];ne?S.setAttributeNS(ne,M,N):S.setAttribute(M,N)}else S.setAttribute(M,N)}removeAttribute(S,M,N){if(N){const j=vt[N];j?S.removeAttributeNS(j,M):S.removeAttribute(`${N}:${M}`)}else S.removeAttribute(M)}addClass(S,M){S.classList.add(M)}removeClass(S,M){S.classList.remove(M)}setStyle(S,M,N,j){j&(T.JOm.DashCase|T.JOm.Important)?S.style.setProperty(M,N,j&T.JOm.Important?"important":""):S.style[M]=N}removeStyle(S,M,N){N&T.JOm.DashCase?S.style.removeProperty(M):S.style[M]=""}setProperty(S,M,N){S[M]=N}setValue(S,M){S.nodeValue=M}listen(S,M,N){return"string"==typeof S?this.eventManager.addGlobalEventListener(S,M,zn(N)):this.eventManager.addEventListener(S,M,zn(N))}}class Ln extends Mn{constructor(S,M,N,j){super(S),this.component=N;const ne=Ut(j+"-"+N.id,N.styles,[]);M.addStyles(ne),this.contentAttr="_ngcontent-%COMP%".replace(at,j+"-"+N.id),this.hostAttr=function(_){return"_nghost-%COMP%".replace(at,_)}(j+"-"+N.id)}applyToHost(S){super.setAttribute(S,this.hostAttr,"")}createElement(S,M){const N=super.createElement(S,M);return super.setAttribute(N,this.contentAttr,""),N}}class v1 extends Mn{constructor(S,M,N,j){super(S),this.sharedStylesHost=M,this.hostEl=N,this.shadowRoot=N.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ne=Ut(j.id,j.styles,[]);for(let Se=0;Se<ne.length;Se++){const Oe=document.createElement("style");Oe.textContent=ne[Se],this.shadowRoot.appendChild(Oe)}}nodeOrShadowRoot(S){return S===this.hostEl?this.shadowRoot:S}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(S,M){return super.appendChild(this.nodeOrShadowRoot(S),M)}insertBefore(S,M,N){return super.insertBefore(this.nodeOrShadowRoot(S),M,N)}removeChild(S,M){return super.removeChild(this.nodeOrShadowRoot(S),M)}parentNode(S){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(S)))}}let Qt=(()=>{class _ extends Ae{constructor(M){super(M)}supports(M){return!0}addEventListener(M,N,j){return M.addEventListener(N,j,!1),()=>this.removeEventListener(M,N,j)}removeEventListener(M,N,j){return M.removeEventListener(N,j)}}return _.\u0275fac=function(M){return new(M||_)(T.LFG(D.K0))},_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac}),_})();const dn=["alt","control","meta","shift"],Et={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y1={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Mr={alt:_=>_.altKey,control:_=>_.ctrlKey,meta:_=>_.metaKey,shift:_=>_.shiftKey};let ue=(()=>{class _ extends Ae{constructor(M){super(M)}supports(M){return null!=_.parseEventName(M)}addEventListener(M,N,j){const ne=_.parseEventName(N),Se=_.eventCallback(ne.fullKey,j,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,D.q)().onAndCancel(M,ne.domEventName,Se))}static parseEventName(M){const N=M.toLowerCase().split("."),j=N.shift();if(0===N.length||"keydown"!==j&&"keyup"!==j)return null;const ne=_._normalizeKey(N.pop());let Se="";if(dn.forEach(it=>{const Wt=N.indexOf(it);Wt>-1&&(N.splice(Wt,1),Se+=it+".")}),Se+=ne,0!=N.length||0===ne.length)return null;const Oe={};return Oe.domEventName=j,Oe.fullKey=Se,Oe}static getEventFullKey(M){let N="",j=function(_){let S=_.key;if(null==S){if(S=_.keyIdentifier,null==S)return"Unidentified";S.startsWith("U+")&&(S=String.fromCharCode(parseInt(S.substring(2),16)),3===_.location&&y1.hasOwnProperty(S)&&(S=y1[S]))}return Et[S]||S}(M);return j=j.toLowerCase()," "===j?j="space":"."===j&&(j="dot"),dn.forEach(ne=>{ne!=j&&Mr[ne](M)&&(N+=ne+".")}),N+=j,N}static eventCallback(M,N,j){return ne=>{_.getEventFullKey(ne)===M&&j.runGuarded(()=>N(ne))}}static _normalizeKey(M){switch(M){case"esc":return"escape";default:return M}}}return _.\u0275fac=function(M){return new(M||_)(T.LFG(D.K0))},_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac}),_})(),ge=(()=>{class _{}return _.\u0275fac=function(M){return new(M||_)},_.\u0275prov=(0,T.Yz7)({factory:function(){return(0,T.LFG)(Te)},token:_,providedIn:"root"}),_})(),Te=(()=>{class _ extends ge{constructor(M){super(),this._doc=M}sanitize(M,N){if(null==N)return null;switch(M){case T.q3G.NONE:return N;case T.q3G.HTML:return(0,T.qzn)(N,"HTML")?(0,T.z3N)(N):(0,T.EiD)(this._doc,String(N)).toString();case T.q3G.STYLE:return(0,T.qzn)(N,"Style")?(0,T.z3N)(N):N;case T.q3G.SCRIPT:if((0,T.qzn)(N,"Script"))return(0,T.z3N)(N);throw new Error("unsafe value used in a script context");case T.q3G.URL:return(0,T.yhl)(N),(0,T.qzn)(N,"URL")?(0,T.z3N)(N):(0,T.mCW)(String(N));case T.q3G.RESOURCE_URL:if((0,T.qzn)(N,"ResourceURL"))return(0,T.z3N)(N);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${M} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(M){return(0,T.JVY)(M)}bypassSecurityTrustStyle(M){return(0,T.L6k)(M)}bypassSecurityTrustScript(M){return(0,T.eBb)(M)}bypassSecurityTrustUrl(M){return(0,T.LAX)(M)}bypassSecurityTrustResourceUrl(M){return(0,T.pB0)(M)}}return _.\u0275fac=function(M){return new(M||_)(T.LFG(D.K0))},_.\u0275prov=(0,T.Yz7)({factory:function(){return function(_){return new Te(_.get(D.K0))}((0,T.LFG)(T.gxx))},token:_,providedIn:"root"}),_})();const ar=(0,T.eFA)(T._c5,"browser",[{provide:T.Lbi,useValue:D.bD},{provide:T.g9A,useValue:function(){re.makeCurrent(),ce.init()},multi:!0},{provide:D.K0,useFactory:function(){return(0,T.RDi)(document),document},deps:[]}]),t2=[[],{provide:T.zSh,useValue:"root"},{provide:T.qLn,useFactory:function(){return new T.qLn},deps:[]},{provide:ye,useClass:Qt,multi:!0,deps:[D.K0,T.R0b,T.Lbi]},{provide:ye,useClass:ue,multi:!0,deps:[D.K0]},[],{provide:Xn,useClass:Xn,deps:[Ue,lt,T.AFp]},{provide:T.FYo,useExisting:Xn},{provide:Ne,useExisting:lt},{provide:lt,useClass:lt,deps:[D.K0]},{provide:T.dDg,useClass:T.dDg,deps:[T.R0b]},{provide:Ue,useClass:Ue,deps:[ye,T.R0b]},{provide:D.JF,useClass:ee,deps:[]},[]];let b2=(()=>{class _{constructor(M){if(M)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(M){return{ngModule:_,providers:[{provide:T.AFp,useValue:M.appId},{provide:ae,useExisting:T.AFp},J]}}}return _.\u0275fac=function(M){return new(M||_)(T.LFG(_,12))},_.\u0275mod=T.oAB({type:_}),_.\u0275inj=T.cJS({providers:t2,imports:[D.ez,T.hGG]}),_})();"undefined"!=typeof window&&window;var x1=U(174),Vn=U(4022),mr=U(8002),ai=U(5257),en=U(8006);const Sr=(0,mr.U)(_=>!!_);let xr=(()=>{class _{constructor(M,N){this.router=M,this.auth=N,this.canActivate=(j,ne)=>{const Se=j.data.authGuardPipe||(()=>Sr);return this.auth.user.pipe((0,ai.q)(1),Se(j,ne),(0,mr.U)(Oe=>"boolean"==typeof Oe?Oe:Array.isArray(Oe)?this.router.createUrlTree(Oe):this.router.parseUrl(Oe)))}}}return _.\u0275fac=function(M){return new(M||_)(T.LFG(x1.F0),T.LFG(en.zQ))},_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac,providedIn:"any"}),_})();const j2=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"auth",loadChildren:()=>U.e(567).then(U.bind(U,3567)).then(_=>_.AuthModule),canActivate:[xr],data:{authGuardPipe:()=>{return _=["home"],(0,Vn.z)(Sr,(0,mr.U)(S=>S&&_||!0));var _}}},{path:"home",loadChildren:()=>U.e(210).then(U.bind(U,3210)).then(_=>_.HomeModule),canActivate:[xr],data:{authGuardPipe:()=>{return _=["auth"],(0,Vn.z)(Sr,(0,mr.U)(S=>S||_));var _}}}];let Pn=(()=>{class _{}return _.\u0275fac=function(M){return new(M||_)},_.\u0275mod=T.oAB({type:_}),_.\u0275inj=T.cJS({imports:[[x1.Bz.forRoot(j2)],x1.Bz]}),_})();var P1={prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},Gv=U(9871),Hm=U(1805);function Do(_){return(Do="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(_)}function D5(_,S){for(var M=0;M<S.length;M++){var N=S[M];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(_,N.key,N)}}function Fm(_,S,M){return S in _?Object.defineProperty(_,S,{value:M,enumerable:!0,configurable:!0,writable:!0}):_[S]=M,_}function Sn(_){for(var S=1;S<arguments.length;S++){var M=null!=arguments[S]?arguments[S]:{},N=Object.keys(M);"function"==typeof Object.getOwnPropertySymbols&&(N=N.concat(Object.getOwnPropertySymbols(M).filter(function(j){return Object.getOwnPropertyDescriptor(M,j).enumerable}))),N.forEach(function(j){Fm(_,j,M[j])})}return _}function Kf(_,S){return function(_){if(Array.isArray(_))return _}(_)||function(_,S){var M=[],N=!0,j=!1,ne=void 0;try{for(var Oe,Se=_[Symbol.iterator]();!(N=(Oe=Se.next()).done)&&(M.push(Oe.value),!S||M.length!==S);N=!0);}catch(it){j=!0,ne=it}finally{try{!N&&null!=Se.return&&Se.return()}finally{if(j)throw ne}}return M}(_,S)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var ld={},ud={};try{"undefined"!=typeof window&&(ld=window),"undefined"!=typeof document&&(ud=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&performance}catch(_){}var Qf=(ld.navigator||{}).userAgent,z5=void 0===Qf?"":Qf,M6=ld,Br=ud,i4=!!Br.documentElement&&!!Br.head&&"function"==typeof Br.addEventListener&&"function"==typeof Br.createElement,pa=(~z5.indexOf("MSIE")||z5.indexOf("Trident/"),"___FONT_AWESOME___"),pd="svg-inline--fa",vd=[1,2,3,4,5,6,7,8,9,10],Qm=vd.concat([11,12,13,14,15,16,17,18,19,20]),A6={GROUP:"group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},eg=(["xs","sm","lg","fw","ul","li","border","pull-left","pull-right","spin","pulse","rotate-90","rotate-180","rotate-270","flip-horizontal","flip-vertical","flip-both","stack","stack-1x","stack-2x","inverse","layers","layers-text","layers-counter",A6.GROUP,A6.SWAP_OPACITY,A6.PRIMARY,A6.SECONDARY].concat(vd.map(function(_){return"".concat(_,"x")})).concat(Qm.map(function(_){return"w-".concat(_)})),M6.FontAwesomeConfig||{});Br&&"function"==typeof Br.querySelector&&[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(function(_){var S=Kf(_,2),N=S[1],j=function(_){return""===_||"false"!==_&&("true"===_||_)}(function(_){var S=Br.querySelector("script["+_+"]");if(S)return S.getAttribute(_)}(S[0]));null!=j&&(eg[N]=j)});var Xf=Sn({},{familyPrefix:"fa",replacementClass:pd,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},eg);Xf.autoReplaceSvg||(Xf.observeMutations=!1);var mn=Sn({},Xf);M6.FontAwesomeConfig=mn;var Mi=M6||{};Mi[pa]||(Mi[pa]={}),Mi[pa].styles||(Mi[pa].styles={}),Mi[pa].hooks||(Mi[pa].hooks={}),Mi[pa].shims||(Mi[pa].shims=[]);var ro=Mi[pa],yd=[];i4&&((Br.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Br.readyState)||Br.addEventListener("DOMContentLoaded",function _(){Br.removeEventListener("DOMContentLoaded",_),yd.map(function(S){return S()})}));var rh,eh="pending",_d="settled",ol="fulfilled",al="rejected",th=function(){},nh="undefined"!=typeof global&&void 0!==global.process&&"function"==typeof global.process.emit,Cd="undefined"==typeof setImmediate?setTimeout:setImmediate,cl=[];function bd(){for(var _=0;_<cl.length;_++)cl[_][0](cl[_][1]);cl=[],rh=!1}function H5(_,S){cl.push([_,S]),rh||(rh=!0,Cd(bd,0))}function ll(_){var S=_.owner,M=S._state,N=S._data,j=_[M],ne=_.then;if("function"==typeof j){M=ol;try{N=j(N)}catch(Se){Yn(ne,Se)}}ul(ne,N)||(M===ol&&Ed(ne,N),M===al&&Yn(ne,N))}function ul(_,S){var M;try{if(_===S)throw new TypeError("A promises callback cannot return that same promise.");if(S&&("function"==typeof S||"object"===Do(S))){var N=S.then;if("function"==typeof N)return N.call(S,function(j){M||(M=!0,S===j?K0(_,j):Ed(_,j))},function(j){M||(M=!0,Yn(_,j))}),!0}}catch(j){return M||Yn(_,j),!0}return!1}function Ed(_,S){(_===S||!ul(_,S))&&K0(_,S)}function K0(_,S){_._state===eh&&(_._state=_d,_._data=S,H5(Y0,_))}function Yn(_,S){_._state===eh&&(_._state=_d,_._data=S,H5(fl,_))}function s4(_){_._then=_._then.forEach(ll)}function Y0(_){_._state=ol,s4(_)}function fl(_){_._state=al,s4(_),!_._handled&&nh&&global.process.emit("unhandledRejection",_._data,_)}function Yv(_){global.process.emit("rejectionHandled",_)}function Zt(_){if("function"!=typeof _)throw new TypeError("Promise resolver "+_+" is not a function");if(!(this instanceof Zt))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this._then=[],function(_,S){function N(j){Yn(S,j)}try{_(function(j){Ed(S,j)},N)}catch(j){N(j)}}(_,this)}Zt.prototype={constructor:Zt,_state:eh,_then:null,_data:void 0,_handled:!1,then:function(S,M){var N={owner:this,then:new this.constructor(th),fulfilled:S,rejected:M};return(M||S)&&!this._handled&&(this._handled=!0,this._state===al&&nh&&H5(Yv,this)),this._state===ol||this._state===al?H5(ll,N):this._then.push(N),N.then},catch:function(S){return this.then(null,S)}},Zt.all=function(_){if(!Array.isArray(_))throw new TypeError("You must pass an array to Promise.all().");return new Zt(function(S,M){var N=[],j=0;function ne(it){return j++,function(Wt){N[it]=Wt,--j||S(N)}}for(var Oe,Se=0;Se<_.length;Se++)(Oe=_[Se])&&"function"==typeof Oe.then?Oe.then(ne(Se),M):N[Se]=Oe;j||S(N)})},Zt.race=function(_){if(!Array.isArray(_))throw new TypeError("You must pass an array to Promise.race().");return new Zt(function(S,M){for(var j,N=0;N<_.length;N++)(j=_[N])&&"function"==typeof j.then?j.then(S,M):S(j)})},Zt.resolve=function(_){return _&&"object"===Do(_)&&_.constructor===Zt?_:new Zt(function(S){S(_)})},Zt.reject=function(_){return new Zt(function(S,M){M(_)})};var Ii={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function F5(){for(var _=12,S="";_-- >0;)S+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return S}function or(_){return"".concat(_).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function hl(_){return Object.keys(_||{}).reduce(function(S,M){return S+"".concat(M,": ").concat(_[M],";")},"")}function oh(_){return _.size!==Ii.size||_.x!==Ii.x||_.y!==Ii.y||_.rotate!==Ii.rotate||_.flipX||_.flipY}function ah(_){var S=_.transform,N=_.iconWidth,j={transform:"translate(".concat(_.containerWidth/2," 256)")},ne="translate(".concat(32*S.x,", ").concat(32*S.y,") "),Se="scale(".concat(S.size/16*(S.flipX?-1:1),", ").concat(S.size/16*(S.flipY?-1:1),") "),Oe="rotate(".concat(S.rotate," 0 0)");return{outer:j,inner:{transform:"".concat(ne," ").concat(Se," ").concat(Oe)},path:{transform:"translate(".concat(N/2*-1," -256)")}}}var hc={x:0,y:0,width:"100%",height:"100%"};function J0(_){var S=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return _.attributes&&(_.attributes.fill||S)&&(_.attributes.fill="black"),_}function ig(_){return"g"===_.tag?_.children:[_]}function x6(_){var S=_.icons,M=S.main,N=S.mask,j=_.prefix,ne=_.iconName,Se=_.transform,Oe=_.symbol,it=_.title,Wt=_.maskId,Vt=_.titleId,gn=_.extra,Y1=_.watchable,U2=void 0!==Y1&&Y1,jr=N.found?N:M,ns=jr.width,rs=jr.height,so="fak"===j,l4=so?"":"fa-w-".concat(Math.ceil(ns/rs*16)),z6=[mn.replacementClass,ne?"".concat(mn.familyPrefix,"-").concat(ne):"",l4].filter(function(f7){return-1===gn.classes.indexOf(f7)}).filter(function(f7){return""!==f7||!!f7}).concat(gn.classes).join(" "),u4={children:[],attributes:Sn({},gn.attributes,{"data-prefix":j,"data-icon":ne,class:z6,role:gn.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(ns," ").concat(rs)})},pc=so&&!~gn.classes.indexOf("fa-fw")?{width:"".concat(ns/rs*16*.0625,"em")}:{};U2&&(u4.attributes["data-fa-i2svg"]=""),it&&u4.children.push({tag:"title",attributes:{id:u4.attributes["aria-labelledby"]||"title-".concat(Vt||F5())},children:[it]});var mc=Sn({},u4,{prefix:j,iconName:ne,main:M,mask:N,maskId:Wt,transform:Se,symbol:Oe,styles:Sn({},pc,gn.styles)}),fv=N.found&&M.found?function(_){var S=_.children,M=_.attributes,N=_.main,j=_.mask,ne=_.maskId,it=N.icon,Vt=j.icon,gn=ah({transform:_.transform,containerWidth:j.width,iconWidth:N.width}),Y1={tag:"rect",attributes:Sn({},hc,{fill:"white"})},U2=it.children?{children:it.children.map(J0)}:{},jr={tag:"g",attributes:Sn({},gn.inner),children:[J0(Sn({tag:it.tag,attributes:Sn({},it.attributes,gn.path)},U2))]},ns={tag:"g",attributes:Sn({},gn.outer),children:[jr]},rs="mask-".concat(ne||F5()),so="clip-".concat(ne||F5()),l4={tag:"mask",attributes:Sn({},hc,{id:rs,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[Y1,ns]},z6={tag:"defs",children:[{tag:"clipPath",attributes:{id:so},children:ig(Vt)},l4]};return S.push(z6,{tag:"rect",attributes:Sn({fill:"currentColor","clip-path":"url(#".concat(so,")"),mask:"url(#".concat(rs,")")},hc)}),{children:S,attributes:M}}(mc):function(_){var S=_.children,M=_.attributes,N=_.main,j=_.transform,Se=hl(_.styles);if(Se.length>0&&(M.style=Se),oh(j)){var Oe=ah({transform:j,containerWidth:N.width,iconWidth:N.width});S.push({tag:"g",attributes:Sn({},Oe.outer),children:[{tag:"g",attributes:Sn({},Oe.inner),children:[{tag:N.icon.tag,children:N.icon.children,attributes:Sn({},N.icon.attributes,Oe.path)}]}]})}else S.push(N.icon);return{children:S,attributes:M}}(mc),Wh=fv.attributes;return mc.children=fv.children,mc.attributes=Wh,Oe?function(_){var M=_.iconName,N=_.children,ne=_.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Sn({},_.attributes,{id:!0===ne?"".concat(_.prefix,"-").concat(mn.familyPrefix,"-").concat(M):ne}),children:N}]}]}(mc):function(_){var S=_.children,M=_.main,N=_.mask,j=_.attributes,ne=_.styles,Se=_.transform;if(oh(Se)&&M.found&&!N.found){var Wt={x:M.width/M.height/2,y:.5};j.style=hl(Sn({},ne,{"transform-origin":"".concat(Wt.x+Se.x/16,"em ").concat(Wt.y+Se.y/16,"em")}))}return[{tag:"svg",attributes:j,children:S}]}(mc)}var hh=function(S,M,N,j){var it,Wt,Vt,ne=Object.keys(S),Se=ne.length,Oe=void 0!==j?function(S,M){return function(N,j,ne,Se){return S.call(M,N,j,ne,Se)}}(M,j):M;for(void 0===N?(it=1,Vt=S[ne[0]]):(it=0,Vt=N);it<Se;it++)Vt=Oe(Vt,S[Wt=ne[it]],Wt,S);return Vt};function G5(_,S){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},N=M.skipHooks,j=void 0!==N&&N,ne=Object.keys(S).reduce(function(Se,Oe){var it=S[Oe];return it.icon?Se[it.iconName]=it.icon:Se[Oe]=it,Se},{});"function"!=typeof ro.hooks.addPack||j?ro.styles[_]=Sn({},ro.styles[_]||{},ne):ro.hooks.addPack(_,ne),"fas"===_&&G5("fa",S)}var og=ro.styles,Jv=ro.shims,xd=function(){var S=function(j){return hh(og,function(ne,Se,Oe){return ne[Oe]=hh(Se,j,{}),ne},{})};S(function(N,j,ne){return j[3]&&(N[j[3]]=ne),N}),S(function(N,j,ne){var Se=j[2];return N[ne]=ne,Se.forEach(function(Oe){N[Oe]=ne}),N});var M="far"in og;hh(Jv,function(N,j){var Se=j[1];return"far"===Se&&!M&&(Se="fas"),N[j[0]]={prefix:Se,iconName:j[2]},N},{})};function Dd(_,S,M){if(_&&_[S]&&_[S][M])return{prefix:S,iconName:M,icon:_[S][M]}}function e3(_){var S=_.tag,M=_.attributes,N=void 0===M?{}:M,j=_.children,ne=void 0===j?[]:j;return"string"==typeof _?or(_):"<".concat(S," ").concat(function(_){return Object.keys(_||{}).reduce(function(S,M){return S+"".concat(M,'="').concat(or(_[M]),'" ')},"").trim()}(N),">").concat(ne.map(e3).join(""),"</").concat(S,">")}xd();function pl(_){this.name="MissingIcon",this.message=_||"Icon unavailable",this.stack=(new Error).stack}(pl.prototype=Object.create(Error.prototype)).constructor=pl;var Z5={fill:"currentColor"},yh={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},Od=(Sn({},Z5,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Sn({},yh,{attributeName:"opacity"}));function Ch(_){var S=_[0],M=_[1],ne=Kf(_.slice(4),1)[0];return{found:!0,width:S,height:M,icon:Array.isArray(ne)?{tag:"g",attributes:{class:"".concat(mn.familyPrefix,"-").concat(A6.GROUP)},children:[{tag:"path",attributes:{class:"".concat(mn.familyPrefix,"-").concat(A6.SECONDARY),fill:"currentColor",d:ne[0]}},{tag:"path",attributes:{class:"".concat(mn.familyPrefix,"-").concat(A6.PRIMARY),fill:"currentColor",d:ne[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:ne}}}}function D6(){mn.autoAddCss&&!t3&&(function(_){if(_&&i4){var S=Br.createElement("style");S.setAttribute("type","text/css"),S.innerHTML=_;for(var M=Br.head.childNodes,N=null,j=M.length-1;j>-1;j--){var ne=M[j],Se=(ne.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(Se)>-1&&(N=ne)}Br.head.insertBefore(S,N)}}(function(){var _="fa",S=pd,M=mn.familyPrefix,N=mn.replacementClass,j='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if(M!==_||N!==S){var ne=new RegExp("\\.".concat(_,"\\-"),"g"),Se=new RegExp("\\--".concat(_,"\\-"),"g"),Oe=new RegExp("\\.".concat(S),"g");j=j.replace(ne,".".concat(M,"-")).replace(Se,"--".concat(M,"-")).replace(Oe,".".concat(N))}return j}()),t3=!0)}function Y5(_,S){return Object.defineProperty(_,"abstract",{get:S}),Object.defineProperty(_,"html",{get:function(){return _.abstract.map(function(N){return e3(N)})}}),Object.defineProperty(_,"node",{get:function(){if(i4){var N=Br.createElement("div");return N.innerHTML=_.html,N.children}}}),_}function o4(_){var S=_.prefix,M=void 0===S?"fa":S,N=_.iconName;if(N)return Dd(Eh.definitions,M,N)||Dd(ro.styles,M,N)}Sn({},Z5,{cx:"256",cy:"364",r:"28"}),Sn({},yh,{attributeName:"r",values:"28;14;28;28;14;28;"}),Sn({},Od,{values:"1;0;1;1;0;1;"}),Sn({},Z5,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Sn({},Od,{values:"1;0;0;0;0;1;"}),Sn({},Z5,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Sn({},Od,{values:"0;0;1;1;0;0;"});var _,Eh=new(function(){function _(){(function(_,S){if(!(_ instanceof S))throw new TypeError("Cannot call a class as a function")})(this,_),this.definitions={}}return function(_,S,M){S&&D5(_.prototype,S)}(_,[{key:"add",value:function(){for(var M=this,N=arguments.length,j=new Array(N),ne=0;ne<N;ne++)j[ne]=arguments[ne];var Se=j.reduce(this._pullDefinitions,{});Object.keys(Se).forEach(function(Oe){M.definitions[Oe]=Sn({},M.definitions[Oe]||{},Se[Oe]),G5(Oe,Se[Oe]),xd()})}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(M,N){var j=N.prefix&&N.iconName&&N.icon?{0:N}:N;return Object.keys(j).map(function(ne){var Se=j[ne],Oe=Se.prefix,it=Se.iconName,Wt=Se.icon;M[Oe]||(M[Oe]={}),M[Oe][it]=Wt}),M}}]),_}()),t3=!1,Q5_transform=function(S){return function(S){var M={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return S?S.toLowerCase().split(" ").reduce(function(N,j){var ne=j.toLowerCase().split("-"),Se=ne[0],Oe=ne.slice(1).join("-");if(Se&&"h"===Oe)return N.flipX=!0,N;if(Se&&"v"===Oe)return N.flipY=!0,N;if(Oe=parseFloat(Oe),isNaN(Oe))return N;switch(Se){case"grow":N.size=N.size+Oe;break;case"shrink":N.size=N.size-Oe;break;case"left":N.x=N.x-Oe;break;case"right":N.x=N.x+Oe;break;case"up":N.y=N.y-Oe;break;case"down":N.y=N.y+Oe;break;case"rotate":N.rotate=N.rotate+Oe}return N},M):M}(S)},Mh=(_=function(_){var S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},M=S.transform,N=void 0===M?Ii:M,j=S.symbol,ne=void 0!==j&&j,Se=S.mask,Oe=void 0===Se?null:Se,it=S.maskId,Wt=void 0===it?null:it,Vt=S.title,gn=void 0===Vt?null:Vt,Y1=S.titleId,U2=void 0===Y1?null:Y1,jr=S.classes,ns=void 0===jr?[]:jr,rs=S.attributes,so=void 0===rs?{}:rs,l4=S.styles,z6=void 0===l4?{}:l4;if(_){var u4=_.prefix,pc=_.iconName,mc=_.icon;return Y5(Sn({type:"icon"},_),function(){return D6(),mn.autoA11y&&(gn?so["aria-labelledby"]="".concat(mn.replacementClass,"-title-").concat(U2||F5()):(so["aria-hidden"]="true",so.focusable="false")),x6({icons:{main:Ch(mc),mask:Oe?Ch(Oe.icon):{found:!1,width:null,height:null,icon:{}}},prefix:u4,iconName:pc,transform:Sn({},Ii,N),symbol:ne,title:gn,maskId:Wt,titleId:U2,extra:{attributes:so,styles:z6,classes:ns}})})}},function(S){var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N=(S||{}).icon?S:o4(S||{}),j=M.mask;return j&&(j=(j||{}).icon?j:o4(j||{})),_(N,Sn({},M,{mask:j}))});const $d=["*"];let Tg=(()=>{class _{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null,this.globalLibrary=!1}}return _.\u0275fac=function(M){return new(M||_)},_.\u0275prov=T.Yz7({factory:function(){return new _},token:_,providedIn:"root"}),_})(),Dg=(()=>{class _{constructor(){this.definitions={}}addIcons(...M){for(const N of M)N.prefix in this.definitions||(this.definitions[N.prefix]={}),this.definitions[N.prefix][N.iconName]=N}addIconPacks(...M){for(const N of M){const j=Object.keys(N).map(ne=>N[ne]);this.addIcons(...j)}}getIconDefinition(M,N){return M in this.definitions&&N in this.definitions[M]?this.definitions[M][N]:null}}return _.\u0275fac=function(M){return new(M||_)},_.\u0275prov=T.Yz7({factory:function(){return new _},token:_,providedIn:"root"}),_})();const Lg=_=>{const S={"fa-spin":_.spin,"fa-pulse":_.pulse,"fa-fw":_.fixedWidth,"fa-border":_.border,"fa-inverse":_.inverse,"fa-layers-counter":_.counter,"fa-flip-horizontal":"horizontal"===_.flip||"both"===_.flip,"fa-flip-vertical":"vertical"===_.flip||"both"===_.flip,[`fa-${_.size}`]:null!==_.size,[`fa-rotate-${_.rotate}`]:null!==_.rotate,[`fa-pull-${_.pull}`]:null!==_.pull,[`fa-stack-${_.stackItemSize}`]:null!=_.stackItemSize};return Object.keys(S).map(M=>S[M]?M:null).filter(M=>M)};let ry=(()=>{class _{constructor(){this.stackItemSize="1x"}ngOnChanges(M){if("size"in M)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}}return _.\u0275fac=function(M){return new(M||_)},_.\u0275dir=T.lG2({type:_,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[T.TTD]}),_})(),Wd=(()=>{class _{constructor(M,N){this.renderer=M,this.elementRef=N}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(M){"size"in M&&(null!=M.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${M.size.currentValue}`),null!=M.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${M.size.previousValue}`))}}return _.\u0275fac=function(M){return new(M||_)(T.Y36(T.Qsj),T.Y36(T.SBq))},_.\u0275cmp=T.Xpm({type:_,selectors:[["fa-stack"]],inputs:{size:"size"},features:[T.TTD],ngContentSelectors:$d,decls:1,vars:0,template:function(M,N){1&M&&(T.F$t(),T.Hsn(0))},encapsulation:2}),_})(),qd=(()=>{class _{constructor(M,N,j,ne,Se){this.sanitizer=M,this.config=N,this.iconLibrary=j,this.stackItem=ne,this.classes=[],null!=Se&&null==ne&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(M){if(null==this.icon&&null==this.config.fallbackIcon)return(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})();let N=null;if(N=null==this.icon?this.config.fallbackIcon:this.icon,M){const j=this.findIconDefinition(N);if(null!=j){const ne=this.buildParams();this.renderIcon(j,ne)}}}render(){this.ngOnChanges({})}findIconDefinition(M){const N=((_,S)=>(_=>void 0!==_.prefix&&void 0!==_.iconName)(_)?_:Array.isArray(_)&&2===_.length?{prefix:_[0],iconName:_[1]}:"string"==typeof _?{prefix:S,iconName:_}:void 0)(M,this.config.defaultPrefix);if("icon"in N)return N;const j=this.iconLibrary.getIconDefinition(N.prefix,N.iconName);if(null!=j)return j;const ne=o4(N);if(null!=ne){const Se="Global icon library is deprecated. Consult https://github.com/FortAwesome/angular-fontawesome/blob/master/UPGRADING.md for the migration instructions.";if("unset"===this.config.globalLibrary)console.error("FontAwesome: "+Se);else if(!this.config.globalLibrary)throw new Error(Se);return ne}return(_=>{throw new Error(`Could not find icon with iconName=${_.iconName} and prefix=${_.prefix} in the icon library.`)})(N),null}buildParams(){const M={flip:this.flip,spin:this.spin,pulse:this.pulse,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},N="string"==typeof this.transform?Q5_transform(this.transform):this.transform;return{title:this.title,transform:N,classes:[...Lg(M),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(M,N){const j=Mh(M,N);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(j.html.join("\n"))}}return _.\u0275fac=function(M){return new(M||_)(T.Y36(ge),T.Y36(Tg),T.Y36(Dg),T.Y36(ry,8),T.Y36(Wd,8))},_.\u0275cmp=T.Xpm({type:_,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(M,N){2&M&&(T.Ikx("innerHTML",N.renderedIconHTML,T.oJD),T.uIk("title",N.title))},inputs:{classes:"classes",icon:"icon",title:"title",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",transform:"transform",a11yRole:"a11yRole"},features:[T.TTD],decls:0,vars:0,template:function(M,N){},encapsulation:2}),_})(),Rg=(()=>{class _{}return _.\u0275fac=function(M){return new(M||_)},_.\u0275mod=T.oAB({type:_}),_.\u0275inj=T.cJS({}),_})();function Vg(_,S){if(1&_){const M=T.EpF();T.TgZ(0,"a",21),T.NdJ("click",function(){return T.CHM(M),T.oxw(2).authService.logout()}),T._uU(1,"Logout"),T.qZA()}}function Pg(_,S){if(1&_){const M=T.EpF();T.TgZ(0,"a",21),T.NdJ("click",function(){return T.CHM(M),T.oxw(2).authService.login()}),T._uU(1,"Login"),T.qZA()}}function Og(_,S){if(1&_&&(T.TgZ(0,"div",15),T._UZ(1,"div"),T._UZ(2,"fa-icon",16),T.TgZ(3,"div",17),T.TgZ(4,"button",18),T._uU(5),T.qZA(),T.TgZ(6,"ul",19),T.TgZ(7,"li"),T.YNc(8,Vg,2,0,"a",20),T.qZA(),T.TgZ(9,"li"),T.YNc(10,Pg,2,0,"a",20),T.qZA(),T.qZA(),T.qZA(),T.qZA()),2&_){const M=S.ngIf,N=T.oxw();T.xp6(2),T.Q6J("icon",N.faPlus),T.xp6(3),T.hij(" ",M.displayName," "),T.xp6(3),T.Q6J("ngIf",M),T.xp6(2),T.Q6J("ngIf",!M)}}let kg=(()=>{class _{constructor(M,N){this.authService=M,this.uploadService=N,this.faPlus=P1}getFile(M){this.file=M}uploadFile(){this.file&&this.uploadService.pushFileToStorage(this.file.target.files[0])}}return _.\u0275fac=function(M){return new(M||_)(T.Y36(Gv.e),T.Y36(Hm.C))},_.\u0275cmp=T.Xpm({type:_,selectors:[["app-root"]],decls:25,vars:13,consts:[[1,"main"],["class","navbar",4,"ngIf"],["alt","",3,"src"],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["closeRef",""],[1,"modal-body"],[3,"href"],["type","file",3,"change"],[1,"modal-footer"],["type","button",1,"btn","btn-primary",3,"click"],[1,"navbar"],["data-bs-toggle","modal","data-bs-target","#exampleModal",3,"icon"],[1,"dropdown"],["type","button","id","dropdownMenuButton1","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-secondary","dropdown-toggle"],["aria-labelledby","dropdownMenuButton1",1,"dropdown-menu"],["class","dropdown-item",3,"click",4,"ngIf"],[1,"dropdown-item",3,"click"]],template:function(M,N){if(1&M){const j=T.EpF();T.TgZ(0,"div",0),T.YNc(1,Og,11,4,"div",1),T.ALo(2,"async"),T._UZ(3,"img",2),T._UZ(4,"router-outlet"),T.qZA(),T.TgZ(5,"div",3),T.TgZ(6,"div",4),T.TgZ(7,"div",5),T.TgZ(8,"div",6),T.TgZ(9,"h5",7),T._uU(10,"Upload"),T.qZA(),T._UZ(11,"button",8,9),T.qZA(),T.TgZ(13,"div",10),T.TgZ(14,"div"),T._uU(15),T.ALo(16,"async"),T.qZA(),T.TgZ(17,"a",11),T.ALo(18,"async"),T._uU(19),T.ALo(20,"async"),T.qZA(),T.TgZ(21,"input",12),T.NdJ("change",function(Se){return N.getFile(Se)}),T.qZA(),T.qZA(),T.TgZ(22,"div",13),T.TgZ(23,"button",14),T.NdJ("click",function(){T.CHM(j);const Se=T.MAs(12);return N.uploadFile(),Se.click()}),T._uU(24,"Done"),T.qZA(),T.qZA(),T.qZA(),T.qZA(),T.qZA()}2&M&&(T.xp6(1),T.Q6J("ngIf",T.lcZ(2,5,N.authService.auth.user)),T.xp6(2),T.Q6J("src",N.downloadedFile,T.LSH),T.xp6(12),T.Oqu(T.lcZ(16,7,N.uploadPercent)),T.xp6(2),T.Q6J("href",T.lcZ(18,9,N.downloadURL),T.LSH),T.xp6(2),T.Oqu(T.lcZ(20,11,N.downloadURL)))},directives:[D.O5,x1.lC,qd],pipes:[D.Ov],styles:[".main[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]{padding:10px;height:70px;width:100%;background-color:#f0f8ff;display:flex;justify-content:space-between;align-items:center}.main[_ngcontent-%COMP%]   .navbar[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{cursor:pointer}"]}),_})();var Ah=U(6215),N6=U(8891),Qd=U(9765),Jd=U(7771),Xd=U(309),ep=U(5197),tp=U(509);class Hg{constructor(S,M){this.observables=S,this.project=M}call(S,M){return M.subscribe(new rp(S,this.observables,this.project))}}class rp extends ep.L{constructor(S,M,N){super(S),this.observables=M,this.project=N,this.toRespond=[];const j=M.length;this.values=new Array(j);for(let ne=0;ne<j;ne++)this.toRespond.push(ne);for(let ne=0;ne<j;ne++)this.add((0,tp.D)(this,M[ne],void 0,ne))}notifyNext(S,M,N){this.values[N]=M;const j=this.toRespond;if(j.length>0){const ne=j.indexOf(N);-1!==ne&&j.splice(ne,1)}}notifyComplete(){}_next(S){if(0===this.toRespond.length){const M=[S,...this.values];this.project?this._tryProject(M):this.destination.next(M)}}_tryProject(S){let M;try{M=this.project.apply(this,S)}catch(N){return void this.destination.error(N)}this.destination.next(M)}}var Fg=U(2145),jg=U(7519);const a4={},gl="@ngrx/store/init";let r3=(()=>{class _ extends Ah.X{constructor(){super({type:gl})}next(M){if("function"==typeof M)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===M)throw new TypeError("Actions must be objects");if(void 0===M.type)throw new TypeError("Actions must have a type property");super.next(M)}complete(){}ngOnDestroy(){super.complete()}}return _.\u0275fac=function(M){return new(M||_)},_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac}),_})();const $g=[r3],Gg=new T.OlP("@ngrx/store Internal Root Guard"),X5=new T.OlP("@ngrx/store Internal Initial State"),vl=new T.OlP("@ngrx/store Initial State"),xh=new T.OlP("@ngrx/store Reducer Factory"),e7=new T.OlP("@ngrx/store Internal Reducer Factory Provider"),t7=new T.OlP("@ngrx/store Initial Reducers"),Th=new T.OlP("@ngrx/store Internal Initial Reducers"),sp=new T.OlP("@ngrx/store Store Features"),op=new T.OlP("@ngrx/store Internal Store Reducers"),Dh=new T.OlP("@ngrx/store Internal Feature Reducers"),Nh=new T.OlP("@ngrx/store Internal Feature Configs"),n7=new T.OlP("@ngrx/store Internal Store Features"),Lh=new T.OlP("@ngrx/store Internal Feature Reducers Token"),ap=new T.OlP("@ngrx/store Feature Reducers"),zh=new T.OlP("@ngrx/store User Provided Meta Reducers"),yl=new T.OlP("@ngrx/store Meta Reducers"),cp=new T.OlP("@ngrx/store Internal Resolved Meta Reducers"),Rh=new T.OlP("@ngrx/store User Runtime Checks Config"),Vh=new T.OlP("@ngrx/store Internal User Runtime Checks Config"),_l=new T.OlP("@ngrx/store Internal Runtime Checks"),r7=new T.OlP("@ngrx/store Check if Action types are unique");function i7(_,S={}){const M=Object.keys(_),N={};for(let ne=0;ne<M.length;ne++){const Se=M[ne];"function"==typeof _[Se]&&(N[Se]=_[Se])}const j=Object.keys(N);return function(Se,Oe){Se=void 0===Se?S:Se;let it=!1;const Wt={};for(let Vt=0;Vt<j.length;Vt++){const gn=j[Vt],U2=Se[gn],jr=(0,N[gn])(U2,Oe);Wt[gn]=jr,it=it||jr!==U2}return it?Wt:Se}}function ri(..._){return function(S){if(0===_.length)return S;const M=_[_.length-1];return _.slice(0,-1).reduceRight((j,ne)=>ne(j),M(S))}}function L6(_,S){return Array.isArray(S)&&S.length>0&&(_=ri.apply(null,[...S,_])),(M,N)=>{const j=_(M);return(ne,Se)=>j(ne=void 0===ne?N:ne,Se)}}class Ph extends N6.y{}class qg extends r3{}let s7=(()=>{class _ extends Ah.X{constructor(M,N,j,ne){super(ne(j,N)),this.dispatcher=M,this.initialState=N,this.reducers=j,this.reducerFactory=ne}get currentReducers(){return this.reducers}addFeature(M){this.addFeatures([M])}addFeatures(M){const N=M.reduce((j,{reducers:ne,reducerFactory:Se,metaReducers:Oe,initialState:it,key:Wt})=>{const Vt="function"==typeof ne?function(_){const S=Array.isArray(_)&&_.length>0?ri(..._):M=>M;return(M,N)=>(M=S(M),(j,ne)=>M(j=void 0===j?N:j,ne))}(Oe)(ne,it):L6(Se,Oe)(ne,it);return j[Wt]=Vt,j},{});this.addReducers(N)}removeFeature(M){this.removeFeatures([M])}removeFeatures(M){this.removeReducers(M.map(N=>N.key))}addReducer(M,N){this.addReducers({[M]:N})}addReducers(M){this.reducers=Object.assign(Object.assign({},this.reducers),M),this.updateReducers(Object.keys(M))}removeReducer(M){this.removeReducers([M])}removeReducers(M){M.forEach(N=>{this.reducers=function(_,S){return Object.keys(_).filter(M=>M!==S).reduce((M,N)=>Object.assign(M,{[N]:_[N]}),{})}(this.reducers,N)}),this.updateReducers(M)}updateReducers(M){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:"@ngrx/store/update-reducers",features:M})}ngOnDestroy(){this.complete()}}return _.\u0275fac=function(M){return new(M||_)(T.LFG(qg),T.LFG(vl),T.LFG(t7),T.LFG(xh))},_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac}),_})();const Oh=[s7,{provide:Ph,useExisting:s7},{provide:qg,useExisting:r3}];let kh=(()=>{class _ extends Qd.xQ{ngOnDestroy(){this.complete()}}return _.\u0275fac=function(){let S;return function(N){return(S||(S=T.n5z(_)))(N||_)}}(),_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac}),_})();const lp=[kh];class up extends N6.y{}let fp=(()=>{class _ extends Ah.X{constructor(M,N,j,ne){super(ne);const Wt=M.pipe((0,Xd.QV)(Jd.N)).pipe(function(..._){return S=>{let M;return"function"==typeof _[_.length-1]&&(M=_.pop()),S.lift(new Hg(_,M))}}(N)).pipe((0,Fg.R)(Hh,{state:ne}));this.stateSubscription=Wt.subscribe(({state:Vt,action:gn})=>{this.next(Vt),j.next(gn)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return _.\u0275fac=function(M){return new(M||_)(T.LFG(r3),T.LFG(Ph),T.LFG(kh),T.LFG(vl))},_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac}),_.INIT=gl,_})();function Hh(_={state:void 0},[S,M]){const{state:N}=_;return{state:M(N,S),action:S}}const hp=[fp,{provide:up,useExisting:fp}];let o7=(()=>{class _ extends N6.y{constructor(M,N,j){super(),this.actionsObserver=N,this.reducerManager=j,this.source=M}select(M,...N){return Fh.call(null,M,...N)(this)}lift(M){const N=new _(this,this.actionsObserver,this.reducerManager);return N.operator=M,N}dispatch(M){this.actionsObserver.next(M)}next(M){this.actionsObserver.next(M)}error(M){this.actionsObserver.error(M)}complete(){this.actionsObserver.complete()}addReducer(M,N){this.reducerManager.addReducer(M,N)}removeReducer(M){this.reducerManager.removeReducer(M)}}return _.\u0275fac=function(M){return new(M||_)(T.LFG(up),T.LFG(r3),T.LFG(s7))},_.\u0275prov=T.Yz7({token:_,factory:_.\u0275fac}),_})();const a7=[o7];function Fh(_,S,...M){return function(j){let ne;if("string"==typeof _){const Se=[S,...M].filter(Boolean);ne=j.pipe(function(..._){const S=_.length;if(0===S)throw new Error("list of properties cannot be empty.");return M=>(0,mr.U)(function(_,S){return N=>{let j=N;for(let ne=0;ne<S;ne++){const Se=null!=j?j[_[ne]]:void 0;if(void 0===Se)return;j=Se}return j}}(_,S))(M)}(_,...Se))}else{if("function"!=typeof _)throw new TypeError(`Unexpected type '${typeof _}' in select operator, expected 'string' or 'function'`);ne=j.pipe((0,mr.U)(Se=>_(Se,S)))}return ne.pipe((0,jg.x)())}}const c7="https://ngrx.io/guide/store/configuration/runtime-checks";function dp(_){return void 0===_}function Uh(_){return null===_}function bl(_){return Array.isArray(_)}function l7(_){return"object"==typeof _&&null!==_}function u7(_){return"function"==typeof _}function Mp(_){Object.freeze(_);const S=u7(_);return Object.getOwnPropertyNames(_).forEach(M=>{if(!M.startsWith("\u0275")&&function(_,S){return Object.prototype.hasOwnProperty.call(_,S)}(_,M)&&(!S||"caller"!==M&&"callee"!==M&&"arguments"!==M)){const N=_[M];(l7(N)||u7(N))&&!Object.isFrozen(N)&&Mp(N)}}),_}function Ip(_,S=[]){return(dp(_)||Uh(_))&&0===S.length?{path:["root"],value:_}:Object.keys(_).reduce((N,j)=>{if(N)return N;const ne=_[j];return function(_){return u7(_)&&_.hasOwnProperty("\u0275cmp")}(ne)?N:!(dp(ne)||Uh(ne)||function(_){return"number"==typeof _}(ne)||function(_){return"boolean"==typeof _}(ne)||function(_){return"string"==typeof _}(ne)||bl(ne))&&(function(_){if(!function(_){return l7(_)&&!bl(_)}(_))return!1;const S=Object.getPrototypeOf(_);return S===Object.prototype||null===S}(ne)?Ip(ne,[...S,j]):{path:[...S,j],value:ne})},!1)}function nv(_,S){if(!1===_)return;const M=_.path.join("."),N=new Error(`Detected unserializable ${S} at "${M}". ${c7}#strict${S}serializability`);throw N.value=_.value,N.unserializablePath=M,N}function fy(_){return(0,T.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},_):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function hy({strictActionSerializability:_,strictStateSerializability:S}){return M=>_||S?function(_,S){return function(M,N){S.action(N)&&nv(Ip(N),"action");const j=_(M,N);return S.state()&&nv(Ip(j),"state"),j}}(M,{action:N=>_&&!Ap(N),state:()=>S}):M}function dy({strictActionImmutability:_,strictStateImmutability:S}){return M=>_||S?function(_,S){return function(M,N){const j=S.action(N)?Mp(N):N,ne=_(M,j);return S.state()?Mp(ne):ne}}(M,{action:N=>_&&!Ap(N),state:()=>S}):M}function Ap(_){return _.type.startsWith("@ngrx")}function py({strictActionWithinNgZone:_}){return S=>_?function(_,S){return function(M,N){if(S.action(N)&&!T.R0b.isInAngularZone())throw new Error(`Action '${N.type}' running outside NgZone. ${c7}#strictactionwithinngzone`);return _(M,N)}}(S,{action:M=>_&&!Ap(M)}):S}function my(_){return[{provide:Vh,useValue:_},{provide:Rh,useFactory:gy,deps:[Vh]},{provide:_l,deps:[Rh],useFactory:fy},{provide:yl,multi:!0,deps:[_l],useFactory:dy},{provide:yl,multi:!0,deps:[_l],useFactory:hy},{provide:yl,multi:!0,deps:[_l],useFactory:py}]}function rv(){return[{provide:r7,multi:!0,deps:[_l],useFactory:vy}]}function gy(_){return _}function vy(_){if(!_.strictActionTypeUniqueness)return;const S=Object.entries(a4).filter(([,M])=>M>1).map(([M])=>M);if(S.length)throw new Error(`Action types are registered more than once, ${S.map(M=>`"${M}"`).join(", ")}. ${c7}#strictactiontypeuniqueness`)}let iv=(()=>{class _{constructor(M,N,j,ne,Se,Oe){}}return _.\u0275fac=function(M){return new(M||_)(T.LFG(r3),T.LFG(Ph),T.LFG(kh),T.LFG(o7),T.LFG(Gg,8),T.LFG(r7,8))},_.\u0275mod=T.oAB({type:_}),_.\u0275inj=T.cJS({}),_})(),yy=(()=>{class _{constructor(M,N,j,ne,Se){this.features=M,this.featureReducers=N,this.reducerManager=j;const Oe=M.map((it,Wt)=>{const gn=N.shift()[Wt];return Object.assign(Object.assign({},it),{reducers:gn,initialState:cv(it.initialState)})});j.addFeatures(Oe)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return _.\u0275fac=function(M){return new(M||_)(T.LFG(n7),T.LFG(ap),T.LFG(s7),T.LFG(iv),T.LFG(r7,8))},_.\u0275mod=T.oAB({type:_}),_.\u0275inj=T.cJS({}),_})(),_y=(()=>{class _{static forRoot(M,N={}){return{ngModule:iv,providers:[{provide:Gg,useFactory:by,deps:[[o7,new T.FiY,new T.tp0]]},{provide:X5,useValue:N.initialState},{provide:vl,useFactory:cv,deps:[X5]},{provide:Th,useValue:M},{provide:op,useExisting:M instanceof T.OlP?M:Th},{provide:t7,deps:[T.zs3,Th,[new T.tBr(op)]],useFactory:sv},{provide:zh,useValue:N.metaReducers?N.metaReducers:[]},{provide:cp,deps:[yl,zh],useFactory:Cy},{provide:e7,useValue:N.reducerFactory?N.reducerFactory:i7},{provide:xh,deps:[e7,cp],useFactory:L6},$g,Oh,lp,hp,a7,my(N.runtimeChecks),rv()]}}static forFeature(M,N,j={}){return{ngModule:yy,providers:[{provide:Nh,multi:!0,useValue:M instanceof Object?{}:j},{provide:sp,multi:!0,useValue:{key:M instanceof Object?M.name:M,reducerFactory:j instanceof T.OlP||!j.reducerFactory?i7:j.reducerFactory,metaReducers:j instanceof T.OlP||!j.metaReducers?[]:j.metaReducers,initialState:j instanceof T.OlP||!j.initialState?void 0:j.initialState}},{provide:n7,deps:[T.zs3,Nh,sp],useFactory:ov},{provide:Dh,multi:!0,useValue:M instanceof Object?M.reducer:N},{provide:Lh,multi:!0,useExisting:N instanceof T.OlP?N:Dh},{provide:ap,multi:!0,deps:[T.zs3,Dh,[new T.tBr(Lh)]],useFactory:av},rv()]}}}return _.\u0275fac=function(M){return new(M||_)},_.\u0275mod=T.oAB({type:_}),_.\u0275inj=T.cJS({}),_})();function sv(_,S){return S instanceof T.OlP?_.get(S):S}function ov(_,S,M){return M.map((N,j)=>{if(S[j]instanceof T.OlP){const ne=_.get(S[j]);return{key:N.key,reducerFactory:ne.reducerFactory?ne.reducerFactory:i7,metaReducers:ne.metaReducers?ne.metaReducers:[],initialState:ne.initialState}}return N})}function av(_,S){return S.map(N=>N instanceof T.OlP?_.get(N):N)}function cv(_){return"function"==typeof _?_():_}function Cy(_,S){return _.concat(S)}function by(_){if(_)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}var lv=U(2154),My=U(7037),Iy=U(6824);const uv_firebaseKey={apiKey:"AIzaSyCCtfNCgfLLFC8PltafWcO-lsEkLHwgdno",authDomain:"ss-gallery-sscs.firebaseapp.com",projectId:"ss-gallery-sscs",storageBucket:"ss-gallery-sscs.appspot.com",messagingSenderId:"952821199324",appId:"1:952821199324:web:328357e0fa8f4f6b979f19",measurementId:"G-HZ8JCM9SRT"};let Ay=(()=>{class _{}return _.\u0275fac=function(M){return new(M||_)},_.\u0275mod=T.oAB({type:_,bootstrap:[kg]}),_.\u0275inj=T.cJS({providers:[],imports:[[b2,Pn,Rg,_y.forRoot({},{}),lv.hO.initializeApp(uv_firebaseKey),My.yb,Iy.TE]]}),_})();(0,T.G48)(),ar().bootstrapModule(Ay).catch(_=>console.error(_))},4762:(yt,He,U)=>{"use strict";U.d(He,{ZT:()=>T,pi:()=>Le,_T:()=>re,mG:()=>me,Jh:()=>ae,XA:()=>ce,CR:()=>ee,ev:()=>ve});var D=function(ke,Fe){return(D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ye,Ue){ye.__proto__=Ue}||function(ye,Ue){for(var Ae in Ue)Object.prototype.hasOwnProperty.call(Ue,Ae)&&(ye[Ae]=Ue[Ae])})(ke,Fe)};function T(ke,Fe){if("function"!=typeof Fe&&null!==Fe)throw new TypeError("Class extends value "+String(Fe)+" is not a constructor or null");function ye(){this.constructor=ke}D(ke,Fe),ke.prototype=null===Fe?Object.create(Fe):(ye.prototype=Fe.prototype,new ye)}var Le=function(){return(Le=Object.assign||function(Fe){for(var ye,Ue=1,Ae=arguments.length;Ue<Ae;Ue++)for(var Ne in ye=arguments[Ue])Object.prototype.hasOwnProperty.call(ye,Ne)&&(Fe[Ne]=ye[Ne]);return Fe}).apply(this,arguments)};function re(ke,Fe){var ye={};for(var Ue in ke)Object.prototype.hasOwnProperty.call(ke,Ue)&&Fe.indexOf(Ue)<0&&(ye[Ue]=ke[Ue]);if(null!=ke&&"function"==typeof Object.getOwnPropertySymbols){var Ae=0;for(Ue=Object.getOwnPropertySymbols(ke);Ae<Ue.length;Ae++)Fe.indexOf(Ue[Ae])<0&&Object.prototype.propertyIsEnumerable.call(ke,Ue[Ae])&&(ye[Ue[Ae]]=ke[Ue[Ae]])}return ye}function me(ke,Fe,ye,Ue){return new(ye||(ye=Promise))(function(Ne,lt){function _t(kt){try{at(Ue.next(kt))}catch(tn){lt(tn)}}function vt(kt){try{at(Ue.throw(kt))}catch(tn){lt(tn)}}function at(kt){kt.done?Ne(kt.value):function(Ne){return Ne instanceof ye?Ne:new ye(function(lt){lt(Ne)})}(kt.value).then(_t,vt)}at((Ue=Ue.apply(ke,Fe||[])).next())})}function ae(ke,Fe){var Ue,Ae,Ne,lt,ye={label:0,sent:function(){if(1&Ne[0])throw Ne[1];return Ne[1]},trys:[],ops:[]};return lt={next:_t(0),throw:_t(1),return:_t(2)},"function"==typeof Symbol&&(lt[Symbol.iterator]=function(){return this}),lt;function _t(at){return function(kt){return function(at){if(Ue)throw new TypeError("Generator is already executing.");for(;ye;)try{if(Ue=1,Ae&&(Ne=2&at[0]?Ae.return:at[0]?Ae.throw||((Ne=Ae.return)&&Ne.call(Ae),0):Ae.next)&&!(Ne=Ne.call(Ae,at[1])).done)return Ne;switch(Ae=0,Ne&&(at=[2&at[0],Ne.value]),at[0]){case 0:case 1:Ne=at;break;case 4:return ye.label++,{value:at[1],done:!1};case 5:ye.label++,Ae=at[1],at=[0];continue;case 7:at=ye.ops.pop(),ye.trys.pop();continue;default:if(!(Ne=(Ne=ye.trys).length>0&&Ne[Ne.length-1])&&(6===at[0]||2===at[0])){ye=0;continue}if(3===at[0]&&(!Ne||at[1]>Ne[0]&&at[1]<Ne[3])){ye.label=at[1];break}if(6===at[0]&&ye.label<Ne[1]){ye.label=Ne[1],Ne=at;break}if(Ne&&ye.label<Ne[2]){ye.label=Ne[2],ye.ops.push(at);break}Ne[2]&&ye.ops.pop(),ye.trys.pop();continue}at=Fe.call(ke,ye)}catch(kt){at=[6,kt],Ae=0}finally{Ue=Ne=0}if(5&at[0])throw at[1];return{value:at[0]?at[1]:void 0,done:!0}}([at,kt])}}}function ce(ke){var Fe="function"==typeof Symbol&&Symbol.iterator,ye=Fe&&ke[Fe],Ue=0;if(ye)return ye.call(ke);if(ke&&"number"==typeof ke.length)return{next:function(){return ke&&Ue>=ke.length&&(ke=void 0),{value:ke&&ke[Ue++],done:!ke}}};throw new TypeError(Fe?"Object is not iterable.":"Symbol.iterator is not defined.")}function ee(ke,Fe){var ye="function"==typeof Symbol&&ke[Symbol.iterator];if(!ye)return ke;var Ae,lt,Ue=ye.call(ke),Ne=[];try{for(;(void 0===Fe||Fe-- >0)&&!(Ae=Ue.next()).done;)Ne.push(Ae.value)}catch(_t){lt={error:_t}}finally{try{Ae&&!Ae.done&&(ye=Ue.return)&&ye.call(Ue)}finally{if(lt)throw lt.error}}return Ne}function ve(ke,Fe,ye){if(ye||2===arguments.length)for(var Ne,Ue=0,Ae=Fe.length;Ue<Ae;Ue++)(Ne||!(Ue in Fe))&&(Ne||(Ne=Array.prototype.slice.call(Fe,0,Ue)),Ne[Ue]=Fe[Ue]);return ke.concat(Ne||Array.prototype.slice.call(Fe))}},8239:(yt,He,U)=>{"use strict";function D(Le,re,De,le,xe,me,ae){try{var Q=Le[me](ae),J=Q.value}catch(ce){return void De(ce)}Q.done?re(J):Promise.resolve(J).then(le,xe)}function T(Le){return function(){var re=this,De=arguments;return new Promise(function(le,xe){var me=Le.apply(re,De);function ae(J){D(me,le,xe,ae,Q,"next",J)}function Q(J){D(me,le,xe,ae,Q,"throw",J)}ae(void 0)})}}U.d(He,{Z:()=>T})}},yt=>{yt(yt.s=1182)}]);